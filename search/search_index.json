{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u4e00\u70b9\u7b14\u8bb0","text":"<p>\u4f5c\u7528\uff1a\u8bb0\u5f55\u4e00\u4e9b\u5de5\u4f5c\u4e2d\u7528\u5230\u7684\u5de5\u5177\u548c\u7b97\u6cd5\u77e5\u8bc6\uff0c\u65b9\u4fbf\u67e5\u627e\u56de\u987e</p> <ul> <li> <p>Github:morning-hao (github.com)</p> </li> <li> <p>\u4e2a\u4eba\u7f51\u7ad9:easyAIGC</p> </li> </ul>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/","title":"cmd\u6307\u4ee4","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#_1","title":"cmd\u6307\u4ee4","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#_2","title":"\u4e00\u3001\u6587\u4ef6\u64cd\u4f5c","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#1","title":"1.\u590d\u5236\u6574\u4e2a\u6587\u4ef6\u5939","text":"<pre><code># \u6307\u4ee4\ncp -r ./source_folder/ ./target_folder/\n\n# \u6e90\u6587\u4ef6\u5939\u91cc\u9762\u5185\u5bb9\n./source_folder/1.py\n./source_folder/2.md\n./source_folder/Dockefile\n\n# \u590d\u5236\u540e\u76ee\u6807\u6587\u4ef6\u5939\u591a\u4e00\u4e2a\u5b50\u6587\u4ef6\u5939\n./target_folder/source_folder/*\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#2targz","title":"2.\u538b\u7f29\u89e3\u538btar.gz","text":"<pre><code># \u538b\u7f29\u6587\u4ef6\u5939\ntar -zcvf name.tar.gz (--exclude=source_folder/XX --exclude=source_folder/XX2) source_folder/\n\n-z\u662f\u4f7f\u7528gzip\u6765\u89e3\u538b\u6216\u8005\u538b\u7f29\u6587\u4ef6\n-c\u662f\u91ca\u653e\u6587\u4ef6\uff0c\u6216\u8005\u8bf4\u53eb\u89e3\u538b\u6587\u4ef6\n-v\u662f\u62a5\u544a\u6587\u4ef6\u8be6\u60c5\u4fe1\u606f\uff0c\u5982\u679c\u4e0d\u52a0\u8fd9\u4e00\u6761\u7684\u8bdd\uff0c\u5c31\u4e0d\u4f1a\u4e00\u76f4\u6eda\u52a8\u7684\u4fe1\u606f\u6761\u4e86\uff0c\u5efa\u8bae\u52a0\u4e0a\uff0c\u5982\u679c\u51fa\u4e86\u9519\u8fd8\u662f\u4f1a\u66f4\u52a0\u76f4\u89c2\u7684\u770b\u51fa\u6765\u662f\u4ec0\u4e48\u539f\u56e0\n-f\u662f\u6307\u5b9a\u540d\u5b57 \u540e\u7eed\u8ddf\u7684\u662f\u8981\u89e3\u538b\u7684\u6587\u4ef6\u540d\n--exclude\u540e\u9762\u7684\u6587\u4ef6\u5939\u8def\u5f84\u4e0d\u4ee5\u53cd\u659c\u6760\u7ed3\u5c3e\uff0c\u4e0d\u7136\u65e0\u6548\u53bb\u9664\n# \u89e3\u538b\ntar -zxvf name.tar.gz -C ./target_folder/\n-z\u662f\u4f7f\u7528gzip\u6765\u89e3\u538b\u6216\u8005\u538b\u7f29\u6587\u4ef6\n-x\u662f\u91ca\u653e\u6587\u4ef6\uff0c\u6216\u8005\u8bf4\u53eb\u89e3\u538b\u6587\u4ef6\n-v\u662f\u62a5\u544a\u6587\u4ef6\u8be6\u60c5\u4fe1\u606f\uff0c\u5982\u679c\u4e0d\u52a0\u8fd9\u4e00\u6761\u7684\u8bdd\uff0c\u5c31\u4e0d\u4f1a\u4e00\u76f4\u6eda\u52a8\u7684\u4fe1\u606f\u6761\u4e86\uff0c\u5efa\u8bae\u52a0\u4e0a\uff0c\u5982\u679c\u51fa\u4e86\u9519\u8fd8\u662f\u4f1a\u66f4\u52a0\u76f4\u89c2\u7684\u770b\u51fa\u6765\u662f\u4ec0\u4e48\u539f\u56e0\n-f\u662f\u6307\u5b9a\u540d\u5b57 \u540e\u7eed\u8ddf\u7684\u662f\u8981\u89e3\u538b\u7684\u6587\u4ef6\u540d\n-C\u662f\u6307\u5b9a\u76ee\u5f55\uff0c\u540e\u7eed\u8ddf\u7684\u4e5f\u5c31\u662f\u76ee\u6807\u76ee\u5f55\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#3zip","title":"3.zip\u89e3\u538b\u538b\u7f29","text":"<pre><code> # \u538b\u7f29\u6587\u4ef6\u5939\nzip -r dir1.zip dir1/\n\n # \u89e3\u538b\nunzip -d /target_path/ name.zip\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#_3","title":"\u4e8c\u3001\u78c1\u76d8\u5360\u7528\u67e5\u770b","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#1_1","title":"1.\u6587\u4ef6/\u6587\u4ef6\u5939\u5360\u7528\u67e5\u770b","text":"<pre><code>ls -lh\n# \u793a\u4f8b\ntotal 68K\n-rw-r--r-- 1 root root 2.4K Jan  5 22:48 XX1\n-rw-r--r-- 1 root root  12K Jan  5 22:48 XX2\n-rw-r--r-- 1 root root  111 Jan  5 22:48 XX3\n\ndu -sh *\n\n# \u793a\u4f8b\n280M    XX1\n2.4M    XX2\n1.4M    XX3\n55M     XX4\n34M     XX5\n2.5G    XX6\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#2","title":"2.\u7cfb\u7edf\u78c1\u76d8\u5360\u7528\u67e5\u770b","text":"<pre><code>df -lh\n\n# \u793a\u4f8b\nFilesystem                   Size  Used Avail Use% Mounted on\noverlay                      3.6T  2.5T  965G  73% /\ntmpfs                         64M     0   64M   0% /dev\ntmpfs                         56G     0   56G   0% /sys/fs/cgroup\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#gpu","title":"\u4e09\u3001\u6307\u5b9aGPU","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#1gpu","title":"1.\u547d\u4ee4\u884c\u6307\u5b9aGPU","text":"<pre><code># \u53ea\u7528CPU\nCUDA_VISIBLE_DEVICES=-1 python train.py\n# \u5355GPU\nCUDA_VISIBLE_DEVICES=2 python train.py\n# \u591aGPU\nCUDA_VISIBLE_DEVICES=2,3,4 python train.py\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#2gpu","title":"2.\u7a0b\u5e8f\u4e2d\u6307\u5b9aGPU","text":"<pre><code>import os \n# \u53ea\u7528CPU\nos.environ['CUDA_VISIBLE_DEVICES'] = \"-1\"\n# \u5355\u4e2aGPU\nos.environ['CUDA_VISIBLE_DEVICES'] = \"1\"\n# \u591a\u4e2aGPU\nos.environ['CUDA_VISIBLE_DEVICES'] = \"0,1\"  #\uff08\u4ee3\u8868\u4ec5\u4f7f\u7528\u7b2c0\uff0c1\u53f7GPU\uff09\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/cmd%E6%8C%87%E4%BB%A4/#nvidia-smi","title":"\u56db\u3001nvidia-smi\u5237\u65b0","text":"<pre><code>## \u9694\u4e00\u79d2\u5237\u65b0\n# linux\nwatch -n 1 -d nvidia=smi\n# win10\nnvidia-smi -l 1\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/conda/","title":"conda","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/conda/#_1","title":"conda","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/conda/#_2","title":"\u4e00\u3001\u521b\u5efa\u73af\u5883","text":"<ol> <li> <p>\u6a21\u677f:<code>conda create -n env_name python=X.X</code></p> </li> <li> <p>\u793a\u4f8b:<code>conda create -n hpn python=3.8</code></p> </li> <li> <p>\u4f5c\u7528:\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\u540d\u4e3a<code>hpn</code>\uff0cpython\u7248\u672c\u4e3a3.8</p> </li> </ol>"},{"location":"Linux%E5%B7%A5%E5%85%B7/conda/#_3","title":"\u4e8c\u3001\u6fc0\u6d3b(\u8fdb\u5165)\u73af\u5883","text":"<ol> <li> <p>\u6a21\u677f:<code>conda activate env_name</code></p> </li> <li> <p>\u793a\u4f8b:<code>conda activate hpn</code></p> </li> <li> <p>\u4f5c\u7528:\u6fc0\u6d3b\u540d\u4e3a<code>hpn</code>\u7684\u73af\u5883</p> </li> </ol>"},{"location":"Linux%E5%B7%A5%E5%85%B7/conda/#_4","title":"\u4e09\u3001\u9000\u51fa\u73af\u5883","text":"<ol> <li> <p>\u6307\u4ee4:<code>conda deactivate</code></p> </li> <li> <p>\u4f5c\u7528:\u9000\u51fa\u540d\u4e3a<code>hpn</code>\u7684\u73af\u5883</p> </li> </ol>"},{"location":"Linux%E5%B7%A5%E5%85%B7/conda/#_5","title":"\u56db\u3001\u5220\u9664\u73af\u5883","text":"<ol> <li> <p>\u6a21\u677f:<code>conda remove -n env_name --all</code></p> </li> <li> <p>\u793a\u4f8b:<code>conda remove -n hpn --all</code></p> </li> <li> <p>\u4f5c\u7528:\u5220\u9664\u540d\u4e3a<code>hpn</code>\u7684\u73af\u5883</p> </li> </ol>"},{"location":"Linux%E5%B7%A5%E5%85%B7/conda/#_6","title":"\u4e94\u3001\u67e5\u770b\u73b0\u6709\u73af\u5883","text":"<ol> <li>\u6307\u4ee4:<code>conda env list</code></li> </ol>"},{"location":"Linux%E5%B7%A5%E5%85%B7/pipreqs%E7%94%9F%E6%88%90requirements.txt%E6%96%87%E4%BB%B6/","title":"\u751f\u6210reqxx.txt","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/pipreqs%E7%94%9F%E6%88%90requirements.txt%E6%96%87%E4%BB%B6/#_1","title":"\u751f\u6210reqxx.txt","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/pipreqs%E7%94%9F%E6%88%90requirements.txt%E6%96%87%E4%BB%B6/#pipreqsrequirementstxt","title":"pipreqs\u751f\u6210requirements.txt\u6587\u4ef6","text":"<p>GitHub\u4ed3\u5e93\uff1ahttps://github.com/bndr/pipreqs</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/pipreqs%E7%94%9F%E6%88%90requirements.txt%E6%96%87%E4%BB%B6/#pipreqs","title":"\u4e00. \u5b89\u88c5pipreqs","text":"<pre><code>pip install pipreqs\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/pipreqs%E7%94%9F%E6%88%90requirements.txt%E6%96%87%E4%BB%B6/#requirementstxt","title":"\u4e8c. \u751f\u6210requirements.txt\u6587\u4ef6","text":"<p>\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u751f\u6210<code>requirements.txt</code>\u6587\u4ef6\uff1a</p> <pre><code>pipreqs . --encoding=utf8 --force\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/pipreqs%E7%94%9F%E6%88%90requirements.txt%E6%96%87%E4%BB%B6/#_2","title":"\u4e09.\u793a\u4f8b","text":"<p>\u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u9879\u76ee\u76ee\u5f55\uff0c\u9879\u76ee\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>my_project/\n\u2502\n\u251c\u2500\u2500 main.py\n\u2514\u2500\u2500 utils.py\n</code></pre> <p>\u5728<code>main.py</code>\u548c<code>utils.py</code>\u4e2d\uff0c\u4f60\u4f7f\u7528\u4e86<code>requests</code>\u548c<code>pandas</code>\u8fd9\u4e24\u4e2a\u5e93\u3002\u6b64\u65f6\uff0c\u4f60\u53ef\u4ee5\u6253\u5f00\u7ec8\u7aef\uff0c\u8fdb\u5165<code>my_project</code>\u76ee\u5f55\uff0c\u5e76\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4(pipreqs . --encoding=utf8 --force)\u3002\u751f\u6210\u7684<code>requirements.txt</code>\u6587\u4ef6\u5185\u5bb9\u53ef\u80fd\u5982\u4e0b\uff1a</p> <pre><code>requests==2.26.0\npandas==1.3.3\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <ul> <li><code>--encoding=utf8</code>\u8868\u793a\u4f7f\u7528utf8\u7f16\u7801\uff0c\u907f\u514d\u51fa\u73b0<code>UnicodeDecodeError: 'gbk'\u8fd9\u6837\u7684</code>\u9519\u8bef\u3002</li> <li><code>--force</code>\u8868\u793a\u5f3a\u5236\u6267\u884c\uff0c\u5982\u679c\u5f53\u524d\u76ee\u5f55\u4e0b\u5df2\u5b58\u5728<code>requirements.txt</code>\u6587\u4ef6\uff0c\u5c06\u8986\u76d6\u539f\u6587\u4ef6\u3002</li> </ul>"},{"location":"Linux%E5%B7%A5%E5%85%B7/screen/","title":"screen","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/screen/#_1","title":"screen","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/screen/#screen","title":"\u4e00\u3001\u5b89\u88c5<code>screen</code>","text":"<pre><code>sudo apt-get install screen\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/screen/#_2","title":"\u4e8c\u3001\u57fa\u672c\u64cd\u4f5c","text":"<ul> <li>\u5217\u51fa\u6240\u6709\u4f1a\u8bdd\uff1a</li> </ul> <pre><code>screen -ls\n</code></pre> <ul> <li>\u6062\u590d\u4f1a\u8bdd\uff1a</li> </ul> <pre><code>screen -r [\u4f1a\u8bddID]\n</code></pre> <ul> <li>\u65b0\u5efa\u547d\u540d\u4f1a\u8bdd\uff1a</li> </ul> <pre><code>screen -S [\u4f1a\u8bdd\u540d\u79f0]\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/screen/#_3","title":"\u4e09\u3001\u5feb\u6377\u952e","text":"<ul> <li>\u5206\u79bb\u5f53\u524d\u4f1a\u8bdd\uff1a<code>Ctrl-a d</code></li> <li>\u5207\u6362\u4e0b\u4e00\u4e2a\u7a97\u53e3\uff1a<code>Ctrl-a n</code></li> <li>\u5207\u6362\u4e0a\u4e00\u4e2a\u7a97\u53e3\uff1a<code>Ctrl-a p</code></li> <li>\u521b\u5efa\u65b0\u7a97\u53e3\uff1a<code>Ctrl-a c</code></li> <li>\u5173\u95ed\u5f53\u524d\u7a97\u53e3\uff1a<code>Ctrl-a k</code></li> </ul>"},{"location":"Linux%E5%B7%A5%E5%85%B7/screen/#pythondemo","title":"\u56db\u3001python\u540e\u53f0\u6587\u4ef6\u6d4f\u89c8\u5668demo","text":"<p>\u4e00\u4e2a\u4f7f\u7528<code>screen</code>\u542f\u52a8<code>python3 -m http.server --cgi 45678</code>\u5e76\u8ba9\u5176\u5728\u540e\u53f0\u8fd0\u884c\u7684\u793a\u4f8b\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u65b0\u5efa\u4e00\u4e2a\u547d\u540d\u4f1a\u8bdd\u3002\u8fd9\u91cc\u6211\u4eec\u7ed9\u4f1a\u8bdd\u547d\u540d\u4e3a<code>http_server</code>\uff1a</li> </ol> <pre><code>screen -S http_server\n</code></pre> <ol> <li>\u73b0\u5728\uff0c\u4f60\u5c06\u8fdb\u5165\u65b0\u521b\u5efa\u7684<code>screen</code>\u4f1a\u8bdd\u3002\u5728\u8be5\u4f1a\u8bdd\u4e2d\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8HTTP\u670d\u52a1\u5668\uff1a</li> </ol> <pre><code>python3 -m http.server --cgi 45678\n</code></pre> <ol> <li>HTTP\u670d\u52a1\u5668\u5df2\u7ecf\u5728\u7aef\u53e3<code>45678</code>\u4e0a\u542f\u52a8\u3002\u4e3a\u4e86\u8ba9\u670d\u52a1\u5668\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u9700\u8981\u5c06\u5f53\u524d\u4f1a\u8bdd\u5206\u79bb\u3002\u6309\u4e0b<code>Ctrl-a d</code>\uff0c\u4f60\u5c06\u88ab\u5206\u79bb\u51fa\u5f53\u524d\u4f1a\u8bdd\uff0c\u8fd4\u56de\u5230\u539f\u59cb\u7ec8\u7aef\u3002</li> </ol> <p>\u6b64\u65f6\uff0cHTTP\u670d\u52a1\u5668\u5df2\u5728\u540e\u53f0\u8fd0\u884c\u3002\u5982\u679c\u9700\u8981\u91cd\u65b0\u8fde\u63a5\u5230\u8be5\u4f1a\u8bdd\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>screen -r http_server\n</code></pre> <p>\u5982\u679c\u9700\u8981\u5173\u95edHTTP\u670d\u52a1\u5668\uff0c\u8bf7\u91cd\u65b0\u8fde\u63a5\u5230\u4f1a\u8bdd\uff0c\u7136\u540e\u6309\u4e0b<code>Ctrl-c</code>\uff0c\u6700\u540e\u8f93\u5165<code>exit</code>\u6765\u7ec8\u6b62\u4f1a\u8bdd\u3002</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%9C%80%E6%96%B0%E6%9B%B4%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0/","title":"git\u5f3a\u5236\u66f4\u65b0","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%9C%80%E6%96%B0%E6%9B%B4%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0/#_1","title":"git\u5f3a\u5236\u66f4\u65b0","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%9C%80%E6%96%B0%E6%9B%B4%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0/#_2","title":"\u540c\u6b65\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u65b0\u66f4\u6539\u5230\u672c\u5730","text":"<p>\u4f5c\u7528\uff1a\u6709\u65f6\u5019\u4ee3\u7801\u5728\u672c\u5730\u6539\u4e86\u4e0d\u597d\u8fd8\u539f\uff0c\u9700\u8981\u91cd\u7f6e\u4ee3\u7801</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%9C%80%E6%96%B0%E6%9B%B4%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0/#_3","title":"\u4e00. \u83b7\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6240\u6709\u5206\u652f\u4fe1\u606f","text":"<pre><code>git fetch --all\n</code></pre> <p><code>git fetch --all</code>\u547d\u4ee4\u7528\u4e8e\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u83b7\u53d6\u6240\u6709\u5206\u652f\u7684\u6700\u65b0\u4fe1\u606f\u3002\u6b64\u547d\u4ee4\u4e0d\u4f1a\u5f71\u54cd\u5230\u672c\u5730\u5df2\u6709\u7684\u6587\u4ef6\u548c\u5206\u652f\u3002</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%9C%80%E6%96%B0%E6%9B%B4%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0/#_4","title":"\u4e8c. \u91cd\u7f6e\u672c\u5730\u5206\u652f\u5230\u8fdc\u7a0b\u5206\u652f\u7684\u6700\u65b0\u72b6\u6001","text":"<pre><code>git reset --hard origin/main\n</code></pre> <p><code>git reset --hard origin/main</code>\u547d\u4ee4\u7528\u4e8e\u5c06\u672c\u5730\u7684<code>main</code>\u5206\u652f\u91cd\u7f6e\u4e3a\u8fdc\u7a0b\u4ed3\u5e93<code>main</code>\u5206\u652f\u7684\u6700\u65b0\u72b6\u6001\u3002\u6b64\u547d\u4ee4\u5c06\u4e22\u5f03\u672c\u5730\u5206\u652f\u4e2d\u4e0e\u8fdc\u7a0b\u5206\u652f\u4e0d\u540c\u7684\u6240\u6709\u66f4\u6539\u3002</p> <p>\u6ce8\u610f\uff1a\u5728\u6267\u884c\u6b64\u547d\u4ee4\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5df2\u4fdd\u5b58\u6216\u63d0\u4ea4\u60a8\u7684\u672c\u5730\u66f4\u6539\uff0c\u4ee5\u514d\u4e22\u5931\u4efb\u4f55\u91cd\u8981\u4fe1\u606f\u3002</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%9C%80%E6%96%B0%E6%9B%B4%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0/#_5","title":"\u4e09. \u62c9\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u65b0\u66f4\u6539","text":"<pre><code>git pull\n</code></pre> <p><code>git pull</code>\u547d\u4ee4\u7528\u4e8e\u62c9\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u65b0\u66f4\u6539\uff0c\u5e76\u5c06\u5176\u5408\u5e76\u5230\u672c\u5730\u5206\u652f\u4e2d\u3002\u6b64\u547d\u4ee4\u76f8\u5f53\u4e8e\u5148\u6267\u884c<code>git fetch</code>\uff0c\u7136\u540e\u6267\u884c<code>git merge</code>\u3002</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%9C%80%E6%96%B0%E6%9B%B4%E6%94%B9%E5%88%B0%E6%9C%AC%E5%9C%B0/#_6","title":"\u56db.\u793a\u4f8b","text":"<p>\u5047\u8bbe\u4f60\u7684\u672c\u5730\u4ed3\u5e93\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u7684<code>main</code>\u5206\u652f\u6709\u6240\u4e0d\u540c\uff0c\u73b0\u5728\u4f60\u5e0c\u671b\u5c06\u672c\u5730\u4ed3\u5e93\u540c\u6b65\u5230\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u65b0\u72b6\u6001\u3002</p> <ol> <li>\u6253\u5f00\u7ec8\u7aef\uff0c\u8fdb\u5165\u672c\u5730\u4ed3\u5e93\u76ee\u5f55\u3002</li> <li>\u6267\u884c<code>git fetch --all</code>\u83b7\u53d6\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6240\u6709\u5206\u652f\u4fe1\u606f\u3002</li> <li>\u6267\u884c<code>git reset --hard origin/main</code>\u5c06\u672c\u5730<code>main</code>\u5206\u652f\u91cd\u7f6e\u4e3a\u8fdc\u7a0b\u4ed3\u5e93<code>main</code>\u5206\u652f\u7684\u6700\u65b0\u72b6\u6001\u3002</li> <li>\u6700\u540e\uff0c\u6267\u884c<code>git pull</code>\u62c9\u53d6\u5e76\u5408\u5e76\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u65b0\u66f4\u6539\u3002</li> </ol>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E5%9B%BE%E7%A4%BA/","title":"\u5f00\u6e90\u534f\u8bae\u56fe\u793a","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E5%9B%BE%E7%A4%BA/#_1","title":"\u5f00\u6e90\u534f\u8bae\u56fe\u793a","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E5%9B%BE%E7%A4%BA/#_2","title":"\u5f00\u6e90\u534f\u8bae\u56fe\u793a","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/","title":"\u7ba1\u7406Jupyter","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#_1","title":"\u7ba1\u7406Jupyter","text":""},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#jupyter-notebook","title":"\u7ba1\u7406Jupyter Notebook\u5185\u6838\uff1a\u6dfb\u52a0\u3001\u67e5\u770b\u548c\u5220\u9664","text":"<p>\u7b80\u8981\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528Jupyter Notebook\u5bf9\u5185\u6838\u8fdb\u884c\u6dfb\u52a0\u3001\u67e5\u770b\u548c\u5220\u9664\u64cd\u4f5c\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u6df1\u5ea6\u5b66\u4e60\u73af\u5883\u7684\u793a\u4f8b\u3002</p> <p>emmm\uff0c\u524d\u63d0\u662fconda\u5df2\u7ecf\u88c5\u4e86\u5bf9\u5e94\u7684\u73af\u5883\uff0c\u4e0d\u7136\u6ca1\u7528~</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#ipykernel","title":"\u4e00. \u786e\u8ba4\u662f\u5426\u5df2\u5b89\u88c5ipykernel","text":"<p>\u5207\u6362\u5230\u8981\u6dfb\u52a0\u7684\u865a\u62df\u73af\u5883\uff0c\u7136\u540e\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>python -m ipykernel --version\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#ipykernel_1","title":"\u4e8c. \u5b89\u88c5ipykernel\uff08\u5982\u672a\u5b89\u88c5\uff09","text":"<pre><code>python -m pip install ipykernel\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#jupyter-notebook_1","title":"\u4e09. \u4e3aJupyter Notebook\u6dfb\u52a0\u5185\u6838","text":"<pre><code>python -m ipykernel install --user --name=kernelname --display-name showname\n</code></pre> <p>\u5176\u4e2d\uff0c<code>kernelname</code>\u662f\u521b\u5efa\u7684\u6587\u4ef6\u5939\u540d\uff0c<code>showname</code>\u662f\u5728Jupyter Notebook\u4e2d\u5c55\u793a\u7684\u5185\u6838\u540d\u3002\u901a\u5e38\uff0c\u6211\u4eec\u5c06\u8fd9\u4e24\u8005\u4e0e\u73af\u5883\u540d\u4fdd\u6301\u4e00\u81f4\uff0c\u65b9\u4fbf\u8bc6\u522b\u3002</p>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#jupyter-notebook_2","title":"\u56db. \u67e5\u770bJupyter Notebook\u5185\u6838","text":"<pre><code>jupyter kernelspec list\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#jupyter","title":"\u4e94. \u5220\u9664Jupyter\u5185\u6838","text":"<pre><code>jupyter kernelspec remove kernelname\n</code></pre>"},{"location":"Linux%E5%B7%A5%E5%85%B7/%E7%AE%A1%E7%90%86Jupyter%20Notebook%E5%86%85%E6%A0%B8/#_2","title":"\u516d.\u793a\u4f8b\uff1a\u521b\u5efa\u6df1\u5ea6\u5b66\u4e60\u73af\u5883\u5185\u6838","text":"<p>\u5047\u8bbe\u4f60\u5df2\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>deep_learning</code>\u7684\u865a\u62df\u73af\u5883\uff0c\u73b0\u5728\u5e0c\u671b\u5c06\u5176\u6dfb\u52a0\u5230Jupyter Notebook\u4e2d\u3002\u4f60\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li> <p>\u5207\u6362\u5230<code>deep_learning</code>\u865a\u62df\u73af\u5883\u3002</p> </li> <li> <p>\u786e\u8ba4\u662f\u5426\u5df2\u5b89\u88c5ipykernel\uff0c\u5982\u672a\u5b89\u88c5\uff0c\u8bf7\u5b89\u88c5\u3002</p> </li> <li> <p>\u4e3aJupyter Notebook\u6dfb\u52a0\u5185\u6838\uff1a</p> </li> </ol> <pre><code>python -m ipykernel install --user --name=deep_learning --display-name \"Deep Learning\"\n</code></pre> <ol> <li> <p>\u67e5\u770bJupyter Notebook\u5185\u6838\uff0c\u786e\u8ba4\u65b0\u5185\u6838\u5df2\u6dfb\u52a0\u3002</p> </li> <li> <p>\u5982\u9700\u5220\u9664\u5185\u6838\uff0c\u8fd0\u884c<code>jupyter kernelspec remove deep_learning</code>\u3002</p> </li> </ol> <p>\u73b0\u5728\uff0c\u4f60\u5df2\u6210\u529f\u4e3aJupyter Notebook\u6dfb\u52a0\u4e86\u4e00\u4e2a\u540d\u4e3a\"Deep Learning\"\u7684\u5185\u6838\uff0c\u53ef\u4ee5\u5728\u8be5\u5185\u6838\u4e2d\u8fd0\u884c\u6df1\u5ea6\u5b66\u4e60\u76f8\u5173\u4ee3\u7801\u3002</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/","title":"LCHot-100","text":"<p>\u65f6\u95f4O(N)\uff1a</p> <p>\u7a7a\u95f4O(N)\uff1a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#1","title":"1. \u4e24\u6570\u4e4b\u548c","text":"<p>\u65f6\u95f4O(N)\uff1a\u904d\u5386N\u4e2anum</p> <p>\u7a7a\u95f4O(N)\uff1a\u4e00\u4e2a\u54c8\u5e0c\u8868\u968f\u7740N\u7684\u6570\u91cf\u589e\u5927</p> <p>\u5982\u679c\u4e0d\u7528\u54c8\u5e0c\u8868\u76f4\u63a5\u66b4\u529b\u641c\u7d22\u7684\u8bdd\u65f6\u95f4\u590d\u6742\u5ea6\u662f\\(O(N^2)\\)\uff0c\u7a7a\u95f4O(1)</p> <pre><code>class Solution:\n    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:\n        dic = {}\n        for i, num in enumerate(nums):\n            aim = target - num\n            if aim in dic:\n                return [i,dic[aim]]\n            else:\n                dic[num] = i\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#2","title":"2. \u4e24\u6570\u76f8\u52a0","text":"<p>\u65f6\u95f4O(max(m,n)+1)\uff1a\uff0c\u904d\u5386m\u6216\u8005n\u7684\u94fe\u8868\u5b8c\u540e\uff0c\u8fd8\u53ef\u80fd\u4f1a\u8fdb\u4f4d\u8fd0\u884c\u4e00\u6b21</p> <p>\u7a7a\u95f4O(1)\uff1a\u8fd4\u56de\u503c\u4e0d\u8ba1\u5165\u7a7a\u95f4\u590d\u6742\u5ea6</p> <pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, val=0, next=None):\n#         self.val = val\n#         self.next = next\nclass Solution:\n    def addTwoNumbers(self, l1: Optional[ListNode], l2: Optional[ListNode]) -&gt; Optional[ListNode]:\n        head = result = ListNode(0)  # head\u7528\u4e8e\u6dfb\u52a0\u7ed3\u679c\uff0cresult\u7528\u4e8e\u8fd4\u56de\u7ed3\u679c\n        carry = 0  # \u8fdb\u4f4d\u6807\u5fd7\u7b26\u53f7\n        while l1 or l2 or carry:  # \u5982\u679c\u4e24\u4e2a\u94fe\u8868\u90fd\u904d\u5386\u5b8c\u4e86\u540c\u65f6\u4e0d\u5b58\u5728\u8fdb\u4f4d\u624d\u8df3\u51fa\n            # \u83b7\u5f97\u94fe\u8868\u7684\u503c\n            num_l1 = l1.val if l1 else 0  \n            num_l2 = l2.val if l2 else 0\n            num_add = num_l1 + num_l2 + carry  # \u8ba1\u7b97\u4f4d\u6570\u76f8\u52a0\u548c\n            carry = 1 if num_add &gt;= 10 else 0  # \u66f4\u65b0\u8fdb\u4f4d\u503c\uff0c\u5927\u4e8e9\u5c31\u4e3a1\n            head.next = ListNode(num_add % 10)  # \u5bf910\u6c42\u4f59\u83b7\u5f97\u4e2a\u4f4d\n            # \u66f4\u65b0\u8282\u70b9\n            head = head.next\n            l1 = l1.next if l1 else 0\n            l2 = l2.next if l2 else 0\n        return result.next  # \u8fd4\u56de\u7684\u662fresult.next\u56e0\u4e3a\u539f\u672c\u7684result\u662f0\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#3","title":"3. \u65e0\u91cd\u590d\u5b57\u7b26\u7684\u6700\u957f\u5b50\u4e32","text":"<p>\u65f6\u95f4O(N)\uff1a\u6bcf\u4e2a\u5143\u7d20\u904d\u5386\u4e00\u6b21\uff0c\u4e00\u5171N\u6b21</p> <p>\u7a7a\u95f4O(N)\uff1asubstr\u6700\u591a\u5b58\u50a8N\u4e2a\u5143\u7d20\u3002</p> <p>\u904d\u5386\u6bcf\u4e2a\u5143\u7d20\uff0c\u5982\u679c\u78b0\u5230\u6709\u91cd\u590d\u7684\u5c31\u5728\u5b50\u4e32\u4e2d\u53bb\u9664\uff0c\u7136\u540e\u66f4\u65b0\u6700\u5927\u957f\u5ea6</p> <pre><code>class Solution:\n    def lengthOfLongestSubstring(self, s: str) -&gt; int:\n        if not s: return 0\n\n        n = len(s)\n        left = 0  # \u7528\u4e8e\u8bb0\u5f55\u5f53\u524d\u7684\u5de6\u5143\u7d20\u7d22\u5f15\n        substr = set()\n        max_len = 0\n        cur_len = 0\n        for i in range(n):\n            cur_len += 1  # \u6bcf\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5c31\u52a0\u4e00\n            while s[i] in substr:  # \u5254\u9664\u91cd\u590d\u7684\u90e8\u5206\n                substr.remove(s[left])\n                left += 1\n                cur_len -= 1\n            if cur_len &gt; max_len: max_len = cur_len  # \u66f4\u65b0\u6700\u5927\u957f\u5ea6\n            substr.add(s[i])  # \u8bb0\u5f55\u5b57\u4e32\u5143\u7d20\n        return max_len\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#4","title":"4. \u5bfb\u627e\u4e24\u4e2a\u6b63\u5e8f\u6570\u7ec4\u7684\u4e2d\u4f4d\u6570","text":"<p>\u65f6\u95f4O(\\(nlog_n\\))\uff1aTimsort - Wikipedia</p> <p>\u7a7a\u95f4O(N)\uff1a\u5408\u5e76\u540e\u7684\u5217\u8868\u6709N\u4e2a\u5143\u7d20(num1+num2)</p> <pre><code>class Solution:\n    def findMedianSortedArrays(self, nums1: List[int], nums2: List[int]) -&gt; float:\n        num = nums1 + nums2  # \u5408\u5e76\n        num = sorted(num)  # \u6392\u5e8f\n        n = len(num)\n        if n % 2 == 0:  # \u5076\u6570 \n            return (num[n//2] + num[n//2 - 1]) / 2\n        else:\n            return num[n//2]  # \u57fa\u6570\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#5","title":"5. \u6700\u957f\u56de\u6587\u5b50\u4e32","text":"<p>\u65f6\u95f4O(\\(N^2\\))\uff1a\u904d\u5386N\u4e2a\u5143\u7d20\uff0c\u6bcf\u4e2a\u5143\u7d20\u5224\u65ad\u4e5f\u662fO(N)\u7684\u590d\u6742\u5ea6\uff0c\u603b\u5171N*N</p> <p>\u7a7a\u95f4O(1)\uff1a\u5e38\u6570\u4e2a\u53d8\u91cf</p> <pre><code>class Solution:\n    def longestPalindrome(self, s: str) -&gt; str:\n        def backtextcheck(left, right):  # \u4e2d\u5fc3\u6269\u6563\u5224\u65ad\n            while left &gt;= 0 and right &lt; len(s) and s[left] == s[right]:\n                left -= 1\n                right += 1\n            return left + 1, right - 1  # \u5404\u8fd4\u56de\u4e00\u4e2a\u4f4d\u7f6e\u4ee3\u8868\u5b9e\u9645\u7684\u5de6\u53f3\u4e0b\u6807\n\n        start, end = 0, 0\n        for i in range(len(s)):\n            start1, end1 = backtextcheck(i, i)  # \u4e2d\u5fc3\u5143\u7d20\u662f\u5947\u6570\u4e2a\n            start2, end2 = backtextcheck(i, i + 1)  # \u4e2d\u5fc3\u5143\u7d20\u662f\u5076\u6570\u4e2a\n            if end1 - start1 &gt; end - start:\n                end = end1\n                start = start1\n            if end2 - start2 &gt; end - start:\n                end = end2\n                start = start2\n        return s[start: end + 1]  # \u5207\u7247\u6700\u53f3\u8fb9+1\u8fd4\u56de\u5b57\u4e32\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#10","title":"10. \u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d","text":"<p>\u65f6\u95f4O(MN)\uff1a\u904d\u5386\u4e8c\u7ef4dp\u8868</p> <p>\u7a7a\u95f4O(MN)\uff1adp\u8868\u6709MN\u4e2a</p> <pre><code>class Solution:\n    def isMatch(self, s: str, p: str) -&gt; bool:\n        # \u521d\u59cb\u5316DP\u8868\n        m, n = len(s) + 1, len(p) + 1\n        dp = [[False] * n for _ in range(m)]\n        dp[0][0] = True\n        for i in range(2, n, 2):\n            dp[0][i] = dp[0][i - 2] and p[i - 1] == '*'\n        # \u904d\u5386\u72b6\u6001\n        for j in range(1, m):\n            for i in range(1, n):\n                if p[i - 1] == \"*\":\n                    if dp[j][i - 2]: dp[j][i] = True\n                    elif dp[j - 1][i] and s[j - 1] == p[i - 2]: dp[j][i] = True\n                    elif dp[j - 1][i] and p[i - 2] == '.': dp[j][i] = True\n                else:\n                    if dp[j - 1][i - 1] and p[i - 1] == s[j - 1]: dp[j][i] = True\n                    elif dp[j - 1][i - 1] and p[i - 1] == '.': dp[j][i] = True\n        return dp[-1][-1]\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#11","title":"11. \u76db\u6700\u591a\u6c34\u7684\u5bb9\u5668","text":"<p>\u65f6\u95f4O(N)\uff1a\u904d\u5386N\u4e2a\u5bb9\u5668</p> <p>\u7a7a\u95f4O(1)\uff1a\u5e38\u6570\u4e2a\u53d8\u91cf</p> <pre><code>class Solution:\n    def maxArea(self, height: List[int]) -&gt; int:\n        left, right, res = 0, len(height) - 1, 0\n        while left &lt; right:  # \u8df3\u51fa\u6761\u4ef6\u76f4\u5230\u5de6\u53f3\u76f8\u78b0\n            # \u5faa\u73af\u6536\u7a84\u77ed\u8fb9\uff0c\u540c\u540c\u65f6\u66f4\u65b0\u6700\u5927\u9762\u79ef\n            if height[left] &lt; height[right]:\n                res = max(res, height[left] * (right - left))\n                left += 1\n            else:\n                res = max(res, height[right] * (right - left))\n                right -= 1\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#15","title":"15. \u4e09\u6570\u4e4b\u548c","text":"<p>\u65f6\u95f4O(\\(N^2\\))\uff1a\u5176\u4e2d\u56fa\u5b9a\u6307\u9488<code>k</code>\u5faa\u73af\u590d\u6742\u5ea6 O(N)\uff0c\u53cc\u6307\u9488 <code>i</code>\uff0c<code>j</code> \u590d\u6742\u5ea6 O(N)\u3002</p> <p>\u7a7a\u95f4O(1)\uff1a\u6307\u9488\u4f7f\u7528\u5e38\u6570\u5927\u5c0f\u7684\u989d\u5916\u7a7a\u95f4\u3002</p> <pre><code>class Solution:\n    def threeSum(self, nums: List[int]) -&gt; List[List[int]]:\n        nums.sort()\n        res = []\n        for k in range(len(nums) - 2):  # \u5b9a\u4f4dk\u5faa\u73af\uff0ck\u5b9a\u4f4d\u5c11\u4e24\u4e2a\u6307\u9488\u7684\u4f4d\u7f6e\n            i, j = k + 1, len(nums) - 1\n            if k &gt; 0 and nums[k] == nums[k - 1]: continue  # \u8df3\u8fc7\u91cd\u590d\uff0c\u9996\u4e2ak\u6ca1\u6709\u91cd\u590d\u4e0d\u7528\u8df3\uff0c\u540e\u9762\u6709\u91cd\u590d\u5219\u8df3\u8fc7\n            while i &lt; j:  # \u5224\u65ad\u53cc\u6307\u9488\u662f\u5426\u904d\u5386\u5b8c\n                s = nums[k] + nums[i] + nums[j]\n                if s &lt; 0:\n                    i += 1\n                    while i &lt; j and nums[i] == nums[i - 1]: i += 1\n                elif s &gt; 0:\n                    j -= 1\n                    while i &lt; j and nums[j] == nums[j + 1]: j -= 1\n                else:\n                    res.append([nums[k], nums[i], nums[j]])\n                    i += 1\n                    j -= 1\n                    while i &lt; j and nums[i] == nums[i - 1]: i += 1\n                    while i &lt; j and nums[j] == nums[j + 1]: j -= 1\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#17","title":"17. \u7535\u8bdd\u53f7\u7801\u7684\u5b57\u6bcd\u7ec4\u5408","text":"<p>\u65f6\u95f4O(\\(3^m * 4^n\\))\uff1am,n\u5206\u522b\u4e3a\u4e09\u4e2a\u5b57\u7b26\u548c\u56db\u4e2a\u5b57\u7b26\u7684\u6570\u5b57\u957f\u5ea6\u6bcf\u79cd\u7ec4\u5408\u90fd\u4f1a\u8ba1\u7b97\uff0c\u590d\u6742\u5ea6\u76f8\u4e58</p> <p>\u7a7a\u95f4O(m+n)\uff1am+n\u7684\u60c5\u51b5\u4e0d\u5305\u62ec\u8f93\u51fa\u7a7a\u95f4\u662f\u56de\u6eaf\u8fc7\u7a0b\u4e2d\u7684\u9012\u5f52\u8c03\u7528\u6df1\u5ea6\uff0c\u5982\u679c\u7b97\u4e0a\u8f93\u51fa\u7a7a\u95f4\u7684\u8bdd\u4e3aO(\\(3^m * 4^n\\))</p> <pre><code>class Solution:\n    def letterCombinations(self, digits: str) -&gt; List[str]:\n        if not digits:  # \u7a7a\u503c\u60c5\u51b5\n            return []\n\n        digits2str = {  # \u6620\u5c04\u8868\n            '2': 'abc',\n            '3': 'def',\n            '4': 'ghi',\n            '5': 'jkl',\n            '6': 'mno',\n            '7': 'pqrs',\n            '8': 'tuv',\n            '9': 'wxyz'\n        }\n\n        def backtrack(i):  # \u56de\u6eaf\n            if i == len(digits):  # \u7d22\u5f15\u8d85\u8fc7\u5b9e\u9645\u957f\u5ea6\u624d\u8ffd\u52a0\uff0c\u4e0d\u7136\u4f1a\u6f0f\u6389\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\n                results.append(''.join(result))\n            else:\n                digit = digits[i]\n                for s in digits2str[digit]:\n                    result.append(s)\n                    backtrack(i + 1)\n                    result.pop()\n        results = []\n        result = []\n        backtrack(0)  # \u542f\u52a8\u56de\u6eaf\n        return results\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/LCHot-100/#19-n","title":"19. \u5220\u9664\u94fe\u8868\u7684\u5012\u6570\u7b2c N \u4e2a\u7ed3\u70b9","text":"<p>\u65f6\u95f4O(N)\uff1aN\u4e3a\u94fe\u8868\u7684\u957f\u5ea6\uff0c\u76f8\u5f53\u4e8e\u904d\u5386\u4e00\u6b21</p> <p>\u7a7a\u95f4O(1)\uff1a\u5e38\u6570\u4e2a\u53d8\u91cf</p> <pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, val=0, next=None):\n#         self.val = val\n#         self.next = next\nclass Solution:\n    def removeNthFromEnd(self, head: Optional[ListNode], n: int) -&gt; Optional[ListNode]:\n        dummy = ListNode(0, head)\n        first = head\n        second = dummy\n        for _ in range(n):\n            first = first.next  # \u904d\u5386n\u6b21\u662f\u56e0\u4e3a\u540e\u9762\u5224\u65ad\u662f\u5f53first\u4e3a\u7a7a\u65f6\u6539\u52a8\u524d\u9a71\u8282\u70b9\n\n        while first:\n            first = first.next\n            second = second.next\n        second.next = second.next.next\n        return dummy.next\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/","title":"\u5251\u6307offer","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_1","title":"\u5251\u6307offer","text":"<p>leetcode\u7f51\u5740:https://leetcode-cn.com/leetbook/detail/illustration-of-algorithm/</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_2","title":"\u4e00.\u590d\u6742\u5ea6","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1","title":"1.\u65f6\u95f4\u590d\u6742\u5ea6","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_3","title":"\u8868\u793a\u65b9\u6cd5","text":"<p>\u65f6\u95f4\u590d\u6742\u5ea6\u6307\u8f93\u5165\u6570\u636e\u5927\u5c0f\u4e3a N \u65f6\uff0c\u7b97\u6cd5\u8fd0\u884c\u6240\u9700\u82b1\u8d39\u7684\u65f6\u95f4\u3002 \u5e38\u7528\u7684\u7b26\u53f7\u6709:\u5e73\u5747 \\(\\Theta\\) \uff0c\u6700\u4f73 \\(\\Omega(1)\\)\uff0c\u6700\u5dee\\(O(N)\\)\u4e09\u79cd\uff0c\u4e00\u822c\u4f7f\u7528\u6700\u5dee\\(O(N)\\)\u6765\u8868\u793a</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_4","title":"\u5e38\u89c1\u79cd\u7c7b","text":"<p>\\(O(1)&lt;O(logN)&lt;O(N)&lt;O(NlogN)&lt;O(N^2)&lt;O(2^N)&lt;O(N!)\\)</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2","title":"2.\u7a7a\u95f4\u590d\u6742\u5ea6","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_5","title":"\u7a7a\u95f4\u6765\u6e90","text":"<p>\u8f93\u5165\u7a7a\u95f4\uff1a \u5b58\u50a8\u8f93\u5165\u6570\u636e\u6240\u9700\u7684\u7a7a\u95f4\u5927\u5c0f\uff1b \u6682\u5b58\u7a7a\u95f4\uff1a \u7b97\u6cd5\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5b58\u50a8\u6240\u6709\u4e2d\u95f4\u53d8\u91cf\u548c\u5bf9\u8c61\u7b49\u6570\u636e\u6240\u9700\u7684\u7a7a\u95f4\u5927\u5c0f\uff1b \u8f93\u51fa\u7a7a\u95f4\uff1a \u7b97\u6cd5\u8fd0\u884c\u8fd4\u56de\u65f6\uff0c\u5b58\u50a8\u8f93\u51fa\u6570\u636e\u6240\u9700\u7684\u7a7a\u95f4\u5927\u5c0f\uff1b</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_6","title":"\u5e38\u89c1\u79cd\u7c7b","text":"<p>\\(O(1)&lt;O(logN)&lt;O(N)&lt;O(N^2)&lt;O(2^N)\\)</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_7","title":"\u4e8c.\u6570\u636e\u7ed3\u6784\u7c7b\u578b\u57fa\u7840","text":"<p>\u7c7b\u578b\u7b80\u4ecb</p> \u662f\u5426\u4e3a\u7ebf\u6027 \u5177\u4f53\u7c7b\u578b \u4ecb\u7ecd \u7ebf\u6027\u6570\u636e\u7ed3\u6784 \u6570\u7ec4 \u53ef\u53d8\u6570\u7ec4\u57fa\u4e8e\u6570\u7ec4\u548c\u6269\u5bb9\u673a\u5236\u5b9e\u73b0\uff0c\u5e38\u7528\u64cd\u4f5c\u6709\uff1a\u8bbf\u95ee\u5143\u7d20\u3001\u6dfb\u52a0\u5143\u7d20\u3001\u5220\u9664\u5143\u7d20\u3002 \u94fe\u8868 \u94fe\u8868\u4ee5\u8282\u70b9\u4e3a\u5355\u4f4d\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u72ec\u7acb\u5bf9\u8c61\uff0c\u5728\u5185\u5b58\u7a7a\u95f4\u7684\u5b58\u50a8\u662f\u975e\u8fde\u7eed\u7684\u3002 \u6808 \u6808\u662f\u4e00\u79cd\u5177\u6709 \u300c\u5148\u5165\u540e\u51fa\u300d \u7279\u70b9\u7684\u62bd\u8c61\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4f7f\u7528\u6570\u7ec4\u6216\u94fe\u8868\u5b9e\u73b0 \u961f\u5217 \u961f\u5217\u662f\u4e00\u79cd\u5177\u6709 \u300c\u5148\u5165\u5148\u51fa\u300d \u7279\u70b9\u7684\u62bd\u8c61\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4f7f\u7528\u94fe\u8868\u5b9e\u73b0 \u975e\u7ebf\u6027\u6570\u636e\u7ed3\u6784 \u6811 \u6811\u662f\u4e00\u79cd\u975e\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff0c\u6839\u636e\u5b50\u8282\u70b9\u6570\u91cf\u53ef\u5206\u4e3a \u300c\u4e8c\u53c9\u6811\u300d \u548c \u300c\u591a\u53c9\u6811\u300d \u56fe \u56fe\u662f\u4e00\u79cd\u975e\u7ebf\u6027\u6570\u636e\u7ed3\u6784\uff0c\u7531\u300c\u8282\u70b9\uff08\u9876\u70b9\uff09vertex\u300d\u548c\u300c\u8fb9 edge\u300d\u7ec4\u6210\uff0c\u6bcf\u6761\u8fb9\u8fde\u63a5\u4e00\u5bf9\u9876\u70b9\u3002 \u6563\u5217\u8868 \u5229\u7528 Hash \u51fd\u6570\u5c06\u6307\u5b9a\u7684\u300c\u952e key\u300d\u6620\u5c04\u81f3\u5bf9\u5e94\u7684\u300c\u503c value\u300d\uff0c\u4ee5\u5b9e\u73b0\u9ad8\u6548\u7684\u5143\u7d20\u67e5\u627e \u5806 \u5806\u5206\u4e3a\u300c\u5927\u9876\u5806\u300d\u548c\u300c\u5c0f\u9876\u5806\u300d\uff0c\u5927\uff08\u5c0f\uff09\u9876\u5806\uff1a\u4efb\u610f\u8282\u70b9\u7684\u503c\u4e0d\u5927\u4e8e\uff08\u5c0f\u4e8e\uff09\u5176\u7236\u8282\u70b9\u7684\u503c"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1-offer-05","title":"1.\u5251\u6307 Offer 05. \u66ff\u6362\u7a7a\u683c","text":"<p>\u65f6\u95f4O(N):\u904d\u5386\u5b57\u7b26\u4e32\u957f\u5ea6N</p> <p>\u7a7a\u95f4O(N):\u4fdd\u5b58\u5b57\u7b26\u4e32\u957f\u5ea6N\u7684\u4e00\u4e2a\u53d8\u91cf\u5e76\u8fd4\u56de</p> <p>\u601d\u8def\uff1a\u987a\u5e8f\u904d\u5386\u5b57\u7b26\u4e32\uff0c\u9047\u5230\u7a7a\u683c\u5c31\u6dfb\u52a0%20\u5426\u5219\u6dfb\u52a0\u539f\u5b57\u7b26</p> <pre><code>class Solution:\n    def replaceSpace(self, s: str) -&gt; str:\n        result = ''  # \u5b57\u7b26\u4e32\u4e3a\u4e0d\u53ef\u53d8\u7c7b\u578b\uff0c\u9700\u8981\u65b0\u5efa\u4e00\u4e2a\u53d8\u91cf\n        for char in s:\n            if char != ' ':  # \u6bcf\u6b21\u6dfb\u52a0\u5b57\u7b26\u76f8\u5f53\u4e8e\u91cd\u65b0\u8d4b\u503c\n                result += char\n            else: result += '%20' \n        return result\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2-offer-06","title":"2.\u5251\u6307 Offer 06. \u4ece\u5c3e\u5230\u5934\u6253\u5370\u94fe\u8868","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u94fe\u8868\u7684\u957f\u5ea6</p> <p>\u7a7a\u95f4O(N):N\u4e3a\u6682\u5b58\u6570\u7ec4\u7684\u957f\u5ea6</p> <p>\u7528\u4e00\u4e2a\u6682\u5b58\u5217\u8868\u6682\u5b58\u6bcf\u4e2a\u8282\u70b9\u7684\u503c\uff0c\u76f4\u5230\u94fe\u8868\u5b8c\u5168\u904d\u5386\u5b8c</p> <pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.next = None\n\nclass Solution:\n    def reversePrint(self, head: ListNode) -&gt; List[int]:\n        result = []\n        while head:  # \u94fe\u8868\u987a\u5e8f\u8bbf\u95ee\u7684\u540c\u65f6\u5e76\u4fdd\u5b58\n            result.append(head.val)\n            head = head.next\n        return result[::-1]\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#3-offer-09","title":"3.\u5251\u6307 Offer 09. \u7528\u4e24\u4e2a\u6808\u5b9e\u73b0\u961f\u5217","text":"<p>appendTail\u65f6\u95f4O(1):\u6bcf\u6b21\u6dfb\u52a01\u4e2a\u6570\u5b57</p> <p>deleteHead\u65f6\u95f4O(N):\u6700\u5dee\u60c5\u51b5\u662f\u7b2c\u4e00\u6b21\u5220\u9664\uff0c\u9700\u8981\u5c06\u8f93\u5165\u6808\u4e2d\u7684N\u4e2a\u6570\u5b57\u5168\u90e8\u653e\u5230\u8f85\u52a9\u6808</p> <p>\u7a7a\u95f4O(N):\u8f93\u5165\u6808\u548c\u8f85\u52a9\u6808\u603b\u5171\u4fdd\u5b58N\u4e2a\u5143\u7d20</p> <p>\u4e00\u4e2a\u6808\u505a\u8f93\u5165\u6808</p> <p>\u53e6\u4e00\u4e2a\u6808\u505a\u5220\u9664\u6808\uff0c\u5728\u8f6c\u8ff0\u53e5\u8f6c\u79fb\u7684\u65f6\u5019\uff0c\u5220\u9664\u6808\u7684\u6570\u636e\u5c31\u53d8\u6210\u4e86\u5148\u5165\u540e\u51fa</p> <pre><code>class CQueue:\n\n    def __init__(self):\n        self.A = []\n        self.B = []\n\n    def appendTail(self, value: int) -&gt; None:\n        self.A.append(value)\n\n    def deleteHead(self) -&gt; int:\n        # \u6a21\u4eff\u6d41\u7a0b\u56fe\uff0c\u5148\u5224\u65ad\u6709\u6ca1\u6709self.B,\u5982\u679c\u6ca1\u6709\u5728\u5224\u65ad\u6709\u6ca1\u6709self.A\n        if self.B:  \n            return self.B.pop()\n        elif self.A:\n            while self.A:\n                self.B.append(self.A.pop())\n            return self.B.pop()\n        else:\n            return -1\n\n\n\n# Your CQueue object will be instantiated and called as such:\n# obj = CQueue()\n# obj.appendTail(value)\n# param_2 = obj.deleteHead()\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#4-offer-20","title":"4.\u5251\u6307 Offer 20. \u8868\u793a\u6570\u503c\u7684\u5b57\u7b26\u4e32","text":"<p>\u6709\u9650\u72b6\u6001\u673a\uff0c\u7565</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#5-offer-24","title":"5.\u5251\u6307 Offer 24. \u53cd\u8f6c\u94fe\u8868","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u94fe\u8868\u7684\u957f\u5ea6</p> <p>\u7a7a\u95f4O(1):pre\uff0ccur\uff0ctemp\u90fd\u662f\u5e38\u6570\u4e2a\u53d8\u91cf</p> <p>\u7528\u53cc\u6307\u9488\u6765\u6807\u8bb0None\u548c\u9996\u8282\u70b9\uff0c\u7136\u540e\u6682\u5b58\u4e0b\u4e00\u4e2a\u8282\u70b9\uff0c\u4ece\u5b9a\u5411\u5f53\u524d\u8282\u70b9\uff0c\u66f4\u65b0\u53cc\u6307\u9488\uff0c\u77e5\u9053\u5f53\u524d\u8282\u70b9\u4e3a\u7a7a</p> <pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.next = None\n\nclass Solution:\n    def reverseList(self, head: ListNode) -&gt; ListNode:\n        pre, cur = None, head\n        while cur: # \u6700\u540e\u4e00\u4e2acur\u4e3aNone\uff0cpre\u4e3a\u5b9e\u9645\u6700\u540e\u4e00\u4e2a\u8282\u70b9\n            temp = cur.next  # \u56e0\u4e3a\u540e\u9762\u8981\u91cd\u5b9a\u5411cur\uff0c\u6240\u4ee5\u9700\u8981\u6682\u5b58\u4e0b\u4e00\u4e2a\u8282\u70b9\n            cur.next = pre  # \u91cd\u5b9a\u5411\n\n            # \u66f4\u65b0\u4e0b\u4e00\u7ec4\u8282\u70b9\n            pre = cur\n            cur = temp\n        return pre  # pre\u624d\u662f\u5b9e\u9645\u7684\u8282\u70b9\uff0ccur\u5df2\u7ecf\u662fNone\u4e86\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#6-offer-30-min","title":"6.\u5251\u6307 Offer 30. \u5305\u542b min \u51fd\u6570\u7684\u6808","text":"<p>\u65f6\u95f4O(1):push(),pop(),top(),min()\u90fd\u662f\u5e38\u6570\u6570\u91cf\u7ea7\u64cd\u4f5c</p> <p>\u7a7a\u95f4O(N):N\u4e3a\u8f93\u5165\u503c\u7684\u6570\u91cf\uff0c\u8f93\u5165\u6808\u548c\u975e\u4e25\u683c\u964d\u5e8f\u6808\u6700\u591a\u6570\u91cf\u4e3a2N</p> <p>\u4e00\u4e2a\u6808\u7528\u6765\u5b58\u653e\u8f93\u5165\u6808\uff0c\u53e6\u4e00\u4e2a\u6808\u7528\u6765\u5b58\u653e\u975e\u4e25\u683c\u964d\u5e8f\u6700\u5c0f\u6808</p> <pre><code>class MinStack:\n\n    def __init__(self):\n\"\"\"\n        initialize your data structure here.\n        \"\"\"\n        self.stack = []\n        self.min_stack = []\n\n    def push(self, x: int) -&gt; None:\n        self.stack.append(x)\n        if not self.min_stack or x &lt;= self.min_stack[-1]:\n            self.min_stack.append(x)\n\n    def pop(self) -&gt; None:\n        if self.stack:\n            if self.min_stack[-1] == self.stack[-1]:\n                self.min_stack.pop()\n            self.stack.pop()\n\n\n    def top(self) -&gt; int:\n        if self.stack:\n            return self.stack[-1]\n        else:\n            return None\n\n    def min(self) -&gt; int:\n        if self.min_stack:\n            return self.min_stack[-1]\n        else:\n            return None\n\n\n# Your MinStack object will be instantiated and called as such:\n# obj = MinStack()\n# obj.push(x)\n# obj.pop()\n# param_3 = obj.top()\n# param_4 = obj.min()\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#7-offer-35","title":"7.\u5251\u6307 Offer 35. \u590d\u6742\u94fe\u8868\u7684\u590d\u5236","text":"<p>\u65f6\u95f4O(N):\u4e24\u6b21\u904d\u5386\u539f\u59cb\u94fe\u8868</p> <p>\u7a7a\u95f4O(N):\u6b8b\u5b58\u7a7a\u95f4\u542b\u67092N\u4e2a\u8282\u70b9</p> <p>\u4e24\u6b21\u904d\u5386\u590d\u6742\u94fe\u8868\uff0c\u7b2c\u4e00\u6b21\u6784\u9020{\u539f\u8282\u70b9\uff1a\u65b0\u8282\u70b9\u503c}\u5bf9\uff0c\u7b2c\u4e8c\u6b21\u7528\u6765\u7ed9\u65b0\u8282\u70b9\u5b9a\u5411next\u548crandom\u503c</p> <pre><code>\"\"\"\n# Definition for a Node.\nclass Node:\n    def __init__(self, x: int, next: 'Node' = None, random: 'Node' = None):\n        self.val = int(x)\n        self.next = next\n        self.random = random\n\"\"\"\nclass Solution:\n    def copyRandomList(self, head: 'Node') -&gt; 'Node':\n        if not head: return None  # 0\u8f93\u5165\u60c5\u51b5\u5224\u65ad\n        dic = {}  \n\n        cur = head  # \u6784\u9020\u6682\u5b58{\u539f\u8282\u70b9:\u65b0\u8282\u70b9\u542b\u8282\u70b9\u503c}\u5b57\u5178\n        while cur:\n            dic[cur] = Node(cur.val)\n            cur = cur.next\n\n        cur = head  # \u4e3a\u65b0\u8282\u70b9\u5b9a\u4e49next\u548crandom\u6307\u5411\n        while cur:\n            dic[cur].next = dic.get(cur.next)\n            dic[cur].random = dic.get(cur.random)\n            cur = cur.next\n        return dic[head]  # \u8fd4\u56de\u539f\u59cb\u5934\u8282\u70b9\u5bf9\u5e94\u7684\u65b0\u8282\u70b9\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#8-offer-58-ii","title":"8.\u5251\u6307 Offer 58 - II. \u5de6\u65cb\u8f6c\u5b57\u7b26\u4e32","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u8f93\u5165\u5b57\u7b26\u4e32\u7684\u957f\u5ea6</p> <p>\u7a7a\u95f4O(N):\u65b0\u65e7\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u90fd\u662fN</p> <p>\u6839\u636en\u503c\u8fdb\u884c\u5217\u8868\u76f8\u52a0</p> <pre><code>class Solution:\n    def reverseLeftWords(self, s: str, n: int) -&gt; str:\n        res = []\n\n        for i in range(n, len(s)):\n            res.append(s[i])\n        for i in range(n):\n            res.append(s[i])\n\n        return ''.join(res)\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#9-offer-59-i","title":"9.\u5251\u6307 Offer 59 - I. \u6ed1\u52a8\u7a97\u53e3\u7684\u6700\u5927\u503c","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u6570\u7ec4\u7684\u957f\u5ea6\uff0c\u7ebf\u6027\u904d\u5386\u7528N\u6b21\uff0c\u6bcf\u4e2a\u5143\u7d20\u5165\u961f\u548c\u51fa\u961f\u6700\u591a\u4e00\u51712N\u8bcd\uff0c\u603b\u51713N\u6b21</p> <p>\u7a7a\u95f4O(K):\u53cc\u7aef\u961f\u5217\u6700\u591a\u5b58\u50a8K\u4e2a\u5143\u7d20</p> <p>\u4e00\u4e2a\u5355\u8c03\u961f\u5217\u7528\u6765\u5b58\u653e\u8f93\u5165\u503c\uff0c\u53e6\u4e00\u4e2a\u53cc\u7aef\u961f\u5217\u7528\u6765\u5b58\u653e\u975e\u4e25\u683c\u964d\u5e8f\u7684\u8f93\u5165\u503c</p> <pre><code>import collections\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -&gt; List[int]:\n        deque = collections.deque()\n        n = len(nums)\n        res = []\n        # \u5148\u6839\u636ek\u5efa\u7acb\u6ed1\u7a97\uff0c\u5e76\u4fdd\u5b58\u7b2c\u4e00\u4e2a\u6ed1\u7a97\u7684\u7ed3\u679c\n        for i in range(k):\n            while deque and deque[-1] &lt; nums[i]:\n                deque.pop()\n            deque.append(nums[i])\n        res.append(deque[0])\n        # \u540e\u6839\u636e\u6ed1\u7a97\u6765\u6ed1\u52a8\n        for i in range(k, n):\n            if nums[i-k] == deque[0]:\n                deque.popleft()\n            while deque and deque[-1] &lt; nums[i]:\n                deque.pop()\n            deque.append(nums[i])\n            res.append(deque[0])\n        return res\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -&gt; List[int]:\n        if not nums: return []\n        res = []\n        for i in range(len(nums) - k + 1):\n            res.append(max(nums[i:i +k]))\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#10-offer-59-ii","title":"10.\u5251\u6307 Offer 59 - II. \u961f\u5217\u7684\u6700\u5927\u503c","text":"<p>max_value()\u65f6\u95f4O(1)</p> <p>push_back()\u5747\u644a\u65f6\u95f4O(1)</p> <p>pop_front()\u5747\u644a\u65f6\u95f4O(1)</p> <p>\u7a7a\u95f4O(N):\u6700\u591a\u4e24\u4e2a\u961f\u5217\u4e00\u5171\u4fdd\u5b582N\u4e2a\u5143\u7d20</p> <p>\u4e00\u4e2a\u5355\u8c03\u961f\u5217\u7528\u4e8e\u5b58\u653e\u8f93\u5165\u503c\uff0c\u4e00\u4e2a\u53cc\u7aef\u961f\u5217\u7528\u6765\u5b58\u653e\u975e\u4e25\u683c\u964d\u5e8f\u7684\u8f93\u5165\u503c</p> <pre><code>import queue\n\nclass MaxQueue:\n\n    def __init__(self):\n        self.queue = queue.Queue()  # \u5355\u8c03\u961f\u5217\u7528\u4e8e\u4fdd\u5b58\u5165\u961f\u548c\u51fa\u961f\u7684\u5143\u7d20\n        self.deque = queue.deque()  # \u53cc\u7aef\u961f\u5217\u7528\u4e8e\u4fdd\u5b58\u975e\u4e25\u683c\u9012\u51cf\u7684\u6700\u5927\u5143\u7d20\n\n    def max_value(self) -&gt; int:  \n        return self.deque[0] if self.deque else -1  # \u5982\u679c\u6ca1\u6709\u503c\u5c31\u8fd4\u56de-1\n\n    def push_back(self, value: int) -&gt; None:\n        self.queue.put(value)  # \u5355\u8c03\u961f\u5217\u5148\u6dfb\u52a0\n        while self.deque and self.deque[-1] &lt; value: self.deque.pop()  # \u53cc\u7aef\u961f\u5217\u5c06\u5c0f\u4e8e\u65b0\u6dfb\u52a0\u7684\u5143\u7d20\u90fd\u53f3\u5f39\u51fa\n        self.deque.append(value)  # \u53cc\u7aef\u961f\u5217\u540e\u6dfb\u52a0\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u975e\u4e25\u683c\u9012\u51cf\n\n    def pop_front(self) -&gt; int:\n        if self.queue.empty(): return -1  # \u5355\u8c03\u961f\u5217\u5982\u679c\u4e3a\u7a7a\u5c31\u8fd4\u56de-1\n        value = self.queue.get()  # \u8fd9\u91cc\u5df2\u7ecf\u5f39\u51fa\u4e86\u5355\u8c03\u961f\u5217\u961f\u9996\uff0cput()\u4e0eget()\u4e24\u4e2a\u65b9\u6cd5\n        if value == self.deque[0]:  # \u5982\u679c\u5f39\u51fa\u7684\u503c\u8ddf\u53cc\u7aef\u961f\u5217\u6700\u5927\u503c\u76f8\u7b49\u5c31\u4e1a\u4e00\u8d77\u5f39\u51fa\uff0c\u4e0d\u7136\u4e0d\u5f39\u51fa\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u5b58\u6700\u5927\u503c\u4e86\n            self.deque.popleft()\n        return value\n\n\n\n# Your MaxQueue object will be instantiated and called as such:\n# obj = MaxQueue()\n# param_1 = obj.max_value()\n# obj.push_back(value)\n# param_3 = obj.pop_front()\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#11-offer-67","title":"11.\u5251\u6307 Offer 67. \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u6574\u6570","text":"<p>\u65f6\u95f4O(N):N\u4e2a\u5b57\u7b26\u9700\u8981\u904d\u5386</p> <p>\u7a7a\u95f4O(N):\u6700\u591aN\u4e2a\u5b57\u7b26\u8981\u4fdd\u5b58\u5728str\u53d8\u91cf\u4e0a</p> <pre><code>class Solution:\n    def strToInt(self, str: str) -&gt; int:\n        str = str.strip()  # \u53bb\u9664\u524d\u9762\u7a7a\u683c\n        INT_MAX, INT_MIN, BOUND = 2 ** 31 -1, -2 ** 31, 2 ** 31 // 10  # \u7528\u4e8e\u8bb0\u5f55\u6700\u5927\u6700\u5c0f\u503c\u548c\u8d8a\u754c\u503c\n        sign, res = 1, 0  # \u7528\u4e8e\u8bb0\u5f55\u7b26\u53f7\u6807\u8bb0\u548c\u6570\u5b57\u548c\n        i = 1 # \u7528\u4e8e\u8bb0\u5f55\u5f00\u59cb\u7684index\n\n        if str[0] == '-': sign = -1  # \u5982\u679c\u4e3a\u8d1f\u53f7\uff0c\u5219\u521d\u59cb\u503c\u53ea\u9700\u8981\u6539sign\n        elif str[0] != '+': i = 0  # \u5982\u679c\u4e0d\u662f\u6b63\u53f7\uff0c\u5219index\u6539\u62101\uff1b\u53e6\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u9ed8\u8ba4\u7684\u6b63\u53f7\n\n        for c in str[i:]:\n            if not '0' &lt;= c &lt;= '9': break  # \u78b0\u5230\u6570\u5b57\u5916\u7684\u5c31\u8df3\u51fa\n            if res &gt; BOUND or res == BOUND and c &gt; '7': return INT_MAX if sign == 1 else INT_MIN  # \u8d8a\u754c\u5904\u7406\n            res = 10 * res + ord(c) - ord('0')  # \u7d2f\u52a0\n        return sign * res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_8","title":"\u4e09\uff0c\u52a8\u6001\u89c4\u5212","text":"<p>\u52a8\u6001\u89c4\u5212\u7b80\u4ecb</p> <p>\u4e3b\u8981\u7279\u70b9</p> <p>\u5305\u542b\u4e86\u300c\u5206\u6cbb\u601d\u60f3\u300d\u3001\u300c\u7a7a\u95f4\u6362\u65f6\u95f4\u300d\u3001\u300c\u6700\u4f18\u89e3\u300d\u7b49\u591a\u79cd\u57fa\u77f3\u7b97\u6cd5\u601d\u60f3</p> <p>\u6c42\u89e3\u6846\u67b6</p> <p>\u72b6\u6001\u5b9a\u4e49\uff1a \u6784\u5efa\u95ee\u9898\u6700\u4f18\u89e3\u6a21\u578b\uff0c\u5305\u62ec\u95ee\u9898\u6700\u4f18\u89e3\u7684\u5b9a\u4e49\u3001\u6709\u54ea\u4e9b\u8ba1\u7b97\u89e3\u7684\u81ea\u53d8\u91cf\uff1b \u521d\u59cb\u72b6\u6001\uff1a \u786e\u5b9a\u57fa\u7840\u5b50\u95ee\u9898\u7684\u89e3\uff08\u5373\u5df2\u77e5\u89e3\uff09\uff0c\u539f\u95ee\u9898\u548c\u5b50\u95ee\u9898\u7684\u89e3\u90fd\u662f\u4ee5\u57fa\u7840\u5b50\u95ee\u9898\u7684\u89e3\u4e3a\u8d77\u59cb\u70b9\uff0c\u5728\u8fed\u4ee3\u8ba1\u7b97\u4e2d\u5f97\u5230\u7684\uff1b \u8f6c\u79fb\u65b9\u7a0b\uff1a \u786e\u5b9a\u539f\u95ee\u9898\u7684\u89e3\u4e0e\u5b50\u95ee\u9898\u7684\u89e3\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u4ec0\u4e48\uff0c\u4ee5\u53ca\u4f7f\u7528\u4f55\u79cd\u9009\u62e9\u89c4\u5219\u4ece\u5b50\u95ee\u9898\u6700\u4f18\u89e3\u7ec4\u5408\u4e2d\u9009\u51fa\u539f\u95ee\u9898\u6700\u4f18\u89e3\uff1b \u8fd4\u56de\u503c\uff1a \u786e\u5b9a\u5e94\u8fd4\u56de\u7684\u95ee\u9898\u7684\u89e3\u662f\u4ec0\u4e48\uff0c\u5373\u52a8\u6001\u89c4\u5212\u5728\u4f55\u5904\u505c\u6b62\u8fed\u4ee3\uff1b</p>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1-offer-10-i","title":"1.\u5251\u6307 Offer 10- I. \u6590\u6ce2\u90a3\u5951\u6570\u5217","text":"<p>\u65f6\u95f4O(N):\u7b2cN\u4e2a\u6570\u5b57\u9700\u8981\u904d\u5386N\u6b21</p> <p>\u7a7a\u95f4O(1):\u5e38\u6570\u4e2a\u53d8\u91cf</p> <pre><code>class Solution:\n    def fib(self, n: int) -&gt; int:\n        a, b = 0, 1\n        for _ in range(n):\n            temp = a + b\n            a = b\n            b = temp % 1000000007\n        return a\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2-offer-10-ii","title":"2.\u5251\u6307 Offer 10- II. \u9752\u86d9\u8df3\u53f0\u9636\u95ee\u9898","text":"<p>\u65f6\u95f4O(N):\u7b2cN\u4e2a\u53f0\u9636\u9700\u8981\u904d\u5386N\u6b21</p> <p>\u7a7a\u95f4O(1):\u5e38\u6570\u4e2a\u53d8\u91cf</p> <pre><code>class Solution:\n    def numWays(self, n: int) -&gt; int:\n        a, b = 1,1\n        for _ in range(n):\n            temp = a + b\n            a = b\n            b = temp % 1000000007\n        return a\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#3-offer-19","title":"3.\u5251\u6307 Offer 19. \u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d","text":"<p>\u65f6\u95f4O(MN):MN\u4e3adp\u77e9\u9635\u904d\u5386\u7684\u6b21\u6570\uff0cM\u884cN\u5217</p> <p>\u7a7a\u95f4O(MN):MN\u4e3a\u77e9\u9635\u7684\u5927\u5c0f\uff0cM\u884cN\u5217</p> <pre><code>class Solution:\n    def isMatch(self, s: str, p: str) -&gt; bool:\n        # \u5b9a\u4e49\u6240\u9700\u53d8\u91cf\n        m, n = len(s) + 1, len(p) + 1\n        dp = [[False] * n for _ in range(m)]\n\n        # \u521d\u59cb\u5316\u77e9\u9635\n        dp[0][0] = True  # \u7a7a\u5b57\u7b26\u4e32\u80fd\u5339\u914d\n        for j in range(2, n, 2):  # \u7a7a\u5b57\u7b26\u548c\u5076\u6570\u7684'*'\u80fd\u5339\u914d\n            dp[0][j] = dp[0][j - 2] and p[j - 1] == '*'\n\n        # \u66f4\u65b0\u77e9\u9635\n        for i in range(1, m):\n            for j in range(1, n):\n                if p[j - 1] == '*':  # \u5206\u4e3a\u662f'*'\u548c\u4e0d\u662f'*'\u7684\u60c5\u51b5\n                    if dp[i][j - 2]: dp[i][j] = True  # p\u7684\u524d\u4e00\u4e2a\u51fa\u73b00\u6b21\u7684\u65f6\u5019\n                    if dp[i - 1][j] and s[i - 1] == p[j - 2]:dp[i][j] = True  # \u51fa\u73b0\u591a\u6b21\u7684\u60c5\u51b5\uff0cp\u7684\u524d\u4e00\u4e2a\u7b49\u4e8e\u65b0\u7684s\n                    if dp[i - 1][j] and p[j - 2] == '.':dp[i][j] = True  # \u51fa\u73b0\u8fc7\u6b21\u7684\u60c5\u51b5\uff0cp\u7684\u524d\u4e00\u4e2a\u7b49\u4e8e'.' \n                else:\n                    if dp[i - 1][j - 1] and p[j - 1] == s[i - 1]:dp[i][j] = True  # \u4e4b\u524d\u5339\u914d\u7684\u60c5\u51b5\u4e0b\uff0c\u65b0\u7684p\u7b49\u4e8e\u65b0\u7684s\n                    if dp[i - 1][j - 1] and p[j - 1] == '.':dp[i][j] = True  # \u4e4b\u524d\u5339\u914d\u7684\u60c5\u51b5\u4e0b\uff0c\u65b0\u7684p\u7b49\u4e8e'.'\n\n        return dp[-1][-1]\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#4-offer-42","title":"4.\u5251\u6307 Offer 42. \u8fde\u7eed\u5b50\u6570\u7ec4\u7684\u6700\u5927\u548c","text":"<p>\u65f6\u95f4O(N):\u904d\u5386N-1\u6b21\u5217\u8868</p> <p>\u7a7a\u95f4O(1):\u7528\u539f\u6765\u7684\u5217\u8868\u505a\u52a8\u6001\u89c4\u5212\uff0c\u4e0d\u7528\u989d\u5916\u7684\u7a7a\u95f4</p> <pre><code>class Solution:\n    def maxSubArray(self, nums: List[int]) -&gt; int:\n        for i in range(1,len(nums)):\n            nums[i] += max(nums[i - 1], 0)\n        return max(nums)\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#5-offer-46","title":"5.\u5251\u6307 Offer 46. \u628a\u6570\u5b57\u7ffb\u8bd1\u6210\u5b57\u7b26\u4e32","text":"<p>\u65f6\u95f4O(N):\u904d\u5386N-1\u6b21\u5b57\u7b26\u4e32</p> <p>\u7a7a\u95f4O(N):\u5b57\u7b26\u4e32\u5360\u7528num\u7684N\u957f\u5ea6</p> <pre><code>class Solution:\n    def translateNum(self, num: int) -&gt; int:\n        s = str(num)\n        a = b = 1\n        for i in range(2, len(s) + 1):  # 2\u662f\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u5df2\u7ecf\u9ed8\u8ba4\u4e86\uff0c\u4ece\u524d\u4e24\u4e2a\u5f00\u59cb\uff0c\u52a0\u4e00\u662f\u56e0\u4e3a\u7d22\u5f15\u6700\u540e\u53d6\u4e0d\u5230\n            temp = a + b if '10' &lt;= s[i - 2:i] &lt;= '25' else b\n            a = b\n            b = temp\n        return b\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#6-offer-47","title":"6.\u5251\u6307 Offer 47. \u793c\u7269\u7684\u6700\u5927\u4ef7\u503c","text":"<p>\u65f6\u95f4O(MN):\u904d\u5386M\u884cN\u5217</p> <p>\u7a7a\u95f4O(1):\u5e38\u6570\u4e2a\u989d\u5916\u53d8\u91cf</p> <pre><code>class Solution:\n    def maxValue(self, grid: List[List[int]]) -&gt; int:\n        m, n = len(grid), len(grid[0])  # M\u884cN\u5217\n\n        # \u521d\u59cb\u5316\u7b2c\u4e00\u5217\u7684\u7d2f\u79ef\u4ef7\u503c\n        for i in range(1, m):\n            grid[i][0] += grid[i - 1][0]\n\n        # \u521d\u59cb\u5316\u7b2c\u4e00\u884c\u7684\u7d2f\u79ef\u4ef7\u503c\n        for j in range(1, n):\n            grid[0][j] += grid[0][j - 1]\n\n        # \u4ece\u7b2c\u4e8c\u884c\u7b2c\u4e8c\u5217\u5f00\u59cb\uff0c\u904d\u5386\u6574\u4e2a\u68cb\u76d8\n        for i in range(1, m):\n            for j in range(1, n):\n                # \u52a8\u6001\u89c4\u5212\u9012\u63a8\u516c\u5f0f\uff1agrid[i][j] = grid[i][j] + max(grid[i - 1][j], grid[i][j - 1])\n                # \u5f53\u524d\u683c\u5b50\u7684\u6700\u5927\u4ef7\u503c = \u5f53\u524d\u683c\u5b50\u4ef7\u503c + max(\u4e0a\u65b9\u683c\u5b50\u7d2f\u79ef\u4ef7\u503c, \u5de6\u65b9\u683c\u5b50\u7d2f\u79ef\u4ef7\u503c)\n                grid[i][j] += max(grid[i - 1][j], grid[i][j - 1])\n\n        # \u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u683c\u5b50\u7684\u7d2f\u79ef\u4ef7\u503c\uff0c\u5373\u6700\u5927\u4ef7\u503c\n        return grid[-1][-1]\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#7-offer-48","title":"7.\u5251\u6307 Offer 48. \u6700\u957f\u4e0d\u542b\u91cd\u590d\u5b57\u7b26\u7684\u5b50\u5b57\u7b26\u4e32","text":"<p>\u65f6\u95f4O(N):\u904d\u5386N\u4e2a\u5b57\u7b26</p> <p>\u7a7a\u95f4O(N):\u6700\u5deeN\u4e2a\u5b57\u7b26\u90fd\u8981\u4fdd\u5b58\u5728dic\u4e2d</p> <pre><code>class Solution:\n    def lengthOfLongestSubstring(self, s: str) -&gt; int:\n        # \u521d\u59cb\u5316\u6700\u957f\u4e0d\u91cd\u590d\u5b50\u4e32\u957f\u5ea6\u548c\u5f53\u524d\u4e0d\u91cd\u590d\u5b50\u4e32\u957f\u5ea6\n        res = temp = 0\n        # \u521b\u5efa\u4e00\u4e2a\u5b57\u5178\u7528\u4e8e\u5b58\u50a8\u5b57\u7b26\u548c\u5176\u5728\u5b57\u7b26\u4e32\u4e2d\u7684\u7d22\u5f15\n        dic = {}\n        # \u904d\u5386\u5b57\u7b26\u4e32\n        for i in range(len(s)):\n            # \u4ece\u5b57\u5178\u4e2d\u83b7\u53d6\u5f53\u524d\u5b57\u7b26\u7684\u7d22\u5f15\uff0c\u5982\u679c\u5b57\u7b26\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de-1\n            j = dic.get(s[i], -1)\n            # \u66f4\u65b0\u5f53\u524d\u5b57\u7b26\u5728\u5b57\u5178\u4e2d\u7684\u7d22\u5f15\n            dic[s[i]] = i\n            # \u5982\u679c\u5f53\u524d\u4e0d\u91cd\u590d\u5b50\u4e32\u957f\u5ea6\u5c0f\u4e8e\u5f53\u524d\u7d22\u5f15\u4e0e\u91cd\u590d\u5b57\u7b26\u7684\u7d22\u5f15\u4e4b\u5dee\uff0c\u5219\u66f4\u65b0\u5f53\u524d\u4e0d\u91cd\u590d\u5b50\u4e32\u957f\u5ea6\uff1b\u5426\u5219\uff0c\u5c06\u5f53\u524d\u4e0d\u91cd\u590d\u5b50\u4e32\u957f\u5ea6\u8bbe\u7f6e\u4e3a\u5f53\u524d\u7d22\u5f15\u4e0e\u91cd\u590d\u5b57\u7b26\u7684\u7d22\u5f15\u4e4b\u5dee\n            temp = (temp + 1) if temp &lt; i - j else i - j\n            # \u66f4\u65b0\u6700\u957f\u4e0d\u91cd\u590d\u5b50\u4e32\u957f\u5ea6\n            res = max(temp, res)\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#8264-ii","title":"8.264. \u4e11\u6570 II","text":"<p>\u65f6\u95f4O(N):\u904d\u5386N\u6b21\u5faa\u73af</p> <p>\u7a7a\u95f4O(N):\u4f7f\u7528N\u4e2adp\u957f\u5ea6</p> <pre><code>class Solution:\n    def nthUglyNumber(self, n: int) -&gt; int:\n        # \u521d\u59cb\u5316\u4e09\u4e2a\u6307\u9488\uff0c\u5206\u522b\u6307\u5411\u4e0b\u4e00\u4e2a\u5c06\u8981\u4e58\u4ee52\u30013\u30015\u7684\u4e11\u6570\u5728\u5217\u8868\u4e2d\u7684\u4f4d\u7f6e\n        i2, i3, i5 = 0, 0, 0\n        # \u521d\u59cb\u5316\u4e00\u4e2a\u5217\u8868\uff0c\u7528\u4e8e\u4fdd\u5b58\u751f\u6210\u7684\u4e11\u6570\n        ugly_number = [1]\n        # \u5faa\u73af\u751f\u6210\u4e0b\u4e00\u4e2a\u4e11\u6570\uff0c\u76f4\u5230\u751f\u6210\u7b2cn\u4e2a\u4e11\u6570\n        while len(ugly_number) &lt; n:\n            # \u5206\u522b\u8ba1\u7b97\u5c06\u8981\u4e58\u4ee52\u30013\u30015\u7684\u4e0b\u4e00\u4e2a\u4e11\u6570\n            ugly2 = ugly_number[i2] * 2\n            ugly3 = ugly_number[i3] * 3\n            ugly5 = ugly_number[i5] * 5\n            # \u627e\u51fa\u8fd9\u4e09\u4e2a\u6570\u4e2d\u6700\u5c0f\u7684\u4e00\u4e2a\uff0c\u5373\u4e3a\u4e0b\u4e00\u4e2a\u4e11\u6570\n            next_number = min(ugly2, ugly3, ugly5)\n            # \u5c06\u6307\u5411\u6700\u5c0f\u503c\u7684\u6307\u9488\u5411\u540e\u79fb\u52a8\u4e00\u4f4d\n            if next_number == ugly2:\n                i2 += 1\n            if next_number == ugly3:\n                i3 += 1\n            if next_number == ugly5:\n                i5 += 1\n            # \u5c06\u65b0\u751f\u6210\u7684\u4e11\u6570\u6dfb\u52a0\u5230\u5217\u8868\u4e2d\n            ugly_number.append(next_number)\n        # \u8fd4\u56de\u7b2cn\u4e2a\u4e11\u6570\n        return ugly_number[-1]\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#10-offer-63","title":"10.\u5251\u6307 Offer 63. \u80a1\u7968\u7684\u6700\u5927\u5229\u6da6","text":"<p>\u65f6\u95f4O(N):\u904d\u5386N\u4e2a\u4ef7\u683c</p> <p>\u7a7a\u95f4O(1):\u5e38\u6570\u4e2a\u989d\u5916\u53d8\u91cf</p> <pre><code>class Solution:\n    def maxProfit(self, prices: List[int]) -&gt; int:\n        min_price, max_profit = float('inf'), 0\n        for price in prices:\n            min_price = min(min_price, price) # \u66f4\u65b0\u6700\u4f4e\u4e70\u5165\u4ef7\u683c\n            max_profit = max(max_profit, price - min_price) # \u66f4\u65b0\u6700\u5927\u5229\u6da6\n        return max_profit\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_9","title":"\u56db\uff0c\u641c\u7d22\u4e0e\u56de\u6eaf\u7b97\u6cd5","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1-offer-12","title":"1.\u5251\u6307 Offer 12. \u77e9\u9635\u4e2d\u7684\u8def\u5f84","text":"<p>\u65f6\u95f4O(MN\\(3^K\\)):\u904d\u5386MN\u4e2a\u5143\u7d20\uff0c\u6bcf\u4e2a\u5143\u7d20\u6700\u591a\u6709\\(3^K\\)\u79cd\u53ef\u80fd</p> <p>\u7a7a\u95f4O(MN):\u6700\u591a\u9012\u5f52\u6df1\u5ea6\u4e3a\u6bcf\u4e2a\u5143\u7d20\u90fd\u627e\u5230\uff0c\u5171MN\u4e2a</p> <pre><code>class Solution:\n    def exist(self, board: List[List[str]], word: str) -&gt; bool:\n        def dfs(i, j, k):\n            if not 0 &lt;= i &lt; len(board) or not 0 &lt;= j &lt; len(board[0]) or board[i][j] != word[k]: return False  # \u8d85\u51fa\u77e9\u9635\u6216\u8005\u5b57\u6bcd\u4e0d\u7b26\u5408\n            if k == len(word) - 1: return True  # \u5982\u679c\u5230\u4e86\u6700\u540e\u4e00\u4e2a\u5b57\u6bcd\u8fd4\u56deTrue\u8868\u793a\u627e\u5230\u4e86\n            board[i][j] = ''  # \u66ff\u6362\u6389\u5f53\u524d\u7684\u503c\n            res = dfs(i + 1, j, k + 1) or dfs(i - 1, j, k + 1) or dfs(i, j + 1, k + 1) or dfs(i, j - 1, k + 1)  # \u5411\u56db\u4e2a\u65b9\u5411\u9012\u5f52\n            board[i][j] = word[k]  # \u8fd8\u539f\u5f53\u524d\u503c\n            return res  # \u8fd4\u56de\u5f53\u524d\u9012\u5f52\u72b6\u6001\u4e0b\u7684\u67d0\u4e2a\u5b57\u6bcd\u662f\u5426\u5339\u914d\n\n        for i in range(len(board)):  # \u884c\u904d\u5386\uff0c\u8fd9\u6837\u5982\u679c\u662f\u7a7a\u77e9\u9635\u76f4\u63a5\u8fd4\u56de[]\n            for j in range(len(board[0])):  # \u5217\u904d\u5386\n                if dfs(i, j, 0): return True\n\n        return False\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2-offer-13","title":"2.\u5251\u6307 Offer 13. \u673a\u5668\u4eba\u7684\u8fd0\u52a8\u8303\u56f4","text":"<p>\u65f6\u95f4O(N)</p> <pre><code>class Solution:\n    def movingCount(self, m: int, n: int, k: int) -&gt; int:\n        def dfs(i, j , si, sj):\n            if i &gt;= m or j &gt;= n or k &lt; si + sj or (i, j) in visited: return 0  # \u5f53i\uff0cj\u8d8a\u754c\u6216\u4e24\u4e2a\u4f4d\u6570\u52a0\u8d77\u6765\u8d85\u8fc7k\u6216(i,j)\u66fe\u7ecf\u5230\u8fc7\n            visited.add((i,j))  # \u8bb0\u5f55\u5230\u8fc7\u7684\u4f4d\u7f6e\n            return 1 + dfs(i + 1,j, si + 1 if (i + 1) % 10 else si - 8, sj) + \\  #\n                       dfs(i, j + 1, si, sj + 1 if (j + 1) % 10 else sj - 8)\n\n        visited = set()\n\n        return dfs(0, 0, 0, 0)\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#3-offer-26","title":"3.\u5251\u6307 Offer 26. \u6811\u7684\u5b50\u7ed3\u6784","text":"<p>\u65f6\u95f4O(MN):M\u4e3aA\u6811\u7684\u8282\u70b9\u6570\u91cf\uff0cN\u4e3aB\u6811\u7684\u8282\u70b9\u6570\u91cf</p> <p>\u7a7a\u95f4O(M):M\u4e3aA\u6811\u7684\u8282\u70b9\u6570\u91cf\uff0c\u6700\u591a\u9012\u5f52M\u5c42</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def isSubStructure(self, A: TreeNode, B: TreeNode) -&gt; bool:\n        def recur(A,B):\n            if not B: return True  # B\u6811\u80cc\u904d\u5386\u5b8c\u5168\n            if not A or A.val != B.val: return False  # \u6ca1\u6709A\u6811\u4e86\uff0cAB\u503c\u4e0d\u5339\u914d\n            return recur(A.left, B.left) and recur(A.right, B.right)  # \u9012\u5f52\u5de6\u6570\uff0c\u53f3\u6811\n\n        return bool(A and B) and (recur(A, B) or self.isSubStructure(A.left, B) or self.isSubStructure(A.right, B))  # AB\u6811\u90fd\u9700\u8981\u5b58\u5728\u540c\u65f6\u6709\u4efb\u4f55\u4e00\u961f\u8282\u70b9\u7b26\u5408\u5b50\u6811\u8981\u6c42\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#4-offer-27","title":"4.\u5251\u6307 Offer 27. \u4e8c\u53c9\u6811\u7684\u955c\u50cf","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u4e8c\u53c9\u6811\u7684\u8282\u70b9\u6570\u91cf</p> <p>\u7a7a\u95f4O(N):\u6700\u591a\u9012\u5f52\u8282\u70b9\u6570\u91cf\u5927\u5c0f\u7684\u6808\u7a7a\u95f4</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def mirrorTree(self, root: TreeNode) -&gt; TreeNode:\n        if not root: return  # \u8bbe\u5b9a\u7ec8\u6b62\u60c5\u51b5\n        temp = root.left  # \u9012\u5f52\u540e\u5de6\u5b50\u6811\u4f1a\u53d8\uff0c\u9700\u8981\u6682\u5b58\n        root.left = self.mirrorTree(root.right)\n        root.right = self.mirrorTree(temp)\n        return root\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#5-offer-28","title":"5.\u5251\u6307 Offer 28. \u5bf9\u79f0\u7684\u4e8c\u53c9\u6811","text":"<p>\u65f6\u95f4O(N):\u6700\u591a\u4e00\u5bf9\u8282\u70b9\u8ba1\u7b97\u4e00\u6b21\uff0c\u4e00\u5171N/2\u6b21</p> <p>\u7a7a\u95f4O(N):\u6700\u591a\u9012\u5f52N/2\u6b21\u7684\u6df1\u5ea6</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def isSymmetric(self, root: TreeNode) -&gt; bool:\n        def recur(L, R):\n            if not L and not R: return True\n            if not L or not R or L.val != R.val: return False\n            return recur(L.left, R.right) and recur(L.right, R.left)\n\n        return recur(root.left, root.right) if root else True\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#6-offer-32-i","title":"6.\u5251\u6307 Offer 32 - I. \u4ece\u4e0a\u5230\u4e0b\u6253\u5370\u4e8c\u53c9\u6811","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u8282\u70b9\u6570\u91cf</p> <p>\u7a7a\u95f4O(N):\u6700\u5dee\u6709N/2\u4e2a\u6811\u8282\u70b9\u540c\u65f6\u5728deque</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def levelOrder(self, root: TreeNode) -&gt; List[int]:\n        if not root: return []\n        deque, res = collections.deque(), []\n        deque.append(root)\n        while deque:\n            node = deque.popleft()\n            res.append(node.val)\n            if node.left:deque.append(node.left)\n            if node.right:deque.append(node.right)\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#7-offer-32-ii-ii","title":"7.\u5251\u6307 Offer 32 - II. \u4ece\u4e0a\u5230\u4e0b\u6253\u5370\u4e8c\u53c9\u6811 II","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u8282\u70b9\u6570\u91cf</p> <p>\u7a7a\u95f4O(N):\u6700\u591aN/2\u4e2adeque\u6682\u5b58\u7a7a\u95f4</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:\n        if not root: return []\n        deque, res  = collections.deque(), []\n        deque.append(root)\n\n        while deque:\n            temp = []\n            for _ in range(len(deque)):\n                node = deque.popleft()\n                temp.append(node.val)\n                if node.left: deque.append(node.left)\n                if node.right: deque.append(node.right)\n            res.append(temp)\n\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#8-offer-32-iii-iii","title":"8.\u5251\u6307 Offer 32 - III. \u4ece\u4e0a\u5230\u4e0b\u6253\u5370\u4e8c\u53c9\u6811 III","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u8282\u70b9\u6570\u91cf</p> <p>\u7a7a\u95f4O(N):\u6700\u591aN/2\u4e2adeque\u6682\u5b58\u7a7a\u95f4</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def levelOrder(self, root: TreeNode) -&gt; List[List[int]]:\n        if not root: return []\n        deque, res = collections.deque(), []\n\n        deque.append(root)\n        while deque:\n            temp = collections.deque()\n            for _ in range(len(deque)):\n                node = deque.popleft()\n                if len(res) % 2: temp.appendleft(node.val)\n                else:temp.append(node.val)\n                if node.left: deque.append(node.left)\n                if node.right:deque.append(node.right)\n            res.append(list(temp))\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#9-offer-34","title":"9.\u5251\u6307 Offer 34. \u4e8c\u53c9\u6811\u4e2d\u548c\u4e3a\u67d0\u4e00\u503c\u7684\u8def\u5f84","text":"<p>\u65f6\u95f4O(N):\u6bcf\u4e2a\u8282\u70b9\u904d\u5386\u4e00\u6b21</p> <p>\u7a7a\u95f4O(N):\u6700\u591a\u6bcf\u4e2a\u8282\u70b9\u90fd\u50a8\u5b58path\u4e2d</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution:\n    def pathSum(self, root: TreeNode, target: int) -&gt; List[List[int]]:\n        res, path = [], []\n        def recur(node, tar):\n            if not node: return \n            tar -= node.val\n            path.append(node.val)\n            if not node.right and not node.left and tar == 0:  # \u8def\u5f84\u6ee1\u8db3\u6761\u4ef6\n                res.append(list(path))  # \u8981\u52a0list\uff0c\u6df1\u62f7\u8d1d\uff0c\u4e0d\u7136path\u5217\u8868\u4f1a\u968f\u7740\u540e\u9762\u7684\u53d8\u5316\u800c\u53d8\u5316\n            recur(node.left, tar)  # \u5de6\u5b50\u6811\u641c\u7d22\n            recur(node.right, tar)  # \u53f3\u5b50\u6811\u6240\u641c\n            path.pop()  # \u8def\u5f84\u9000\u56de\n\n        recur(root, target)\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#10-offer-36","title":"10.\u5251\u6307 Offer 36. \u4e8c\u53c9\u641c\u7d22\u6811\u4e0e\u53cc\u5411\u94fe\u8868","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#11-offer-37","title":"11.\u5251\u6307 Offer 37. \u5e8f\u5217\u5316\u4e8c\u53c9\u6811","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#12-offer-38","title":"12.\u5251\u6307 Offer 38. \u5b57\u7b26\u4e32\u7684\u6392\u5217","text":"<p>\u65f6\u95f4O(N!N):N!\u4e3a\u53ef\u80fd\u6027\uff0c\u6bcf\u6b21join\u5360\u7528N\u7684\u65f6\u95f4</p> <p>\u7a7a\u95f4O(\\(N^2\\)):\u9012\u5f52\u6df1\u5ea6\u4e3aN\uff0cdic\u96c6\u5408\u4e2d\u6700\u591a\u5b58\u6709N\u4e2a\u5b57\u6bcd</p> <pre><code>class Solution:\n    def permutation(self, s: str) -&gt; List[str]:\n        c, res = list(s), []\n        def dfs(x):\n            if x == len(c) - 1: \n                res.append(''.join(c))  # \u5230\u5e95\u4e86\u5c31\u6dfb\u52a0\u65b0\u60c5\u51b5\n                return \n            dic = set()  # \u6682\u5b58\u5df2\u7ecf\u56fa\u5b9a\u7684\u5b57\u6bcd\n            for i in range(x, len(c)):\n                if c[i] in dic: continue  # \u5982\u679c\u56fa\u5b9a\u8fc7\u5c31\u8df3\u8fc7\n                dic.add(c[i])\n                c[i], c[x] = c[x], c[i]\n                dfs(x + 1)\n                c[i], c[x] = c[x], c[i]\n        dfs(0)\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#13-offer-54-k","title":"13.\u5251\u6307 Offer 54. \u4e8c\u53c9\u641c\u7d22\u6811\u7684\u7b2ck\u5927\u8282\u70b9","text":"<p>\u65f6\u95f4O(N)</p> <p>\u7a7a\u95f4O(N)</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def kthLargest(self, root: TreeNode, k: int) -&gt; int:\n        def dfs(node):\n            if not node: return\n            dfs(node.right)\n            if self.k == 0: return\n            self.k -= 1\n            if self.k == 0: self.res = node.val\n            dfs(node.left)\n\n        self.k = k\n        dfs(root)\n        return self.res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#14-offer-55-i","title":"14.\u5251\u6307 Offer 55 - I. \u4e8c\u53c9\u6811\u7684\u6df1\u5ea6","text":"<p>\u65f6\u95f4O(N)</p> <p>\u7a7a\u95f4O(N)</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def maxDepth(self, root: TreeNode) -&gt; int:\n        if not root:return 0\n        queue, res = [root], 0\n\n        while queue:\n            temp = []\n            for node in queue:\n                if node.left: temp.append(node.left)\n                if node.right: temp.append(node.right)\n            queue = temp\n            res += 1\n\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#15-offer-55-ii","title":"15.\u5251\u6307 Offer 55 - II. \u5e73\u8861\u4e8c\u53c9\u6811","text":"<p>\u8ff7</p> <pre><code>class Solution:\n    def isBalanced(self, root: TreeNode) -&gt; bool:\n        def recur(root):\n            if not root: return 0\n            left = recur(root.left)\n            if left == -1: return -1\n            right = recur(root.right)\n            if right == -1: return -1\n            return max(left, right) + 1 if abs(left - right) &lt;= 1 else -1\n\n        return recur(root) != -1\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#16-offer-64-12n","title":"16.\u5251\u6307 Offer 64. \u6c421+2+\u2026+n","text":"<p>\u65f6\u95f4O(N):N\u6b21\u9012\u5f52</p> <p>\u7a7a\u95f4O(N):N\u7684\u9012\u5f52\u6df1\u5ea6</p> <pre><code>class Solution:\n    def __init__(self):\n        self.res = 0\n    def sumNums(self, n: int) -&gt; int:\n        n &gt; 1 and self.sumNums(n - 1)\n        self.res += n\n        return self.res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#17-offer-68-i","title":"17.\u5251\u6307 Offer 68 - I. \u4e8c\u53c9\u641c\u7d22\u6811\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#18-offer-68-ii","title":"18.\u5251\u6307 Offer 68 - II. \u4e8c\u53c9\u6811\u7684\u6700\u8fd1\u516c\u5171\u7956\u5148","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_10","title":"\u4e94\uff0c\u5206\u6cbb\u7b97\u6cd5","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1-offer-07","title":"1.\u5251\u6307 Offer 07. \u91cd\u5efa\u4e8c\u53c9\u6811","text":"<p>\u65f6\u95f4O(N):N\u4e3a\u8282\u70b9\u6570\u91cf</p> <p>\u7a7a\u95f4O(N):\u4e2d\u5e8f\u904d\u5386\u5b57\u5178\u5360N\u4e2a\u7a7a\u95f4\uff0c\u6700\u591a\u6811\u7684\u9012\u5f52\u6df1\u5ea6\u4e3aN</p> <pre><code># Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.left = None\n#         self.right = None\n\nclass Solution:\n    def buildTree(self, preorder: List[int], inorder: List[int]) -&gt; TreeNode:\n        def recur(root, left, right):\n            if left &gt; right: return \n            node = TreeNode(preorder[root])  # \u5efa\u7acb\u6839\u8282\u70b9\n            i = dic[preorder[root]]  # \u83b7\u53d6\u6839\u8282\u70b9\u5728\u4e2d\u5e8f\u904d\u5386\u4e2d\u7684\u4f4d\u7f6e\n            node.left = recur(root + 1, left, i - 1)  # \u5efa\u7acb\u5de6\u5b50\u6811\n            node.right = recur(i - left + root + 1, i + 1, right)  # \u5efa\u7acb\u53f3\u5b50\u6811\n            return node\n\n        dic = {}\n        for i in range(len(inorder)):  # \u4e3a\u4e2d\u5e8f\u904d\u5386\u6784\u9020\u5b57\u5178\u5c06\u67e5\u627e\u8282\u70b9\u7684\u65f6\u95f4\u590d\u6742\u5ea6O(N)-&gt;O(1)\n            dic[inorder[i]] = i\n\n        return recur(0, 0, len(inorder) - 1)\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2-offer-16","title":"2.\u5251\u6307 Offer 16. \u6570\u503c\u7684\u6574\u6570\u6b21\u65b9","text":"<p>\u8ff7</p> <pre><code>class Solution:\n    def myPow(self, x: float, n: int) -&gt; float:\n        if x == 0: return 0\n        res = 1\n        if n &lt; 0: x, n = 1 / x, -n\n        while n:\n            if n &amp; 1: res *= x\n            x *= x\n            n &gt;&gt;= 1\n        return res \n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#3-offer-17-1n","title":"3.\u5251\u6307 Offer 17. \u6253\u5370\u4ece1\u5230\u6700\u5927\u7684n\u4f4d\u6570","text":"<p>\u65f6\u95f4O(\\(10^n\\)):\u5efa\u7acb\u5217\u8868\u7528\\(10^n\\)</p> <p>\u7a7a\u95f4O(1):\u5efa\u7acb\u5217\u8868\u9700\u4f7f\u7528o(1)\u5927\u5c0f\u7684\u989d\u5916\u7a7a\u95f4(\u5217\u8868\u4f5c\u4e3a\u8fd4\u56de\u7ed3\u679c\uff0c\u4e0d\u8ba1\u5165\u989d\u5916\u7a7a\u95f4)</p> <pre><code>class Solution:\n    def printNumbers(self, n: int) -&gt; List[int]:\n        res = []\n        for i in range(1,10 ** n):\n            res.append(i)\n        return res\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#4-offer-33","title":"4.\u5251\u6307 Offer 33. \u4e8c\u53c9\u641c\u7d22\u6811\u7684\u540e\u5e8f\u904d\u5386\u5e8f\u5217","text":"<pre><code>class Solution:\n    def verifyPostorder(self, postorder: List[int]) -&gt; bool:\n        def recur(left, right):\n            if left &gt;= right: return True\n            p = left\n            while postorder[p] &lt; postorder[right]: p += 1\n            m = p\n            while postorder[p] &gt; postorder[right]: p += 1\n            return p == right and recur(left, m - 1) and recur(m, right - 1)\n\n        return recur(0, len(postorder) - 1)\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#5-offer-51","title":"5.\u5251\u6307 Offer 51. \u6570\u7ec4\u4e2d\u7684\u9006\u5e8f\u5bf9","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_11","title":"\u516d\uff0c\u6392\u5e8f","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1-offer-40-k","title":"1.\u5251\u6307 Offer 40. \u6700\u5c0f\u7684k\u4e2a\u6570","text":"<pre><code>class Solution:\n    def getLeastNumbers(self, arr: List[int], k: int) -&gt; List[int]:\n        def quicksort(arr, l, r):\n            if l &gt;= r: return  # \u8df3\u51fa\u6761\u4ef6\n            i, j = l, r\n            while i &lt; j:  # \u54e8\u5175\u5212\u5206\n                while i &lt; j and arr[j] &gt;= arr[l]: j -= 1\n                while i &lt; j and arr[i] &lt;= arr[l]: i += 1\n                arr[i], arr[j] = arr[j], arr[i]\n            arr[l], arr[i] = arr[i], arr[l]\n            quicksort(arr, l, i - 1)  # \u9012\u5f52\n            quicksort(arr, i + 1, r)\n        quicksort(arr, 0, len(arr) - 1)\n        return arr[:k]\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2-offer-41","title":"2.\u5251\u6307 Offer 41. \u6570\u636e\u6d41\u4e2d\u7684\u4e2d\u4f4d\u6570","text":"<pre><code>from heapq import *\n\nclass MedianFinder:\n\n    def __init__(self):\n\"\"\"\n        initialize your data structure here.\n        \"\"\"\n        self.small =  []\n        self.big = []\n\n    def addNum(self, num: int) -&gt; None:\n        if len(self.small) != len(self.big):\n            heappush(self.small, num)\n            heappush(self.big, -heappop(self.small))  # \u7528\u7b26\u53f7\u6a21\u62df\u5927\u9876\u5806\n        else:\n            heappush(self.big, -num)\n            heappush(self.small, -heappop(self.big))\n\n    def findMedian(self) -&gt; float:\n        return self.small[0] if len(self.small) != len(self.big) else (self.small[0] - self.big[0]) / 2.0\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#3-offer-45","title":"3.\u5251\u6307 Offer 45. \u628a\u6570\u7ec4\u6392\u6210\u6700\u5c0f\u7684\u6570","text":"<pre><code>class Solution:\n    def minNumber(self, nums: List[int]) -&gt; str:\n        def quicksort(arr, l, r):\n            if l &gt;= r: return  # \u8df3\u51fa\u60c5\u51b5\n            i, j = l, r\n            while i &lt; j:\n                while i &lt; j and arr[l] + arr[j] &lt;= arr[j] + arr[l]: j -= 1  # \u65b0\u7684\u5224\u65ad\u6807\u51c6\n                while i &lt; j and arr[l] + arr[i] &gt;= arr[i] + arr[l]: i += 1\n                arr[i], arr[j] = arr[j], arr[i]\n            arr[l], arr[i] = arr[i], arr[l]\n            quicksort(arr, i + 1, r)\n            quicksort(arr, l, i - 1)\n        arr = [str(i) for i in nums]  # \u5229\u7528\u5b57\u7b26\u4e32\u6765\u6bd4\u8f83\u5927\u5c0f\n        quicksort(arr, 0, len(arr) - 1)\n        return ''.join(arr)\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#4-offer-61","title":"4.\u5251\u6307 Offer 61. \u6251\u514b\u724c\u4e2d\u7684\u987a\u5b50","text":"<pre><code>class Solution:\n    def isStraight(self, nums: List[int]) -&gt; bool:\n        ma, mi = 0, 14\n        repeat = set()\n        for num in nums:\n            if num == 0: continue\n            ma = max(ma, num)\n            mi = min(mi, num)\n            if num in repeat: return False\n            repeat.add(num)\n        return ma - mi &lt; 5\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_12","title":"\u4e03.\u67e5\u627e\u7b97\u6cd5","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1-offer-03","title":"1.\u5251\u6307 Offer 03. \u6570\u7ec4\u4e2d\u91cd\u590d\u7684\u6570\u5b57","text":"<pre><code>class Solution:\n    def findRepeatNumber(self, nums: List[int]) -&gt; int:\n        dic = {}\n        for num in nums:\n            dic[num] = num in dic\n        for k, v in dic.items():\n            if v: return k\n        return ''\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2-offer-04","title":"2.\u5251\u6307 Offer 04. \u4e8c\u7ef4\u6570\u7ec4\u4e2d\u7684\u67e5\u627e","text":"<pre><code>class Solution:\n    def findNumberIn2DArray(self, matrix: List[List[int]], target: int) -&gt; bool:\n        i, j = len(matrix) - 1, 0\n        while i &gt;= 0 and j &lt;= len(matrix[0]) - 1:\n            if target &gt; matrix[i][j]: j += 1\n            elif target &lt; matrix[i][j]: i -= 1\n            else: return True\n        return False\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#3-offer-11","title":"3.\u5251\u6307 Offer 11. \u65cb\u8f6c\u6570\u7ec4\u7684\u6700\u5c0f\u6570\u5b57","text":"<pre><code>class Solution:\n    def minArray(self, numbers: List[int]) -&gt; int:\n        i, j = 0, len(numbers) - 1\n        m = 0\n        while i &lt; j:\n            m = (i + j) // 2\n            if numbers[m] &lt; numbers[j]: j = m\n            elif numbers[m] &gt; numbers[j]: i = m + 1\n            else: j -= 1\n        return numbers[i]\n\nclass Solution:\n    def minArray(self, numbers: List[int]) -&gt; int:\n        return min(numbers)        \n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#4-offer-50","title":"4.\u5251\u6307 Offer 50. \u7b2c\u4e00\u4e2a\u53ea\u51fa\u73b0\u4e00\u6b21\u7684\u5b57\u7b26","text":"<p>\u65f6\u95f4O(N):\u904d\u5386N\u4e2a\u5b57\u7b26</p> <p>\u7a7a\u95f4O(1):\u6700\u591a\u53ea\u670926\u4e2a\u5c0f\u5199\u5b57\u6bcd</p> <pre><code>class Solution:\n    def firstUniqChar(self, s: str) -&gt; str:\n        dic = {}\n        for c in s:\n            dic[c] = c not in dic\n        for k, v in dic.items():\n            if v: return k\n        return ' '\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#5-offer-53-i-i","title":"5.\u5251\u6307 Offer 53 - I. \u5728\u6392\u5e8f\u6570\u7ec4\u4e2d\u67e5\u627e\u6570\u5b57 I","text":"<pre><code>class Solution:\n    def search(self, nums: List[int], target: int) -&gt; int:\n        i, j = 0, len(nums) - 1\n        while i &lt;= j:  # \u627e\u5de6\u8fb9\u754c\n            m = (i + j) // 2\n            if nums[m] &lt; target: i = m + 1\n            elif nums[m] &gt; target: j = m - 1\n            else: j = m - 1\n        left = j\n        if not nums:return 0\n        if (left + 1) &lt; len(nums) and nums[left + 1] != target: return 0\n        i, j = 0, len(nums) - 1\n        while i &lt;= j:\n            m = (i + j) // 2\n            if nums[m] &gt; target: j = m - 1\n            elif nums[m] &lt; target: i = m + 1\n            else: i = m + 1\n        return i - left - 1\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#6-offer-53-ii-0n-1","title":"6.\u5251\u6307 Offer 53 - II. 0\uff5en-1\u4e2d\u7f3a\u5931\u7684\u6570\u5b57","text":"<pre><code>class Solution:\n    def missingNumber(self, nums: List[int]) -&gt; int:\n        i, j = 0, len(nums) - 1\n        while i &lt;= j:\n            m = (i + j) // 2\n            if nums[m] == m: i = m + 1\n            elif nums[m] &gt; m: j = m - 1\n        return i\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_13","title":"\u516b\uff0c\u53cc\u6307\u9488","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#1-offer-18","title":"1.\u5251\u6307 Offer 18. \u5220\u9664\u94fe\u8868\u7684\u8282\u70b9","text":"<pre><code># Definition for singly-linked list.\n# class ListNode:\n#     def __init__(self, x):\n#         self.val = x\n#         self.next = None\nclass Solution:\n    def deleteNode(self, head: ListNode, val: int) -&gt; ListNode:\n        if head.val == val: return head.next\n        pre, cur = head, head.next\n        while cur:\n            if cur.val == val:\n                pre.next = cur.next\n                break\n            pre, cur = cur, cur.next\n        return head\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#2-offer-21","title":"2.\u5251\u6307 Offer 21. \u8c03\u6574\u6570\u7ec4\u987a\u5e8f\u4f7f\u5947\u6570\u4f4d\u4e8e\u5076\u6570\u524d\u9762","text":"<pre><code>class Solution:\n    def exchange(self, nums: List[int]) -&gt; List[int]:\n        i, j = 0, len(nums) - 1\n        while i &lt; j:\n            while i &lt; j and nums[i] % 2 != 0: i += 1\n            while i &lt; j and nums[j] % 2 == 0: j -= 1\n            nums[i], nums[j] = nums[j], nums[i]\n        return nums\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#3-offer-22-k","title":"3.\u5251\u6307 Offer 22. \u94fe\u8868\u4e2d\u5012\u6570\u7b2ck\u4e2a\u8282\u70b9","text":"<pre><code>class Solution:\n    def getKthFromEnd(self, head: ListNode, k: int) -&gt; ListNode:\n        nums = 0\n        node = head\n        while node:\n            node = node.next\n            nums += 1\n        node = head\n        nums = nums - k\n        num = 0\n        while node:\n            if nums == num:\n                return node\n            node = node.next\n            num += 1\n</code></pre>"},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_14","title":"\u4e5d\uff0c\u4f4d\u8fd0\u7b97","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_15","title":"\u5341\uff0c\u6570\u5b57","text":""},{"location":"%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%91%E6%8C%87offer/#_16","title":"\u5341\u4e00\uff0c\u6a21\u62df","text":""},{"location":"%E7%AE%97%E6%B3%95/%E5%BF%83%E6%80%81/","title":"\u5fc3\u6001","text":"<p>\u5b66\u7b97\u6cd5\u7684\u65f6\u5019\uff0c\u6709\u65f6\u5019\u9700\u8981\u653e\u4e0b\u4e00\u4e9b\u70b9\uff0c\u7136\u540e\u603b\u7ed3\u6210\u81ea\u5df1\u7684\u7406\u89e3</p>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/","title":"K-means","text":""},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_1","title":"K-means","text":""},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#k-means","title":"K-means\u7b97\u6cd5","text":""},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#1","title":"1. \u7b80\u8981\u601d\u8def\u4e0e\u56fe\u793a","text":""},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_2","title":"\u7b80\u8981\u601d\u8def","text":"<p>K-means\u662f\u4e00\u79cd\u975e\u5e38\u7ecf\u5178\u4e14\u7b80\u5355\u7684\u805a\u7c7b\u7b97\u6cd5\u3002\u5b83\u7684\u76ee\u7684\u662f\u5c06n\u4e2a\u89c2\u5bdf\u70b9\u5212\u5206\u5230k\u4e2a\u805a\u7c7b\u4e2d\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u89c2\u5bdf\u70b9\u5c5e\u4e8e\u79bb\u5b83\u6700\u8fd1\u7684\u5747\u503c\uff08\u5373\u805a\u7c7b\u4e2d\u5fc3\uff09\u5bf9\u5e94\u7684\u805a\u7c7b\u3002K-means\u7b97\u6cd5\u91c7\u7528\u8fed\u4ee3\u65b9\u5f0f\u66f4\u65b0\u805a\u7c7b\u4e2d\u5fc3\uff0c\u76f4\u5230\u7b97\u6cd5\u6536\u655b\u3002</p>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_3","title":"\u56fe\u793a","text":"<pre><code>flowchart TD\n    A((\u5f00\u59cb)) --&gt; B[\u9009\u62e9\u805a\u7c7b\u6570\u76eek]\n    B --&gt; C[\u968f\u673a\u521d\u59cb\u5316k\u4e2a\u805a\u7c7b\u4e2d\u5fc3]\n    C --&gt; D[\u5c06\u6bcf\u4e2a\u6570\u636e\u70b9\u5206\u914d\u5230\u6700\u8fd1\u7684\u805a\u7c7b\u4e2d\u5fc3]\n    D --&gt; E[\u66f4\u65b0\u6bcf\u4e2a\u805a\u7c7b\u7684\u4e2d\u5fc3\u4e3a\u8be5\u805a\u7c7b\u6570\u636e\u70b9\u7684\u5747\u503c]\n    E --&gt; F[\u8ba1\u7b97\u805a\u7c7b\u4e2d\u5fc3\u7684\u53d8\u5316]\n    F --&gt; G{\u805a\u7c7b\u4e2d\u5fc3\u53d8\u5316 &gt; \u9608\u503c}\n    G --&gt;|\u662f| C\n    G --&gt;|\u5426| H[\u8f93\u51fa\u6700\u7ec8\u805a\u7c7b\u7ed3\u679c]\n    H --&gt; I((\u7ed3\u675f))</code></pre>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#2","title":"2. \u4e3b\u8981\u6b65\u9aa4\u548c\u516c\u5f0f\u8bf4\u660e","text":""},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_4","title":"\u4e3b\u8981\u6b65\u9aa4","text":"<ol> <li>\u521d\u59cb\u5316\uff1a\u968f\u673a\u9009\u62e9k\u4e2a\u89c2\u5bdf\u70b9\u4f5c\u4e3a\u521d\u59cb\u805a\u7c7b\u4e2d\u5fc3\u3002</li> <li>\u8fed\u4ee3\u66f4\u65b0\uff1a a. \u5c06\u6bcf\u4e2a\u89c2\u5bdf\u70b9\u5206\u914d\u5230\u79bb\u5b83\u6700\u8fd1\u7684\u805a\u7c7b\u4e2d\u5fc3\u3002 b. \u66f4\u65b0\u6bcf\u4e2a\u805a\u7c7b\u4e2d\u5fc3\u4e3a\u5206\u914d\u7ed9\u8be5\u805a\u7c7b\u7684\u89c2\u5bdf\u70b9\u7684\u5747\u503c\u3002</li> <li>\u91cd\u590d\u6b65\u9aa42\uff0c\u76f4\u5230\u805a\u7c7b\u4e2d\u5fc3\u4e0d\u518d\u53d1\u751f\u663e\u8457\u53d8\u5316\u3002</li> </ol>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_5","title":"\u516c\u5f0f\u8bf4\u660e","text":"<p>\u5206\u914d\u89c2\u5bdf\u70b9\u5230\u6700\u8fd1\u7684\u805a\u7c7b\u4e2d\u5fc3\u7684\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p>\\(c_i = \\arg\\min\\limits_{c \\in \\{1, 2, \\cdots, k\\}} d(x_i, \\mu_c)\\)</p> <p>\u5176\u4e2d\uff0c\\(c_i\\)\u8868\u793a\u7b2c\\(i\\)\u4e2a\u89c2\u5bdf\u70b9\\(x_i\\)\u6240\u5c5e\u7684\u805a\u7c7b\uff0c\\(\\mu_c\\)\u8868\u793a\u7b2c\\(c\\)\u4e2a\u805a\u7c7b\u7684\u4e2d\u5fc3\uff0c\\(d(x_i, \\mu_c)\\)\u8868\u793a\u89c2\u5bdf\u70b9\\(x_i\\)\u4e0e\u805a\u7c7b\u4e2d\u5fc3\\(\\mu_c\\)\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002</p> <p>\u66f4\u65b0\u805a\u7c7b\u4e2d\u5fc3\u7684\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p>\\(\\mu_c = \\frac{1}{n_c} \\sum\\limits_{x \\in C_c} x\\)</p> <p>\u5176\u4e2d\uff0c\\(n_c\\)\u8868\u793a\u7b2c\\(c\\)\u4e2a\u805a\u7c7b\u4e2d\u89c2\u5bdf\u70b9\u7684\u6570\u91cf\uff0c\\(C_c\\)\u8868\u793a\u7b2c\\(c\\)\u4e2a\u805a\u7c7b\u7684\u89c2\u5bdf\u70b9\u96c6\u5408\u3002</p>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#3","title":"3. \u4f18\u7f3a\u70b9","text":""},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_6","title":"\u4f18\u70b9","text":"<ol> <li>K-means\u7b97\u6cd5\u7b80\u5355\u4e14\u6613\u4e8e\u5b9e\u73b0\u3002</li> <li>\u8ba1\u7b97\u590d\u6742\u5ea6\u8f83\u4f4e\uff0c\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u6570\u636e\u96c6\u3002</li> <li>\u5f53\u6570\u636e\u6ee1\u8db3\u67d0\u4e9b\u5047\u8bbe\uff08\u5982\u7c7b\u72b6\u5206\u5e03\uff09\u65f6\uff0c\u7b97\u6cd5\u8868\u73b0\u8f83\u597d\u3002</li> </ol>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_7","title":"\u7f3a\u70b9","text":"<ol> <li>\u9700\u8981\u9884\u5148\u8bbe\u5b9a\u805a\u7c7b\u6570\u91cfk\uff0c\u4f46\u5728\u5b9e\u9645\u5e94\u7528\u4e2dk\u7684\u503c\u901a\u5e38\u96be\u4ee5\u786e\u5b9a\u3002</li> <li>\u5bf9\u521d\u59cb\u805a\u7c7b\u4e2d\u5fc3\u654f\u611f\uff0c\u53ef\u80fd\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3\u3002\u901a\u5e38\u9700\u8981\u591a\u6b21\u968f\u673a\u521d\u59cb\u5316\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u7ed3\u679c\u3002</li> <li>\u5bf9\u4e8e\u975e\u51f8\u6570\u636e\u96c6\u6216\u5177\u6709\u4e0d\u540c\u5927\u5c0f\u548c\u5bc6\u5ea6\u7684\u805a\u7c7b\uff0cK-means\u7b97\u6cd5\u8868\u73b0\u8f83\u5dee\u3002</li> <li>\u4e0d\u9002\u7528\u4e8e\u79bb\u6563\u6570\u636e\u548c\u975e\u6570\u503c\u578b\u6570\u636e\u3002</li> </ol>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#4-nlp","title":"4. NLP\u5e94\u7528\u548c\u5de5\u7a0b\u6d41\u7a0b","text":""},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#nlp","title":"NLP\u5e94\u7528","text":"<ol> <li>\u6587\u6863\u805a\u7c7b\uff1a\u5bf9\u5927\u91cf\u6587\u672c\u6570\u636e\u8fdb\u884c\u805a\u7c7b\uff0c\u4ee5\u53d1\u73b0\u76f8\u4f3c\u4e3b\u9898\u6216\u5185\u5bb9\u3002</li> <li>\u6587\u672c\u6458\u8981\uff1a\u5c06\u76f8\u4f3c\u7684\u53e5\u5b50\u805a\u7c7b\uff0c\u4ece\u6bcf\u4e2a\u805a\u7c7b\u4e2d\u9009\u62e9\u4ee3\u8868\u6027\u53e5\u5b50\u4f5c\u4e3a\u6587\u672c\u6458\u8981\u3002</li> </ol>"},{"location":"%E7%AE%97%E6%B3%95/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/K-means/#_8","title":"\u5de5\u7a0b\u6d41\u7a0b","text":"<ol> <li>\u6570\u636e\u9884\u5904\u7406\uff1a\u5bf9\u6587\u672c\u6570\u636e\u8fdb\u884c\u6e05\u6d17\u3001\u5206\u8bcd\u3001\u53bb\u505c\u7528\u8bcd\u7b49\u64cd\u4f5c\uff0c\u4ee5\u63d0\u53d6\u5173\u952e\u4fe1\u606f\u3002</li> <li>\u7279\u5f81\u63d0\u53d6\uff1a\u5c06\u6587\u672c\u6570\u636e\u8f6c\u6362\u4e3a\u6570\u503c\u578b\u7279\u5f81\uff0c\u4f8b\u5982TF-IDF\u5411\u91cf\u6216\u8bcd\u5d4c\u5165\uff08\u5982Word2Vec\u3001GloVe\u7b49\uff09\u6216\u53e5\u5411\u91cf\uff08\u5982SimCse\uff09\u3002</li> <li>\u5e94\u7528K-means\u7b97\u6cd5\uff1a\u6839\u636e\u5b9e\u9645\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684k\u503c\uff0c\u8fd0\u884cK-means\u7b97\u6cd5\u5bf9\u7279\u5f81\u8fdb\u884c\u805a\u7c7b\u3002</li> <li>\u7ed3\u679c\u5206\u6790\uff1a\u5bf9\u805a\u7c7b\u7ed3\u679c\u8fdb\u884c\u53ef\u89c6\u5316\u548c\u5206\u6790\uff0c\u4ee5\u89e3\u91ca\u7b97\u6cd5\u53d1\u73b0\u7684\u6f5c\u5728\u7ed3\u6784\u6216\u4e3b\u9898\u3002</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/","title":"2018-bert.md","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#_1","title":"2018-bert.md","text":"<p>\u8fd9\u7bc7\u7b14\u8bb0\u7684\u91cd\u70b9\u89d2\u5ea6\u4e0d\u5728\u4e8ebert\u7684\u539f\u672c\u8bba\u6587\u7684\u5185\u5bb9\uff0c\u66f4\u591a\u7684\u5728\u4e8e\u5bf9NLP\u53d1\u5c55\u7684\u89d2\u5ea6</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#_2","title":"\u4e00\uff0c\u8303\u5f0f\u6539\u53d8","text":"<ol> <li>NLP\u4efb\u52a1\u4e0a\uff1a\u4ece\u76f4\u63a5\u5fae\u8c03\u53d8\u6210\u4e86\u5148\u9884\u8bad\u7ec3\u7136\u540e\u518d\u5fae\u8c03</li> <li>\u6a21\u578b\u7ed3\u6784\u4e0a\uff1a\u786e\u7acb\u4e86attention\u7684\u5730\u4f4d</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#bert","title":"\u4e8c\uff0cbert\u7279\u70b9","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#1","title":"1.\u9884\u8bad\u7ec3","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#amlm","title":"a.MLM\u4efb\u52a1","text":"<p>\u8bad\u7ec3\u6570\u636e\u751f\u6210\u5668\u4f1a\u968f\u673a\u9009\u62e915%\u7684\u6807\u8bb0\u4f4d\u7f6e\u8fdb\u884c\u9884\u6d4b\u3002\u5982\u679c\u7b2ci\u4e2a\u6807\u8bb0\u88ab\u9009\u4e2d\uff0c\u6211\u4eec\u5c06\u5176\u66ff\u6362\u4e3a\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\u4e4b\u4e00\uff1a(1) 80%\u53ef\u80fd\u6027\u66ff\u6362\u6210[MASK]\uff1b(2) 10%\u53ef\u80fd\u6027\u66ff\u6362\u6210\u968f\u673atoken(3) 10%\u53ef\u80fd\u6027\u4fdd\u6301\u4e0d\u53d8\u3002</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#bnsp","title":"b.NSP\u4efb\u52a1","text":"<p>\u5f53\u4e3a\u6bcf\u4e2a\u9884\u8bad\u7ec3\u793a\u4f8b\u9009\u62e9\u53e5\u5b50A\u548cB\u65f6\uff0c\u670950%\u7684\u53ef\u80fd\u6027B\u662f\u7d27\u968fA\u540e\u7684\u771f\u6b63\u4e0b\u4e00\u4e2a\u53e5\u5b50(\u6807\u8bb0\u4e3aIsNext),\u800c\u53e6\u591650%\u7684\u53ef\u80fd\u6027\u5b83\u662f\u8bed\u6599\u5e93\u4e2d\u7684\u4e00\u4e2a\u968f\u673a\u53e5\u5b50(\u6807\u8bb0\u4e3aNotNext)\u3002</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#2","title":"2.\u53cc\u5411\u7f16\u7801\u5668","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#a","title":"a.\u6a21\u578b\u7ed3\u6784","text":"<pre><code>BertModel(\n  (embeddings): BertEmbeddings(\n    (word_embeddings): Embedding(21128, 768, padding_idx=0)\n    (position_embeddings): Embedding(512, 768)\n    (token_type_embeddings): Embedding(2, 768)\n    (LayerNorm): LayerNorm((768,), eps=1e-12, elementwise_affine=True)\n    (dropout): Dropout(p=0.1, inplace=False)\n  )\n  (encoder): BertEncoder(\n    (layer): ModuleList(\n      (0-11): 12 x BertLayer(\n        (attention): BertAttention(\n          (self): BertSelfAttention(\n            (query): Linear(in_features=768, out_features=768, bias=True)\n            (key): Linear(in_features=768, out_features=768, bias=True)\n            (value): Linear(in_features=768, out_features=768, bias=True)\n            (dropout): Dropout(p=0.1, inplace=False)\n          )\n          (output): BertSelfOutput(\n            (dense): Linear(in_features=768, out_features=768, bias=True)\n            (LayerNorm): LayerNorm((768,), eps=1e-12, elementwise_affine=True)\n            (dropout): Dropout(p=0.1, inplace=False)\n          )\n        )\n        (intermediate): BertIntermediate(\n          (dense): Linear(in_features=768, out_features=3072, bias=True)\n          (intermediate_act_fn): GELUActivation()\n        )\n        (output): BertOutput(\n          (dense): Linear(in_features=3072, out_features=768, bias=True)\n          (LayerNorm): LayerNorm((768,), eps=1e-12, elementwise_affine=True)\n          (dropout): Dropout(p=0.1, inplace=False)\n        )\n      )\n    )\n  )\n  (pooler): BertPooler(\n    (dense): Linear(in_features=768, out_features=768, bias=True)\n    (activation): Tanh()\n  )\n)\n</code></pre> <ul> <li>BertEmbeddings\uff1a\u8be5\u5c42\u5bf9\u8f93\u5165\u8fdb\u884c\u5d4c\u5165\uff08embedding\uff09\uff0c\u5305\u62ec\u5355\u8bcd\u5d4c\u5165\uff08word_embeddings\uff09\u3001\u4f4d\u7f6e\u5d4c\u5165\uff08position_embeddings\uff09\u548c\u6807\u8bb0\u7c7b\u578b\u5d4c\u5165\uff08token_type_embeddings\uff09\uff0c\u5e76\u4e14\u4f7f\u7528LayerNorm\u548cDropout\u5bf9\u5b83\u4eec\u8fdb\u884c\u6807\u51c6\u5316\u548c\u89c4\u8303\u5316\u3002</li> <li>BertEncoder\uff1a\u8be5\u5c42\u7531\u591a\u4e2aBertLayer\u7ec4\u6210\uff0c\u6bcf\u4e2aBertLayer\u7531\u4e00\u4e2aBertAttention\u5c42\u3001BertIntermediate\u5c42\u548cBertOutput\u5c42\u7ec4\u6210\u3002\u5176\u4e2dBertAttention\u5c42\u5b9e\u73b0\u4e86\u81ea\u6ce8\u610f\u529b\u673a\u5236\uff0cBertIntermediate\u5c42\u4f7f\u7528\u5168\u8fde\u63a5\u5c42\u8fdb\u884c\u7ef4\u5ea6\u6269\u5f20\uff0cBertOutput\u5c42\u518d\u4f7f\u7528\u5168\u8fde\u63a5\u5c42\u5c06\u5176\u538b\u7f29\u56de\u539f\u6765\u7684\u7ef4\u5ea6\uff0c\u5e76\u4f7f\u7528LayerNorm\u548cDropout\u8fdb\u884c\u6807\u51c6\u5316\u548c\u89c4\u8303\u5316\u3002</li> <li>BertPooler\uff1a\u8be5\u5c42\u4f7f\u7528\u7ebf\u6027\u5c42\u548ctanh\u6fc0\u6d3b\u51fd\u6570\u751f\u6210\u6a21\u578b\u7684\u8f93\u51fa\u8868\u793a\uff0c\u901a\u5e38\u7528\u4e8e\u5206\u7c7b\u4efb\u52a1\u3002</li> </ul>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#b","title":"b.\u7f16\u7801\u65b9\u5f0f","text":"<p>\u4ece\u4e0a\u9762\u7684\u6a21\u578b\u7ed3\u6784\u4e5f\u80fd\u770b\u51fa\u6709\u4e09\u4e2aembedding\u7684\u53c2\u6570\u7528\u6765\u67e5\u627e\uff0c\u7136\u540e\u5c06\u4e09\u4e2a\u76f8\u52a0</p> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#_3","title":"\u4e09\uff0c\u4e0b\u6e38\u4efb\u52a1","text":"<ol> <li>\u6587\u672c\u5206\u7c7b\u53ef\u4ee5\u76f4\u63a5\u7528[CLS]\u6765\u8fdb\u884c\u5168\u8fde\u63a5\u5206\u7c7b\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u53d6\u6240\u6709\u5b57[Token]\u7684\u6c60\u5316\u5c42\u7136\u540e\u8fdb\u884c\u5168\u8fde\u63a5</li> <li>\u5e8f\u5217\u6807\u6ce8\u53ef\u4ee5\u901a\u8fc7\u6587\u5b57\u672c\u8eab\u7684[Token]\u6765\u8fdb\u884c\u5168\u8fde\u63a5\u5206\u7c7b\u7ec4\u6210\u4e00\u4e2a\u5e8f\u5217\u7684\u7ed3\u679c</li> <li>\u9605\u8bfb\u7406\u89e3\u5219\u901a\u8fc7\u9884\u6d4b\u7b54\u6848\u7684\u542f\u672b\u4f4d\u7f6e\u4f5c\u4e3a\u7ed3\u679c</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2018-bert/#_4","title":"\u56db\uff0c\u5404\u79cd\u6539\u8fdb","text":"<pre><code>1. ALBERT\uff08A Lite BERT\uff09\uff1a\n\n   - factorized embedding parameterization\uff08\u8bcd\u5d4c\u5165\u7684\u56e0\u5f0f\u5206\u89e3\uff09\n   - cross-layer parameter sharing\uff08\u4ea4\u53c9\u5c42\u7684\u53c2\u6570\u5171\u4eab\uff09\n   - sentence-order prediction (SOP\uff0c\u53e5\u5b50\u987a\u5e8f\u9884\u6d4b)\n\n2. RoBERTa\uff08A Robustly Optimized BERT Pretraining Approach\uff09\n\n   -  No NSP and Input Format\uff08\u53bb\u6389NSP\u4efb\u52a1\u548cABtoken\u7f16\u7801\uff09\n\n   -  \u66f4\u591a\u8bad\u7ec3\u6570\u636e/\u66f4\u5927\u7684batch size/\u8bad\u7ec3\u66f4\u957f\u65f6\u95f4\n\n   -  Dynamic Masking\uff08\u4e00\u4e2a\u53e5\u5b50\u80fd\u6709\u591a\u4e2aMusk\u65b9\u5f0f\u5e76\u7528\u4e8e\u4e0d\u540c\u7684epoch\uff09\n\n   -  character-level BPE \u6539\u6210\u4e86 byte BPE\n</code></pre> <p>\u7b49\u7b49\u5404\u79cd\u6539\u8fdb</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-LoRA/","title":"2021-LoRA.md","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-LoRA/#_1","title":"2021-LoRA.md","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-LoRA/#_2","title":"\u4e00\uff0c\u73b0\u6709\u65b9\u6cd5\u7684\u7f3a\u70b9","text":"<ol> <li>\u901a\u8fc7\u589e\u52a0\u6a21\u578b\u7684\u6df1\u5ea6\u6216\u8005\u51cf\u5c11\u6a21\u578b\u7684\u53ef\u7528\u5e8f\u5217\u6765\u51cf\u5c11\u8bad\u7ec3\u91cf\u901a\u5e38\u4f1a\u5f71\u54cd\u9884\u6d4b\u7684\u6548\u7387</li> <li>\u5b9e\u9645\u60c5\u51b5\u4e2d\uff0c\u9700\u8981\u5728\u6a21\u578b\u6548\u679c\u548c\u8bad\u7ec3\u6548\u7387\u4e4b\u95f4\u6743\u8861</li> </ol> <p>\u603b\u7ed3\uff0c\u7b80\u5355\u8bf4\u5c31\u662f\u4e0d\u597d\u7528\uff0c\u9700\u8981\u8003\u8651\u7684\u4e1c\u897f\u6bd4\u8f83\u591a\u800c\u4e14\u6548\u679c\u6ca1\u4fdd\u8bc1</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-LoRA/#lora","title":"\u4e8c\uff0cLoRA\u7684\u4f18\u70b9","text":"<ol> <li>\u5171\u4eab\u9884\u8bad\u7ec3\u6a21\u578b\uff1a\u4e0d\u540c\u4efb\u52a1\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u5c0f\u578b LoRA \u6a21\u5757</li> <li>\u63d0\u9ad8\u8bad\u7ec3\u6548\u7387\u5e76\u964d\u4f4e\u786c\u4ef6\u51c6\u5165\u95e8\u69db\uff1a\u65e0\u9700\u8bad\u7ec3\u9884\u8bad\u7ec3\u6a21\u578b\uff0c\u76f4\u63a5\u8bad\u7ec3LoRA\u6a21\u5757</li> <li>\u65e0\u989d\u5916\u63a8\u7406\u5ef6\u8fdf\uff1a\u7ebf\u6027\u5c42\u76f4\u63a5\u52a0\u548c\u5230\u9884\u8bad\u7ec3\u7684\u5c42\u4e2d</li> <li>\u4e0e\u5148\u524d\u65b9\u6cd5\u76f8\u7ed3\u5408\uff1a\u53ef\u4ee5\u8ddf\u5176\u4ed6\u5f97\u65b9\u6cd5\u6574\u5408\u4e00\u8d77\u4f7f\u7528</li> </ol> <p>\u603b\u7ed3\uff0c\u5171\u4eab\u9884\u8bad\u7ec3\u6a21\u578b\u3001\u63d0\u9ad8\u8bad\u7ec3\u6548\u7387\u5e76\u964d\u4f4e\u786c\u4ef6\u51c6\u5165\u95e8\u69db\u3001\u65e0\u989d\u5916\u63a8\u7406\u5ef6\u8fdf\u4ee5\u53ca\u4e0e\u5148\u524d\u65b9\u6cd5\u76f8\u7ed3\u5408\u8fd9\u56db\u4e2a\u4f18\u70b9</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-LoRA/#lora_1","title":"\u4e09\uff0cLoRA\u65b9\u6cd5","text":"<p>\u5047\u8bbe\u5927\u7684\u8bed\u8a00\u6a21\u578b\u6709\u4f4e\u7684\u201c\u5185\u5728\u79e9\u201d\uff0c\u901a\u8fc7\u65b0\u7684\u8f93\u51fa\u516c\u5f0f\u6765\u589e\u52a0\\(BAx\\)</p> <p>\u8fd9\u4e2a\u53ef\u8bad\u7ec3\u7684\u53c2\u6570\u6765\u5b8c\u6210\u66fe\u7ecf\u7684\u5fae\u8c03\uff1a\\(h = W_0x + \u2206Wx = W_0x + BAx\\)</p> <p>\u7279\u70b9\uff1a</p> <ol> <li>\u5168\u9762\u5fae\u8c03\u7684\u6cdb\u5316\uff1a\u4e00\u79cd\u66f4\u901a\u7528\u7684\u5fae\u8c03\u65b9\u6cd5\u5141\u8bb8\u8bad\u7ec3\u9884\u8bad\u7ec3\u53c2\u6570\u7684\u4e00\u4e2a\u5b50\u96c6\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u968f\u7740\u6211\u4eec\u589e\u52a0\u53ef\u8bad\u7ec3\u53c2\u6570\u7684\u6570\u91cf\uff0c\u8bad\u7ec3 LoRA \u5927\u81f4\u6536\u655b\u4e8e\u8bad\u7ec3\u539f\u59cb\u6a21\u578b\uff0c\u800c\u57fa\u4e8e\u9002\u914d\u5668\u7684\u65b9\u6cd5\u6536\u655b\u4e8e MLP\uff0c\u57fa\u4e8e\u524d\u7f00\u7684\u65b9\u6cd5\u6536\u655b\u4e8e\u4e0d\u80fd\u5904\u7406\u957f\u8f93\u5165\u5e8f\u5217\u7684\u6a21\u578b\u3002</li> <li>\u65e0\u989d\u5916\u63a8\u7406\u5ef6\u8fdf\uff1a\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u90e8\u7f72\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u663e\u5f0f\u5730\u8ba1\u7b97\u548c\u5b58\u50a8 \\(W = W_0 + BA\\)\uff0c\u5e76\u50cf\u5f80\u5e38\u4e00\u6837\u8fdb\u884c\u63a8\u7406\u3002\u8bf7\u6ce8\u610f\uff0c\\(W0\\) \u548c\\(BA\\) \u90fd\u5c5e\u4e8e \\(R^(d\u00d7k)\\)\u3002\u5f53\u6211\u4eec\u9700\u8981\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u4e0b\u6e38\u4efb\u52a1\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u51cf\u53bb \\(BA\\) \u7136\u540e\u6dfb\u52a0\u4e0d\u540c\u7684 \\(B_0A_0\\) \u6765\u6062\u590d\\(W_0\\)\uff0c\u8fd9\u662f\u4e00\u4e2a\u5feb\u901f\u64cd\u4f5c\uff0c\u5185\u5b58\u5f00\u9500\u975e\u5e38\u5c0f\u3002</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-LoRA/#_3","title":"\u56db\uff0c\u7ed3\u679c","text":"<p>\u88682\uff1a\u5728 GLUE \u57fa\u51c6\u6d4b\u8bd5\u4e2d\uff0c\u4f7f\u7528\u4e0d\u540c\u9002\u5e94\u65b9\u6cd5\u7684 RoBERTabase\u3001RoBERTalarge \u548c DeBERTaXXL\u3002\u6211\u4eec\u62a5\u544a\u4e86 MNLI \u7684\u603b\u4f53\uff08\u5339\u914d\u548c\u4e0d\u5339\u914d\uff09\u51c6\u786e\u6027\uff0cCoLA \u7684\u9a6c\u4fee\u65af\u76f8\u5173\u6027\uff0cSTS-B \u7684\u76ae\u5c14\u68ee\u76f8\u5173\u6027\uff0c\u4ee5\u53ca\u5176\u4ed6\u4efb\u52a1\u7684\u51c6\u786e\u6027\u3002\u6240\u6709\u6307\u6807\u4e2d\uff0c\u6570\u503c\u8d8a\u9ad8\u8d8a\u597d\u3002*\u8868\u793a\u4e4b\u524d\u5de5\u4f5c\u4e2d\u53d1\u5e03\u7684\u6570\u5b57\u3002y \u8868\u793a\u5728\u7c7b\u4f3c\u4e8e Houlsby \u7b49\u4eba\uff082019\uff09\u7684\u8bbe\u7f6e\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0c\u4ee5\u4fbf\u8fdb\u884c\u516c\u5e73\u6bd4\u8f83\u3002</p> <p></p> <p>\u88683\uff1a\u5728 E2E NLG Challenge \u4e2d\uff0c\u4f7f\u7528\u4e0d\u540c\u9002\u5e94\u65b9\u6cd5\u7684 GPT-2 medium\uff08M\uff09\u548c large\uff08L\uff09\u3002\u5bf9\u4e8e\u6240\u6709\u6307\u6807\uff0c\u6570\u503c\u8d8a\u9ad8\u8d8a\u597d\u3002LoRA \u5728\u5177\u6709\u53ef\u6bd4\u6216\u66f4\u5c11\u53ef\u8bad\u7ec3\u53c2\u6570\u7684\u51e0\u4e2a\u57fa\u7ebf\u4e2d\u8868\u73b0\u4f18\u8d8a\u3002\u6211\u4eec\u5217\u51fa\u4e86\u6211\u4eec\u8fd0\u884c\u7684\u5b9e\u9a8c\u7684\u7f6e\u4fe1\u533a\u95f4\u3002*\u8868\u793a\u4e4b\u524d\u5de5\u4f5c\u4e2d\u53d1\u5e03\u7684\u6570\u5b57\u3002</p> <p></p> <p>\u88684\uff1a\u4e0d\u540c\u9002\u5e94\u65b9\u6cd5\u5728 GPT-3 175B \u4e0a\u7684\u6027\u80fd\u3002\u6211\u4eec\u62a5\u544a\u4e86 WikiSQL \u7684\u903b\u8f91\u8868\u5355\u9a8c\u8bc1\u51c6\u786e\u6027\uff0cMultiNLI-matched \u7684\u9a8c\u8bc1\u51c6\u786e\u6027\uff0c\u4ee5\u53ca SAMSum \u4e0a\u7684 Rouge-1/2/L\u3002LoRA \u7684\u6027\u80fd\u4f18\u4e8e\u5148\u524d\u7684\u65b9\u6cd5\uff0c\u5305\u62ec\u5168\u9762\u5fae\u8c03\u3002WikiSQL \u4e0a\u7684\u7ed3\u679c\u6ce2\u52a8\u5728\u00b10.5%\u5de6\u53f3\uff0cMNLI-m \u5728\u00b10.1%\u5de6\u53f3\uff0cSAMSum \u5728\u4e09\u4e2a\u6307\u6807\u4e0a\u5206\u522b\u5728\u00b10.2/\u00b10.2/\u00b10.1 \u5de6\u53f3\u3002</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-LoRA/#_4","title":"\u4e94\uff0c\u8c03\u53c2\u7ecf\u9a8c","text":"<p>\u8c03\u53c2\u4e0a\uff0cr\u4e0d\u7528\u592a\u5927\uff0c\u592a\u5927\u53cd\u800c\u53c2\u6570\u91cf\u4f1a\u591a\uff0c\u80fd\u8c03\u7684\u77e9\u9635\u53ef\u4ee5\u591a\uff0c\u76f8\u6bd4\u4e8e\u5c11\u7684\u53ef\u8c03\u77e9\u9635\uff0c\u591a\u7684\u6548\u679c\u4f1a\u597d\u4e00\u4e9b</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-P-tuning2/","title":"2021-P-tuning2.md","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-P-tuning2/#_1","title":"2021-P-tuning2.md","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-P-tuning2/#_2","title":"\u4e00\u3001\u73b0\u6709\u65b9\u6cd5\u7684\u7f3a\u70b9","text":"<ol> <li> <p>\u53c2\u6570\u91cf\u5c11\u7684\u65f6\u5019\u4e0d\u80fd\u8ddf\u5fae\u8c03\u6548\u679c\u76f8\u6bd4</p> </li> <li> <p>\u4e0d\u80fd\u5904\u7406\u96be\u5f97\u5e8f\u5217\u6807\u6ce8\u95ee\u9898</p> </li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-P-tuning2/#p-tuning2","title":"\u4e8c\u3001P-tuning2\u7684\u4f18\u70b9","text":"<ol> <li>\u6709\u66f4\u591a\u7684\u8bad\u7ec3\u53c2\u6570</li> <li>\u8bad\u7ec3\u53c2\u6570\u7684\u5370\u8c61\u66f4\u52a0\u76f4\u63a5</li> <li>\u53c2\u6570\u91cf\u5c0f\u7684\u6a21\u578b\u6548\u679c\u8ddf\u5fae\u8c03\u6548\u679c\u76f8\u5ab2\u7f8e</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-P-tuning2/#p-tuning2_1","title":"\u4e09\u3001P-tuning2\u65b9\u6cd5","text":"<p>\u56fe2\uff1a\u6765\u81eaLester\u7b49\u4eba\uff082021\uff09\u7684P-tuning\u5230P-tuning v2\u3002\u6a59\u8272\u5757\uff08\u5373h0\uff0c......\uff0c hi\uff09\u6307\u53ef\u8bad\u7ec3\u7684\u63d0\u793a\u5d4c\u5165\uff1b\u84dd\u8272\u5757\u662f\u7531\u51bb\u7ed3\u7684\u9884\u8bad\u7ec3\u8bed\u8a00\u6a21\u578b\u5b58\u50a8\u6216\u8ba1\u7b97\u7684\u5d4c\u5165\u3002</p> <ol> <li>\u591a\u5c42\u53c2\u6570\u5fae\u8c03\uff0c\u589e\u52a0\u5fae\u8c03\u7684\u53c2\u6570\u91cf</li> <li>\u968f\u673a\u521d\u59cb\u5316CLS&amp;linear head\u5206\u7c7b\u4efb\u52a1\uff0c\u66ff\u6362\u4e86\u539f\u6765\u7684Verbalizer&amp;LM head\uff0c\u6548\u679c\u5dee\u4e0d\u591a\u751a\u81f3\u6709\u65f6\u5019\u66f4\u597d</li> <li>\u53ef\u4ee5\u7528\u591a\u4efb\u52a1\u5b66\u4e60\u7ed9prompt\u7684\u8bad\u7ec3\u53c2\u6570\u521d\u59cb\u5316</li> </ol> <p>\u5bf9\u6bd4\u8868\u683c\uff1a</p> \u7279\u70b9 P-tuning 1 P-tuning 2 \u63d0\u793a\u4f4d\u7f6e \u8f93\u5165\u5d4c\u5165\u5e8f\u5217\u4e2d\u7684\u4e00\u4e2a\u4f4d\u7f6e \u5728\u591a\u4e2a Transformer \u5c42\u4f5c\u4e3a\u524d\u7f00 tokens \u53c2\u6570\u8c03\u6574\u7a7a\u95f4 \u53d7\u5e8f\u5217\u957f\u5ea6\u9650\u5236 \u66f4\u591a\u7684\u4efb\u52a1\u7279\u5b9a\u53c2\u6570\uff0c\u66f4\u9ad8\u7684\u53c2\u6570\u6548\u7387 \u5bf9\u9884\u6d4b\u7684\u5f71\u54cd \u76f8\u5bf9\u95f4\u63a5 \u66f4\u76f4\u63a5\u5730\u5f71\u54cd\u6a21\u578b\u9884\u6d4b \u5206\u7c7b\u5934 \u9884\u6d4b verbalizers \u7684\u8bed\u8a00\u5efa\u6a21\u5934 \u968f\u673a\u521d\u59cb\u5316\u7684\u7ebf\u6027\u5206\u7c7b\u5934 \u4efb\u52a1\u9002\u7528\u6027 \u5206\u7c7b\u3001\u6a21\u578b\u53c2\u6570\u91cf\u5927\u7684\u4efb\u52a1 \u9002\u7528\u4e8e\u5404\u79cd P-tuning1\u4efb\u52a1\uff0c\u5305\u62ec\u5e8f\u5217\u6807\u6ce8\u4efb\u52a1\uff0c\u540c\u65f6\u9002\u5e94\u5c0f\u6a21\u578b"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-P-tuning2/#_3","title":"\u56db\u3001\u90e8\u5206\u7ed3\u679c","text":"<p>\u5728RoBERTa-large\u4e0a\u6bd4\u8f83\u4f7f\u7528\u5e26\u6709\u7ebf\u6027\u5934\u90e8\u7684[CLS]\u6807\u7b7e\u548c\u4f7f\u7528\u5e26\u6709\u8bed\u8a00\u6a21\u578b\u5934\u90e8\u7684verbalizer\u7684\u5dee\u5f02\u3002</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-P-tuning2/#_4","title":"\u4e94\u3001\u5176\u4ed6\u6709\u610f\u601d\u7684\u70b9","text":"<ol> <li>\u8fd9\u4e0d\u662f\u5c11\u6837\u672c\u4efb\u52a1\uff0c\u662f\u4e00\u79cd\u5168\u91cf\u6570\u636e\u7684\u5c0f\u53c2\u6570\u5fae\u8c03\u65b9\u6cd5</li> <li>\u540e\u9762\u5c42\u7684\u8bad\u7ec3\u53c2\u6570\u76f8\u6bd4\u524d\u9762\u5c42\u7684\u8bad\u7ec3\u53c2\u6570\u5bf9\u6548\u679c\u7684\u63d0\u5347\u66f4\u5927</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/","title":"2021-simCSE.md","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#_1","title":"2021-simCSE.md","text":"<p>\u7b80\u5355\u7684\u65b9\u6cd5\u6709\u65f6\u5019\u6548\u679c\u5947\u597d</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#_2","title":"\u4e00\uff0c\u65b9\u6cd5","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#1","title":"1.\u5bf9\u6bd4\u5b66\u4e60","text":"<p>\u76ee\u6807\u662f\u5c06\u76f8\u4f3c\u6837\u672c\u62c9\u8fd1\uff0c\u4e0d\u76f8\u4f3c\u6837\u672c\u63a8\u8fdc\uff0c\u8fd9\u91cc\u4e3b\u8981\u4f7f\u7528\u6279\u5185\u8d1f\u6837\u672c\u6765\u6784\u9020\u4ea4\u53c9\u71b5\u635f\u5931</p> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#2","title":"2.\u65e0\u76d1\u7763","text":"<p>\u6bd4\u5982\u4e00\u4e2a\u6279\u6b21\u6709\u5982\u4e0b\u53e5\u5b50\uff1a</p> <ol> <li>\u4eca\u5929\u5929\u6c14\u4e0d\u9519</li> <li>\u660e\u5929\u5929\u6c14\u5f88\u597d</li> <li>\u540e\u5929\u4f9d\u7136\u5f88\u68d2</li> </ol> <p>\u5047\u8bbe\"\u4eca\u5929\u5929\u6c14\u4e0d\u9519\"\u4e3a\\(z_i\\)\uff0c\u6211\u4eec\u5229\u7528dropout\u7684\u65b9\u6cd5\u751f\u6210\\(z_i^`\\)\uff0c</p> <p>\u5176\u4ed6\u7684\u4e24\u53e5\u7684dropout\u6570\u636e\u5c31\u662f\\(z_j^`\\)\u3002</p> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#3","title":"3.\u6709\u76d1\u7763","text":"<p>\u6784\u9020\u6837\u672c\u5bf9</p> <ol> <li>\\(hi\\):\u4e24\u53ea\u72d7\u5728\u8dd1</li> <li>\\(h_i^+\\):\u6237\u5916\u6709\u52a8\u7269</li> <li>\\(h_j^+\\):\u8fd9\u6709\u4e00\u4e2a\u4eba</li> <li>\\(h_j^-\\):\u8fd9\u4e2a\u4eba\u7a7f\u7740\u897f\u88c5</li> </ol> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#_3","title":"\u4e8c\uff0c\u4e3a\u4ec0\u4e48\u6709\u6548","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#1_1","title":"1.\u8bc4\u4f30\u65b9\u5f0f","text":"<p>\u5bf9\u9f50\uff1a\u76f8\u4f3c\u7684\u6837\u672c\u5e0c\u671b\u5bf9\u9f50\uff0c\u8fd9\u91cc\u7528\u6b27\u5f0f\u53e5\u5b50\u6765\u8fdb\u884c\u8861\u91cf</p> <p></p> <p>\u5747\u8861\uff1a\u5c3d\u91cf\u4e0d\u76f8\u540c\u7684\u6837\u672c\u62c9\u8fdc\uff0c\u8fd9\u91cc\u7528\\(e^{-2}\\)\u6765\u8868\u793a\uff0c\u8ddd\u79bb\u8d8a\u8fd1\u7ed3\u679c\u8d8a\u7b49\u4e8e1\uff0c\u8ddd\u79bb\u8d8a\u8fdc\u7ed3\u679c\u8d8a\u7b49\u4e8e0\uff0c\u7136\u540e\u53d6\u5bf9\u6570\uff0c\u8ba1\u7b97\u7ed3\u679c\u8d8a\u5c0f\u8868\u660e\u6574\u4f53\u8ddd\u79bb\u8d8a\u8fdc\uff0c\u8d8a\u5927\u5219\u8868\u660e\u6574\u4f53\u8d8a\u8fd1</p> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#2_1","title":"2.\u5b9e\u9a8c","text":"<p>\u4e0d\u540c\u6570\u636e\u589e\u5f3a\u65b9\u6cd5\u5bf9STS-B\u4efb\u52a1\u7684\u5f71\u54cd\u3002\u603b\u7684\u6765\u8bf4\uff0c\u6240\u6709\u5c1d\u8bd5\u7684\u6570\u636e\u589e\u5f3a\u65b9\u6cd5\uff08\u5982\u526a\u5207\u3001\u8bcd\u6c47\u5220\u9664\u3001\u5355\u8bcd\u66ff\u6362\u7b49\uff09\u6548\u679c\u90fd\u4e0d\u5982\u672a\u4f7f\u7528\u4efb\u4f55\u6570\u636e\u589e\u5f3a\u7684unsupervised SimCSE\u6a21\u578b\uff0c\u800c\u4e14\u968f\u7740\u7a0b\u5ea6\u52a0\u6df1(10%-&gt;30%)\uff0c\u5206\u6570\u6708\u5e95\uff0c\u4e5f\u5c31\u662f\u6548\u679c\u8d8a\u5dee</p> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2021-simCSE/#3_1","title":"3.\u6548\u679c","text":"<p>\u8fd9\u4e2a\u56fe\u8868\u660eUnsup.SimCSE\u65b9\u6cd5\u867d\u7136\u5bf9\u9f50\u6bd4delete one word\u5dee\u4e00\u70b9\uff0c\u4f46\u662f\u66f4\u52a0\u5747\u8861</p> <p></p> <p>\u8fd9\u4e2a\u56fe\u8868\u660eSimCSE\u5728\u5bf9\u9f50\u548c\u5747\u8861\u4e0a\u5e73\u5747\u6700\u4f18\uff0c\u800c\u4e14\u7ecf\u8fc7\u6709\u76d1\u7763\u8bad\u7ec3\u540e\u6548\u679c\u66f4\u597d</p> <p></p> <p>\u8fd9\u4e2a\u56fe\u8868\u660e\u4e0d\u540c\u7684bert\u6a21\u578b\u5728\u4eba\u5de5\u6807\u6ce8\u7684\u76f8\u4f3c\u5ea6\u7684\u5f97\u5206\u4e0a\u4e0d\u540c\u7684\u9884\u6d4b\u7ed3\u679c\uff0cSimCSE\u662f\u5728\u533a\u5206\u5ea6\u548c\u6574\u4f53\u65b9\u5dee\u4e0a\u90fd\u6bd4\u8f83\u4f18\u79c0\u7684</p> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/","title":"2022-self_instruct.md","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#_1","title":"2022-self_instruct.md","text":"<p>\u8fd9\u7bc7\u7b14\u8bb0\u7684\u91cd\u70b9\u89d2\u5ea6\u4e0d\u5728\u4e8eself-instruct\u7684\u539f\u672c\u8bba\u6587\u7684\u5185\u5bb9\uff0c\u66f4\u591a\u7684\u5728\u4e8e\u5bf9NLP\u5e94\u7528\u7684\u89d2\u5ea6</p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#self-instruct","title":"\u4e00\uff0cself-instruct","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#1","title":"1.\u4e3b\u8981\u6d41\u7a0b","text":"<p>\u5982\u4e0a\u56fe\uff1a</p> <ol> <li>\u4eba\u5de5\u7f16\u5199175\u6761\u79cd\u5b50\u95ee\u9898</li> <li>\u901a\u8fc7\u8bed\u8a00\u6a21\u578b\u751f\u6210\u65b0\u7684\u95ee\u9898</li> <li>\u5224\u65ad\u65b0\u7684\u95ee\u9898\u80fd\u4e0d\u80fd\u5f53\u6210\u5206\u7c7b\u4efb\u52a1</li> <li>\u5982\u679c\u53ef\u4ee5\u5206\u7c7b\uff0c\u5219\u5148\u751f\u6210\u7c7b\u522b\uff0c\u7136\u540e\u751f\u6210\u5bf9\u5e94\u7684\u6587\u672c\u6765\u63d0\u9ad8\u591a\u6837\u6027\uff1b\u5982\u679c\u4e0d\u80fd\u5206\u7c7b\uff0c\u5219\u8f93\u5165\u95ee\u9898\u7136\u540e\u83b7\u5f97\u54cd\u5e94\u7684\u7ed3\u679c</li> <li>\u540e\u8fc7\u6ee4\uff1a\u5224\u65ad\u751f\u6210\u95ee\u9898\u4e0e\u5176\u4ed6\u95ee\u9898\u7684\u76f8\u4f3c\u5ea6\uff0c\u5982\u679c\u592a\u76f8\u4f3c\u5c31\u53bb\u6389\uff0c\u4e0d\u90a3\u4e48\u76f8\u4f3c\u5c31\u6dfb\u52a0\u5230\u6240\u6709\u95ee\u7b54\u5bf9\u4e2d</li> <li>\u91cd\u590d2-5\u76f4\u5230\u6570\u91cf\u591f\u4e86</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#2","title":"2.\u4f18\u7f3a\u70b9","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#a","title":"a.\u4f18\u70b9","text":"<ol> <li>\u6ca1\u6570\u636e\u7684\u4eba\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u7684\u5927\u8bed\u8a00\u6a21\u578b\u83b7\u5f97\u6570\u636e</li> <li>\u53ef\u4ee5\u6839\u636e\u751f\u6210\u65f6\u7684prompt\u6765\u5f71\u54cd\u5927\u8bed\u8a00\u6a21\u578b\u7684\u751f\u6210\u7ed3\u679c</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#b","title":"b.\u7f3a\u70b9","text":"<ol> <li>\u53ef\u8c03\u8282\u7684\u53c2\u6570\u592a\u591a\uff0c\u4e0d\u597d\u63a7\u5236\u6700\u7ec8\u6548\u679c\uff0c\u6bd4\u5982\uff1a\u79cd\u5b50\u95ee\u9898\u7684\u5185\u5bb9\uff0cprompt\u7684\u5185\u5bb9\uff0c\u751f\u6210\u7684\u603b\u6570\u91cf\uff0c\u540e\u8fc7\u6ee4\u65b9\u5f0f\u548c\u9608\u503c\u7b49\u7b49</li> <li>\u5bf9\u4e8e\u9488\u5bf9\u6027\u7684\u95ee\u9898\u6216\u8005\u9886\u57df\u6570\u636e\u4ecd\u7136\u7a00\u758f</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#nlp","title":"\u4e8c\uff0c\u4e00\u4e9bNLP\u5e94\u7528\u7684\u601d\u8003","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#1_1","title":"1.\u4e3b\u8981\u95ee\u9898","text":"<ol> <li>\u6a21\u578b\u7684\u6548\u679c\u53d6\u51b3\u4e8e\u5b9e\u9645\u6570\u636e\u548c\u8bad\u7ec3\u65b9\u5f0f\uff0cself-instruct\u672c\u8eab\u4ea7\u751f\u7684\u6570\u636e\u6ca1\u6709RLHF\u7684\u5bf9\u9f50\u6548\u679c\uff0c\u53ea\u80fd\u5bf9\u9f50\u5927\u6a21\u578b\u548cprompt\u672c\u8eab</li> <li>\u9488\u5bf9\u6027\u7684NLP\u4efb\u52a1\u6570\u636e\u5206\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u4e1a\u52a1\u672c\u8eab\u5c31\u6709\u7684\u6709\u6570\u636e\u65b9\u4fbf\u6807\u6ce8\u6216\u8005\u81ea\u5e26\u6807\u6ce8\u7684\uff0c\u4e00\u79cd\u662f\u4e1a\u52a1\u6ca1\u6709\u6570\u636e\u9700\u8981\u81ea\u5df1\u5236\u9020\u7684\u3002\u660e\u663e\u524d\u8005\u65b9\u4fbf\u8fdb\u884c\u6a21\u578b\u7684\u8fed\u4ee3(\u5c06\u539f\u5148\u7684LM\u5347\u7ea7\u6210LLM)\uff0c\u800c\u540e\u8005\u7684\u95ee\u9898\u8f83\u5927\uff0c\u4e5f\u662f\u76ee\u524d\u9700\u6c42\u53d1\u5c55\u8d8a\u6765\u8d8a\u5927\u7684\uff0c\u6bd4\u5982\u66f4\u667a\u80fd\u7684\u667a\u80fd\u95ee\u7b54\uff0c\u66f4\u667a\u80fd\u7684\u667a\u80fd\u5bf9\u8bdd</li> </ol>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/2022-self_instruct/#2_1","title":"2.\u9886\u57df\u6570\u636e\u751f\u6210","text":"<p>\u667a\u80fd\u95ee\u7b54\uff1a\u4e00\u95ee\u4e00\u7b54</p> <p>\u667a\u80fd\u5bf9\u8bdd\uff1a\u591a\u8f6e\u5bf9\u8bdd</p> <p>\u4e00\u95ee\u4e00\u7b54\u6bd4\u5982\u4ee5\u524dNLP\u4efb\u52a1\u4e2d\u7684FAQ\uff0c\u591a\u8f6e\u5bf9\u8bdd\u6bd4\u5982\u4efb\u52a1\u578b\u7684\u591a\u8f6e\u5bf9\u8bdd\u6216\u8005\u5f00\u653e\u578b\u7684\u95f2\u804a</p> <p>\u76f8\u5bf9\u4e8e\u591a\u8f6e\u5bf9\u8bdd\uff0c\u4e00\u95ee\u4e00\u7b54\u7684\u6570\u636e\u6bd4\u8f83\u597d\u751f\u6210\uff0c\u4e5f\u5bb9\u6613\u628a\u4ee5\u524d\u7684\u6a21\u578b\u8fdb\u884c\u8fed\u4ee3\uff0c\u53c2\u8003self-instruct\u6570\u636e\u8fd8\u53ef\u4ee5\u7528\u5927\u8bed\u8a00\u6a21\u578b\u6765\u8f85\u52a9\u8fdb\u884c\u6807\u6ce8\uff0c\u4e00\u79cd\u9886\u57df\u6570\u636e\u751f\u6210\u601d\u8def\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E6%80%BB%E8%A7%88/","title":"\u603b\u89c8","text":""},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E6%80%BB%E8%A7%88/#_1","title":"\u603b\u89c8","text":"<p>PDF\u4ed3\u5e93\u94fe\u63a5:morning-hao/paper-mark: \u8bb0\u5f55\u4e00\u4e9b\u81ea\u5df1\u8bfb\u8fc7\u4e14\u89c9\u5f97\u6709\u610f\u4e49\u7684\u8bba\u6587 (github.com) </p>"},{"location":"%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/%E6%80%BB%E8%A7%88/#_2","title":"\u603b\u89c8\u94fe\u63a5","text":"\u6ce8\u89e3PDF \u7b80\u8981\u7b14\u8bb0 \u8bd5\u7740\u8bf4\u51fa\u6765 1810.04805-bert.pdf 2018-bert.md - \u4e00\u70b9\u7b14\u8bb0 (morning-hao.github.io) 2106.09685-LORA.pdf 2021-LoRA.md - \u4e00\u70b9\u7b14\u8bb0 (morning-hao.github.io) 2110.07602v3-P-tuning2.pdf 2021-P-tuning2.md - \u4e00\u70b9\u7b14\u8bb0 (morning-hao.github.io) 2104.08821-simcse.pdf 2021-simCSE.md - \u4e00\u70b9\u7b14\u8bb0 (morning-hao.github.io) 2212.10560-self-instruct.pdf 2022-self_instruct.md - \u4e00\u70b9\u7b14\u8bb0 (morning-hao.github.io)"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/","title":"docker","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#_1","title":"docker","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#_2","title":"\u4e00\u3001\u5bb9\u5668\u6280\u672f\u4ecb\u7ecd","text":"<p>\u5bb9\u5668\u662f\u4e00\u79cd\u6280\u672f\uff0cDocker\u662f\u4e00\u4e2a\u5bb9\u5668\u6280\u672f\u7684\u5b9e\u73b0\uff0c\u5e94\u7528\u5f88\u5e7f\u6cdb</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1","title":"1.\u4ec0\u4e48\u662f\u5bb9\u5668","text":"<p>\u5bb9\u5668\u662f\u4e00\u79cd\u5feb\u901f\u7684\u6253\u5305\u6280\u672f</p> <ul> <li>\u6807\u51c6\u5316</li> <li>\u8f7b\u91cf\u7ea7</li> <li>\u6613\u79fb\u690d</li> </ul>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#_3","title":"\u4e8c\u3001\u5bb9\u5668\u5feb\u901f\u4e0a\u624b","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_1","title":"1.\u547d\u4ee4\u884c\u4ecb\u7ecd","text":"<ol> <li>\u67e5\u770bdocker\u7248\u672c:<code>docker version</code></li> <li>\u67e5\u770bdocker\u72b6\u6001:docker info</li> <li>\u6307\u4ee4\u4ecb\u7ecd\uff1adocker</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2","title":"2.\u955c\u50cf\u548c\u5bb9\u5668","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1image","title":"\u2460image\u955c\u50cf","text":"<ol> <li>Docker image\u662f\u4e00\u4e2aread-only\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5305\u542b\u6587\u4ef6\u7cfb\u7edf\u3001\u6e90\u7801\u3001\u5e93\u6587\u4ef6\u3001\u5de5\u5177\u7b49\u8fd0\u884capp\u6240\u9700\u8981\u7684\u6587\u4ef6</li> <li>docker image\u6709\u5206\u5c42\u7684\u6982\u5ff5</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2container","title":"\u2461container\u5bb9\u5668","text":"<ol> <li>\u590d\u5236image\u5e76\u5728image\u6700\u4e0a\u5c42\u52a0\u4e0a\u4e00\u5c42read-write\u5c42\uff08container layer\u5c42\uff09</li> <li>\u57fa\u4e8e\u540c\u4e00\u4e2aimage\u53ef\u4ee5\u521b\u5efa\u591a\u4e2acontainer</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3","title":"\u2462\u955c\u50cf\u7684\u83b7\u53d6","text":"<ol> <li>\u81ea\u5df1\u5236\u4f5c</li> <li>\u4eceregistry(\u6bd4\u5982docker hub)</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3_1","title":"3.\u5bb9\u5668\u7684\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_2","title":"\u2460\u521b\u5efa\u3001\u67e5\u770b\u3001\u505c\u6b62\u3001\u5220\u9664","text":"\u64cd\u4f5c \u547d\u4ee4\uff08\u5b8c\u6574\uff09 \u547d\u4ee4\uff08\u7b80\u5199\uff09 \u5bb9\u5668\u7684\u521b\u5efa docker container run  docker run  \u5bb9\u5668\u7684\u67e5\u770b(up) docker container ls docker ps \u5bb9\u5668\u7684\u67e5\u770b(up \u548c exit) docker container ls -a docker ps -a \u5bb9\u5668\u7684\u505c\u6b62 docker container stop  docker stop  \u5bb9\u5668\u7684\u5220\u9664 docker container rm  docker rm"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2_1","title":"\u2461\u5c0f\u6280\u5de7","text":"<ol> <li>\u6279\u91cf\u64cd\u4f5c</li> </ol> <p>\u901a\u8fc7 $(docker container ls -aq) \u6765\u83b7\u53d6\u6240\u6709\u5bb9\u5668\u7684\u540d\u5b57</p> <pre><code># \u6279\u91cf\u542f\u52a8\ndocker container start $(docker container ls -aq)\n# \u6279\u91cf\u505c\u6b62\ndocker container stop $(docker container ls -aq)\n# \u6279\u91cf\u5220\u9664\ndocker container rm $(docker container ls -aq)\n</code></pre> <ol> <li>rm\u4e0d\u80fd\u5220\u9664\u6b63\u5728\u8fd0\u884c\u4e2d\u7684container\u95ee\u9898</li> </ol> <p>\u6dfb\u52a0 -f\u53c2\u6570</p> <pre><code># \u5355\u4e2a\u5f3a\u5236\u5220\u9664\ndocker container rm &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt; -f\n# \u6279\u91cf\u5f3a\u5236\u5220\u9664\ndocker container rm $(docker container ls -aq) -f\n</code></pre> <ol> <li>\u5220\u9664\u5df2\u7ecf\u63a8\u51fa\u7684\u5bb9\u5668</li> </ol> <pre><code>docker container prune -f\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4attacheddetached","title":"4.\u5bb9\u5668\u7684attached\u548cdetached\u6a21\u5f0f","text":"<p>attached\u6a21\u5f0f\u4e0edetached\u6a21\u5f0f\uff0c\u524d\u53f0\u6267\u884c\u4e0e\u540e\u53f0\u6267\u884c</p> <ol> <li>\u542f\u52a8\u65f6\u5c3d\u91cf\u4f7f\u7528detached\u6a21\u5f0f\uff0c\u514d\u5f97\u4e0d\u5c0f\u5fc3\u628acontainer\u5173\u4e86</li> <li>\u8fdb\u5165\u67e5\u770blog\u5c3d\u91cf\u4e0d\u7528attached\u6a21\u5f0f\uff0c\u540c\u6837\u514d\u5f97\u4e0d\u5c0f\u5fc3\u628acontainer\u5173\u4e86\uff0c\u7528<code>docker container logs &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt;</code></li> <li>\u5982\u679c\u8981\u8fdb\u884c\u4ea4\u4e92\uff0c\u63a8\u8350\u4f7f\u7528\u4ea4\u4e92\u6a21\u5f0f</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1detachedattached","title":"\u2460detached\u6a21\u5f0f\u542f\u52a8\u4e0eattached\u63a7\u5236","text":"<pre><code># attached\u6a21\u5f0f\u542f\u52a8\ndocker container run (-it) &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt; (sh)\n# attached\u63a7\u5236\ndocker attach &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt;\n# detached\u6a21\u5f0f\u542f\u52a8\ndocker container run -d &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt;\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2log","title":"\u2461\u67e5\u770blog","text":"<pre><code># \u9759\u6001:\u6682\u65f6\u67e5\u770b\u4e00\u6b21\ndocker container logs &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt;\n# \u52a8\u6001:\u6301\u7eed\u67e5\u770b\ndocker container logs &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt; -f\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#5","title":"5.\u5bb9\u5668\u7684\u4ea4\u4e92\u6a21\u5f0f","text":"<p>\u542f\u52a8\u5bb9\u5668\u65f6\u5982\u679c\u7528attached\u6a21\u5f0f\u9000\u51fa\u540e\u5bb9\u5668\u4e5f\u8ddf\u7740\u63a8\u51fa\u4e86\uff0c\u5982\u679c\u9700\u8981\u5728\u5bb9\u5668\u4e2d\u8fdb\u884c\u64cd\u4f5c\u53ef\u4ee5\u7528detached\u542f\u52a8\uff0c\u7136\u540e\u518d\u7528<code>exec</code>\u8fdb\u5165\u5bb9\u5668\u4ea4\u4e92</p> <pre><code>docker container exec -it  &lt;name(\u5168\u79f0) or ID(\u53ef\u7b80\u5199)&gt; sh </code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#6","title":"6.\u5bb9\u5668\u548c\u865a\u62df\u673a\u7684\u533a\u522b","text":"<p>\u5bb9\u5668\u4e0d\u662fmini\u7684\u865a\u62df\u673a</p> <ol> <li>\u5bb9\u5668\u5176\u5b9e\u662f\u8fdb\u7a0bContainers are just processes</li> <li>\u5bb9\u5668\u4e2d\u7684\u8fdb\u7a0b\u88ab\u9650\u5236\u4e86\u5bf9CPU\u5185\u5b58\u7b49\u8d44\u6e90\u7684\u8bbf\u95ee</li> <li>\u5f53\u8fdb\u7a0b\u505c\u6b62\u540e\uff0c\u5bb9\u5668\u5c31\u9000\u51fa\u4e86</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#7docker-container-run","title":"7.docker container run \u53d1\u751f\u7684\u5185\u5bb9","text":"<p><code>docker container run -d --p 80:80 nginx</code></p> <ol> <li>\u5728\u672c\u5730\u67e5\u627e\u662f\u5426\u6709nginx\u8fd9\u4e2aimage\u955c\u50cf\uff0c\u4f46\u662f\u6ca1\u6709\u53d1\u73b0</li> <li>\u53bb\u8fdc\u7a0b\u7684image registry\u67e5\u627enginx\u955c\u50cf\uff08\u9ed8\u8ba4\u7684registry\u662fDocker Hub)</li> <li>\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684nginx\u955c\u50cf \uff08nginx:latest \u9ed8\u8ba4)</li> <li>\u57fa\u4e8enginx\u955c\u50cf\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bb9\u5668\uff0c\u5e76\u4e14\u51c6\u5907\u8fd0\u884c</li> <li>docker engine\u5206\u914d\u7ed9\u8fd9\u4e2a\u5bb9\u5668\u4e00\u4e2a\u865a\u62dfIP\u5730\u5740</li> <li>\u5728\u5bbf\u4e3b\u673a\u4e0a\u6253\u5f0080\u7aef\u53e3\u5e76\u628a\u5bb9\u5668\u768480\u7aef\u53e3\u8f6c\u53d1\u5230\u5bbf\u4e3b\u673a\u4e0a</li> <li>\u542f\u52a8\u5bb9\u5668\uff0c\u8fd0\u884c\u6307\u5b9a\u7684\u547d\u4ee4\uff08\u8fd9\u91cc\u662f\u4e00\u4e2ashell\u811a\u672c\u53bb\u542f\u52a8nginx\uff09</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#_4","title":"\u4e09\u3001\u955c\u50cf\u7684\u521b\u5efa\u7ba1\u7406\u548c\u53d1\u5e03","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_3","title":"1.\u955c\u50cf\u7684\u83b7\u53d6\u65b9\u5f0f","text":"<ol> <li>(online)\u4eceregistry\u62c9\u53d6: pull from registry(\u516c\u6709\u3001\u79c1\u6709)</li> <li>(offline)\u4ece\u6587\u4ef6\u5bfc\u5165: load from file</li> <li>(online)\u4eceDockerfile\u6784\u5efa: build from Dockerfile </li> <li>(online)\u4ececontainer\u63d0\u4ea4: commit from container</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2registry","title":"2.\u5e38\u7528\u7684\u516c\u6709registry","text":"<ul> <li>Docker Hub Container Image Library | App Containerization</li> <li>Quay Container Registry \u00b7 Quay</li> </ul>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3_2","title":"3.\u955c\u50cf\u7684\u57fa\u672c\u64cd\u4f5c","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_4","title":"\u2460\u62c9\u53d6\u65b9\u5f0f\u83b7\u53d6\u955c\u50cf","text":"\u64cd\u4f5c \u6307\u4ee4 \u62c9\u53d6 docker pull name(:tag) \u67e5\u770b\u955c\u50cf\u5217\u8868 docker image ls \u67e5\u770b\u67d0\u4e2a\u955c\u50cf\u7684\u8be6\u7ec6\u4fe1\u606f docker image inspect  \u5220\u9664\u955c\u50cf docker image rm  \u5220\u9664\u63a8\u51fa\u7684\u955c\u50cf docker image prune -a"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2_2","title":"\u2461\u5bfc\u5165\u65b9\u5f0f\u83b7\u53d6\u955c\u50cf","text":"\u64cd\u4f5c \u6307\u4ee4 \u4fdd\u5b58\u67d0\u4e2a\u955c\u50cf docker image save  name:tag-o &lt;\u8def\u5f84+\u540d\u5b57&gt; \u8f7d\u5165\u67d0\u4e2a\u955c\u50cf docker image load -i  &lt;\u8def\u5f84+\u540d\u5b57&gt;"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3_3","title":"\u2462\u6784\u5efa\u65b9\u5f0f\u83b7\u53d6\u955c\u50cf","text":"<ol> <li>\u7f16\u5199Dockerfile: \u5404\u79cd\u7ec6\u8282\u4e0b\u4e2a\u7ae0\u8282\u603b\u7ed3,\u8fd9\u91cc\u653e\u4e00\u4e2a\u4f8b\u5b50</li> </ol> <pre><code>FROM ubuntu:20.04\nRUN apt-get update &amp;&amp; \\\nDEBIAN_FRONTEND=noninteractive apt-get install --no-install-recommends -y python3.9 python3-pip python3.9-dev\nADD hello.py /\nCMD [\"python3\", \"/hello.py\"]\n</code></pre> <ol> <li>\u6784\u5efa\u955c\u50cf: <code>docker image build -t name:tag</code></li> </ol> <pre><code># \u8981\u662f\u66f4\u6362\u955c\u50cf\u540d\u5b57\u53ef\u4ee5\u7528\u5982\u4e0b\u6307\u4ee4\ndocker image tag \u539f\u59cbname \u65b0name\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4","title":"\u2463\u63d0\u4ea4\u65b9\u5f0f\u83b7\u53d6\u955c\u50cf","text":"<ol> <li>\u5728container\u4e2d\u8fdb\u884c\u64cd\u4f5c</li> <li>commit\u6210\u65b0\u955c\u50cf: docker container commit"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#5dockerhub","title":"\u2464\u955c\u50cf\u5206\u4eab\u5230dockerhub","text":"<ol> <li>\u767b\u5f55: docker login</li> <li>\u63a8\u9001: docker image push name</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#dockerfile","title":"\u56db\u3001Dockerfile\u7f16\u5199\u6307\u5357","text":"<p>## 1.FROM: \u57fa\u7840\u955c\u50cf\u7684\u9009\u62e9</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_5","title":"\u2460\u57fa\u672c\u539f\u5219","text":"<ol> <li>\u4e3a\u4e86\u5b89\u5168: \u5b98\u65b9\u955c\u50cf\u4f18\u4e8e\u975e\u5b98\u65b9\u7684\u955c\u50cf\uff0c\u5982\u679c\u6ca1\u6709\u5b98\u65b9\u955c\u50cf\uff0c\u5219\u5c3d\u91cf\u9009\u62e9Dockerfile\u5f00\u6e90\u7684</li> <li>\u4e3a\u4e86\u7a33\u5b9a: \u56fa\u5b9a\u7248\u672ctag\u800c\u4e0d\u662f\u6bcf\u6b21\u90fd\u4f7f\u7528latest</li> <li>\u8282\u7701\u7a7a\u95f4: \u5c3d\u91cf\u9009\u62e9\u4f53\u79ef\u5c0f\u7684\u955c\u50cf</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2run","title":"2.RUN: \u6267\u884c\u6307\u4ee4","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_6","title":"\u2460\u7b80\u5355\u4f8b\u5b50","text":"<pre><code># Dockerfile.bad\u7684\u5185\u5bb9\nFROM ubuntu:20.04\nRUN apt-get update\nRUN apt-get install -y wget\nRUN wget https://github.com/ipinfo/cli/releases/download/ipinfo-2.0.1/ipinfo_2.0.1_linux_amd64.tar.gz\nRUN tar zxf ipinfo_2.0.1_linux_amd64.tar.gz\nRUN mv ipinfo_2.0.1_linux_amd64 /usr/bin/ipinfo\nRUN rm -rf ipinfo_2.0.1_linux_amd64.tar.gz\n</code></pre> <pre><code># \u6784\u5efa\u6307\u4ee4\ndocker image build -f Dockerfile.bad -t ubuntu-bad\n# \u67e5\u770b\u5206\u5c42\ndocker image history &lt;ID&gt;\n# \u8f93\u51fa\n</code></pre> <p>\u6bcf\u4e00\u884c\u7684RUN\u547d\u4ee4\u90fd\u4f1a\u4ea7\u751f\u4e00\u5c42image layer, \u5bfc\u81f4\u955c\u50cf\u7684\u81c3\u80bf,\u53ef\u4ee5\u5199\u5728\u4e00\u8d77\u6539\u8fdb\u8282\u7ea6\u7a7a\u95f4\uff0c\u5206\u5c42\u591a\u5360\u7528\u7684\u7a7a\u95f4\u662f\u4e00\u4e9b\u4e34\u65f6\u6587\u4ef6\u4f1a\u4fdd\u5b58\u5728\u6bcf\u4e2a\u5c42\u4e2d</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2_3","title":"\u2461\u6539\u8fdb\u7248","text":"<pre><code># Dockerfile.good\u5185\u5bb9\nFROM ubuntu:20.04\nRUN apt-get update &amp;&amp; \\\napt-get install -y wget &amp;&amp; \\\nwget https://github.com/ipinfo/cli/releases/download/ipinfo-2.0.1/ipinfo_2.0.1_linux_amd64.tar.gz &amp;&amp; \\\ntar zxf ipinfo_2.0.1_linux_amd64.tar.gz &amp;&amp; \\\nmv ipinfo_2.0.1_linux_amd64 /usr/bin/ipinfo &amp;&amp; \\\nrm -rf ipinfo_2.0.1_linux_amd64.tar.gz\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3copyadd","title":"3.COPY\u4e0eADD: \u6587\u4ef6\u590d\u5236","text":"<ol> <li><code>COPY</code> \u548c <code>ADD</code> \u90fd\u53ef\u4ee5\u628alocal\u7684\u4e00\u4e2a\u6587\u4ef6\u590d\u5236\u5230\u955c\u50cf\u91cc\uff0c\u5982\u679c\u76ee\u6807\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u81ea\u52a8\u521b\u5efa\u3002</li> <li><code>ADD</code> \u6bd4 COPY\u9ad8\u7ea7\u4e00\u70b9\u7684\u5730\u65b9\u5c31\u662f\uff0c\u5982\u679c\u590d\u5236\u7684\u662f\u4e00\u4e2agzip\u7b49\u538b\u7f29\u6587\u4ef6\u65f6\uff0cADD\u4f1a\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u53bb\u89e3\u538b\u7f29\u6587\u4ef6\u3002</li> </ol> <pre><code># \u4f8b\u5b501\nFROM python:3.9.5-alpine3.13\nCOPY hello.py /app/hello.py\n# \u4f8b\u5b502\nFROM python:3.9.5-alpine3.13\nADD hello.tar.gz /app/\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4workdir","title":"4.WORKDIR: \u76ee\u5f55\u64cd\u4f5c","text":"<ol> <li>\u7c7b\u4f3c\u4e8e<code>cd</code>\u6307\u4ee4\uff0c\u5982\u679c\u76ee\u6807\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u81ea\u52a8\u521b\u5efa\u3002</li> </ol> <pre><code># \u4f8b\u5b50\nFROM python:3.9.5-alpine3.13\nWORKDIR /app\nCOPY hello.py hello.py\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#5argenv","title":"5.ARG\u4e0eENV: \u6784\u5efa\u53c2\u6570\u548c\u73af\u5883\u53d8\u91cf","text":"<p><code>ARG</code> \u548c <code>ENV</code> \u662f\u7ecf\u5e38\u5bb9\u6613\u88ab\u6df7\u6dc6\u7684\u4e24\u4e2aDockerfile\u7684\u8bed\u6cd5\uff0c\u90fd\u53ef\u4ee5\u7528\u6765\u8bbe\u7f6e\u4e00\u4e2a\u201c\u53d8\u91cf\u201d\u3002 \u4f46\u5b9e\u9645\u4e0a\u4e24\u8005\u6709\u5f88\u591a\u7684\u4e0d\u540c\u3002</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_7","title":"\u2460\u4f8b\u5b50","text":"<pre><code># \u539f\u59cbdockerfile\nFROM ubuntu:20.04\nRUN apt-get update &amp;&amp; \\\napt-get install -y wget &amp;&amp; \\\nwget https://github.com/ipinfo/cli/releases/download/ipinfo-2.0.1/ipinfo_2.0.1_linux_amd64.tar.gz &amp;&amp; \\\ntar zxf ipinfo_2.0.1_linux_amd64.tar.gz &amp;&amp; \\\nmv ipinfo_2.0.1_linux_amd64 /usr/bin/ipinfo &amp;&amp; \\\nrm -rf ipinfo_2.0.1_linux_amd64.tar.gz\n\n# \u4f7f\u7528ENV\u7f16\u5199\nFROM ubuntu:20.04\nENV VERSION=2.0.1\nRUN apt-get update &amp;&amp; \\\napt-get install -y wget &amp;&amp; \\\nwget https://github.com/ipinfo/cli/releases/download/ipinfo-${VERSION}/ipinfo_${VERSION}_linux_amd64.tar.gz &amp;&amp; \\\ntar zxf ipinfo_${VERSION}_linux_amd64.tar.gz &amp;&amp; \\\nmv ipinfo_${VERSION}_linux_amd64 /usr/bin/ipinfo &amp;&amp; \\\nrm -rf ipinfo_${VERSION}_linux_amd64.tar.gz\n\n# \u4f7f\u7528ARG\u7f16\u5199\nFROM ubuntu:20.04\nARG VERSION=2.0.1\nRUN apt-get update &amp;&amp; \\\napt-get install -y wget &amp;&amp; \\\nwget https://github.com/ipinfo/cli/releases/download/ipinfo-${VERSION}/ipinfo_${VERSION}_linux_amd64.tar.gz &amp;&amp; \\\ntar zxf ipinfo_${VERSION}_linux_amd64.tar.gz &amp;&amp; \\\nmv ipinfo_${VERSION}_linux_amd64 /usr/bin/ipinfo &amp;&amp; \\\nrm -rf ipinfo_${VERSION}_linux_amd64.tar.gz\n</code></pre> <ol> <li>ARG \u53ef\u4ee5\u5728\u955c\u50cfbuild\u7684\u65f6\u5019\u52a8\u6001\u4fee\u6539value, \u901a\u8fc7 <code>--build-arg</code></li> <li>ENV \u8bbe\u7f6e\u7684\u53d8\u91cf\u53ef\u4ee5\u5728Image\u4e2d\u4fdd\u6301\uff0c\u5e76\u5728\u5bb9\u5668\u4e2d\u7684\u73af\u5883\u53d8\u91cf\u91cc</li> </ol> <pre><code># \u6784\u5efa\u65f6\u4fee\u6539ARG\u4f8b\u5b50\n$ docker image build -f .\\Dockerfile-arg -t ipinfo-arg-2.0.0 --build-arg VERSION=2.0.0 .\n$ docker image ls\nREPOSITORY         TAG       IMAGE ID       CREATED          SIZE\nipinfo-arg-2.0.0   latest    0d9c964947e2   6 seconds ago    124MB\n$ docker container run -it ipinfo-arg-2.0.0\nroot@b64285579756:/#\nroot@b64285579756:/# ipinfo version\n2.0.0\nroot@b64285579756:/#\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#6cmd-1","title":"6.CMD: \u5bb9\u5668\u542f\u52a8\u547d\u4ee41","text":"<ol> <li>\u5bb9\u5668\u542f\u52a8\u65f6\u9ed8\u8ba4\u6267\u884c\u7684\u547d\u4ee4</li> <li>\u5982\u679cdocker container run\u542f\u52a8\u5bb9\u5668\u65f6\u6307\u5b9a\u4e86\u5176\u5b83\u547d\u4ee4\uff0c\u5219CMD\u547d\u4ee4\u4f1a\u88ab\u5ffd\u7565</li> <li>\u5982\u679c\u5b9a\u4e49\u4e86\u591a\u4e2aCMD\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u4f1a\u88ab\u6267\u884c\u3002</li> </ol> <pre><code># ubuntu\u4e2d\u81ea\u5e26\u7684CMD\u6307\u4ee4\nIMAGE          CREATED         CREATED BY                                      SIZE      COMMENT\n26b77e58432b   19 months ago   /bin/sh -c #(nop)  CMD [\"/bin/bash\"]            0B\n&lt;missing&gt;      19 months ago   /bin/sh -c mkdir -p /run/systemd &amp;&amp; echo 'do\u2026   7B\n&lt;missing&gt;      19 months ago   /bin/sh -c [ -z \"$(apt-get indextargets)\" ]     0B\n&lt;missing&gt;      19 months ago   /bin/sh -c set -xe   &amp;&amp; echo '#!/bin/sh' &gt; /\u2026   811B\n&lt;missing&gt;      19 months ago   /bin/sh -c #(nop) ADD file:27277aee655dd263e\u2026   72.9MB\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#7entrypoint-2","title":"7.ENTRYPOINT: \u5bb9\u5668\u542f\u52a8\u547d\u4ee42","text":"<ol> <li><code>CMD</code> \u8bbe\u7f6e\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u5728<code>docker container run</code> \u65f6\u4f20\u5165\u5176\u5b83\u547d\u4ee4\uff0c\u8986\u76d6\u6389 <code>CMD</code> \u7684\u547d\u4ee4\uff0c\u4f46\u662f <code>ENTRYPOINT</code> \u6240\u8bbe\u7f6e\u7684\u547d\u4ee4\u662f\u4e00\u5b9a\u4f1a\u88ab\u6267\u884c\u7684\u3002</li> <li><code>ENTRYPOINT</code> \u548c <code>CMD</code> \u53ef\u4ee5\u8054\u5408\u4f7f\u7528\uff0c<code>ENTRYPOINT</code> \u8bbe\u7f6e\u6267\u884c\u7684\u547d\u4ee4\uff0c<code>CMD</code>\u4f20\u9012\u53c2\u6570</li> </ol> <pre><code># \u5355\u72ec\u7528CMD\nFROM ubuntu:20.04\nCMD [\"echo\", \"hello docker\"]\n# \u5355\u72ec\u7528ENTRYPOINT\nFROM ubuntu:20.04\nENTRYPOINT [\"echo\", \"hello docker\"]\n# \u901a\u8fc7dockerfile\u7ec4\u5408ENTRYPOINT\u548cCMD\nFROM ubuntu:20.04\nENTRYPOINT [\"echo\", \"hello docker\"]\nCMD [\"what's up\"]\n# \u901a\u8fc7\u547d\u4ee4\u884c\u7ec4\u5408ENTRYPOINT\u548cCMD\nFROM ubuntu:20.04\nENTRYPOINT [\"echo\", \"hello docker\"]\n$ docker container run -it --rm demo-both-cmd echo \"hello world\"\nhello docker echo hello world\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#8shellexec-3","title":"8.Shell\u683c\u5f0f\u4e0eExec\u683c\u5f0f: \u5bb9\u5668\u542f\u52a8\u547d\u4ee43","text":"<p>\u7528Exec\u683c\u5f0f\u6bd4\u8f83\u591a</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1shell","title":"\u2460shell\u683c\u5f0f","text":"<pre><code>CMD echo \"hello docker\"\nENTRYPOINT echo \"hello docker\"\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2exec","title":"\u2461Exec\u683c\u5f0f","text":"<pre><code>CMD [\"echo\", \"hello docker\"]\nENTRYPOINT [\"echo\", \"hello docker\"]\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3_4","title":"\u2462\u4f20\u53c2\u95ee\u9898","text":"<pre><code># \u80fd\u5f15\u7528\nFROM ubuntu:20.04\nENV NAME=docker\nCMD echo \"hello $NAME\"\n\n# \u4e0d\u80fd\u5f15\u7528\nFROM ubuntu:20.04\nENV NAME=docker\nCMD [\"echo\", \"hello $NAME\"]\n\n# \u80fd\u5f15\u7528\nFROM ubuntu:20.04\nENV NAME=docker\nCMD [\"sh\", \"-c\", \"echo hello $NAME\"]\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#9dockerfile","title":"9.Dockerfile\u6280\u5de7(\u6700\u4f73\u5b9e\u8df5)","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_8","title":"\u2460\u5408\u7406\u4f7f\u7528\u7f13\u5b58","text":"<ol> <li>\u955c\u50cf\u6784\u5efa\u4e00\u6b21\u540e\u4f1a\u6709\u7f13\u5b58\uff0c\u5982\u679c\u4e4b\u540e\u6ca1\u6709\u66f4\u6539\u53ef\u4ee5\u4f7f\u7528\u7f13\u5b58\u51cf\u5c11\u6784\u5efa\u65f6\u95f4</li> <li>\u5982\u679c\u9760\u524d\u7684\u5c42\u6539\u53d8\u4e86\uff0c\u4e4b\u540e\u7684\u7f13\u5b58\u90fd\u4e0d\u8d77\u4f5c\u7528\uff0c\u53ef\u4ee5\u628a\u4e0d\u5e38\u6539\u53d8\u7684\u6307\u4ee4\u653e\u524d\u9762\uff0c\u7ecf\u5e38\u6539\u53d8\u7684\u6307\u4ee4\u653e\u540e\u9762\u6765\u8282\u7701\u6784\u5efa\u65f6\u95f4</li> </ol> <pre><code>## Dockerfile\u4fee\u6539\u524d\nFROM python:3.9.5-slim\nCOPY hello.py /src/hello.py\nEXPOSE 5000\nRUN pip install flask\nWORKDIR /src\nENV FLASK_APP=app.py\nCMD [\"flask\", \"run\", \"-h\", \"0.0.0.0\"]\n# \u7b2c\u4e00\u6b21\u6784\u5efa\n=&gt; [2/4] COPY hello.py /src/hello.py                 =&gt; [3/4] RUN pip install flask                       =&gt; [4/4] WORKDIR /src # \u7b2c\u4e8c\u6b21\u6784\u5efa(\u4f7f\u7528\u4e86cached)\n=&gt; CACHED [2/4] COPY hello.py /src/hello.py           =&gt; CACHED [3/4] RUN pip install flask                 =&gt; CACHED [4/4] WORKDIR /src    #\u4fee\u6539hello.py\u5185\u5bb9\u540e\u672c\u5c42\u548c\u4e4b\u540e\u7684\u7f13\u5b58\u90fd\u5c06\u5931\u6548\n=&gt; CACHED [1/4] FROM docker.io/library/python:3.9.5-slim@sha256:9828573e...\n =&gt; [2/4] COPY hello.py /src/hello.py                 =&gt; [3/4] RUN pip install flask                       =&gt; [4/4] WORKDIR /src\n\n## Dockerfile\u4fee\u6539\u540e\nFROM python:3.9.5-slim\nEXPOSE 5000\nRUN pip install flask\nWORKDIR /src\nENV FLASK_APP=app.py\nCOPY hello.py /src/hello.py\nCMD [\"flask\", \"run\", \"-h\", \"0.0.0.0\"]\n#\u8c03\u6362\u6307\u4ee4\u987a\u5e8f\u540e\u4fee\u6539hello.py\u5185\u5bb9\u540e\u4e4b\u524d\u7684\u7f13\u5b58\u6709\u6548\n=&gt; [1/4] FROM docker.io/library/python:3.9.5-slim@sha256:9828573e6a0b02b6...                       =&gt; CACHED [2/4] RUN pip install flask                 =&gt; CACHED [3/4] WORKDIR /src                         =&gt; [4/4] COPY hello.py /src/hello.py   </code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2dockerignore","title":"\u2461\u5408\u7406\u4f7f\u7528.dockerignore","text":"<ol> <li> <p>Docker\u662fclient-server\u67b6\u6784\uff0c\u7406\u8bba\u4e0aClient\u548cServer\u53ef\u4ee5\u4e0d\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u3002</p> </li> <li> <p>\u5728\u6784\u5efadocker\u955c\u50cf\u7684\u65f6\u5019\uff0c\u9700\u8981\u628a\u6240\u9700\u8981\u7684\u6587\u4ef6\u7531CLI\uff08client\uff09\u53d1\u7ed9Server\uff0c\u8fd9\u4e9b\u6587\u4ef6\u5b9e\u9645\u4e0a\u5c31\u662fbuild context</p> </li> <li>\u53ef\u4ee5\u901a\u8fc7.dockerignore\u6765\u51cf\u5c11\u5185\u5bb9</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3_5","title":"\u2462\u955c\u50cf\u7684\u591a\u9636\u6bb5\u6784\u5efa","text":"<p>\u5982\u679c\u9700\u8981\u7f16\u8bd1\u73af\u5883\u6216\u4e2d\u95f4\u6587\u4ef6\u8fc7\u591a\u53ef\u4ee5\u8bd5\u7528\u591a\u9636\u6bb5\u6784\u5efa\u6765\u628a\u8fd9\u4e9b\u6b65\u9aa4\u653e\u5728\u524d\u9762\u7684\u9636\u6bb5\u6765\u8282\u7ea6docker image\u7a7a\u95f4</p> <pre><code># \u5355\u9636\u6bb5\u4f8b\u5b50\nFROM gcc:9.4\n\nCOPY hello.c /src/hello.c\n\nWORKDIR /src\n\nRUN gcc --static -o hello hello.c\n\nENTRYPOINT [ \"/src/hello\" ]\n\nCMD []\n\n# \u591a\u9636\u6bb5\u4f8b\u5b50\nFROM gcc:9.4 AS builder\n\nCOPY hello.c /src/hello.c\n\nWORKDIR /src\n\nRUN gcc --static -o hello hello.c\n\n\n\nFROM alpine:3.13.5\n\nCOPY --from=builder /src/hello /src/hello\n\nENTRYPOINT [ \"/src/hello\" ]\n\nCMD []\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4root","title":"\u2463\u4f7f\u7528\u975eroot\u7528\u6237","text":"<p>\u7528\u975eroot\u4fdd\u8bc1\u4e00\u4e9b\u5b89\u5168\u6027\u95ee\u9898</p> <pre><code># root\u6743\u9650\u4f8b\u5b50(\u5e38\u7528)\nFROM python:3.9.5-slim\n\nRUN pip install flask\n\nCOPY app.py /src/app.py\n\nWORKDIR /src\nENV FLASK_APP=app.py\n\nEXPOSE 5000\n\nCMD [\"flask\", \"run\", \"-h\", \"0.0.0.0\"]\n\n# \u521b\u5efa\u7528\u6237\u5e76\u4f7f\u7528\u7528\u6237\nFROM python:3.9.5-slim\n\nRUN pip install flask &amp;&amp; \\\ngroupadd -r flask &amp;&amp; useradd -r -g flask flask &amp;&amp; \\\nmkdir /src &amp;&amp; \\\nchown -R flask:flask /src\n\nUSER flask\n\nCOPY app.py /src/app.py\n\nWORKDIR /src\nENV FLASK_APP=app.py\n\nEXPOSE 5000\n\nCMD [\"flask\", \"run\", \"-h\", \"0.0.0.0\"]\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#docker","title":"\u4e94\u3001docker\u7684\u5b58\u50a8","text":"<p>\u95ee\u9898\uff1a</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5728\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\u91cc\u521b\u5efa\u7684\u6587\u4ef6\uff0c\u88ab\u4fdd\u5b58\u5728\u4e00\u4e2a\u53ef\u5199\u7684\u5bb9\u5668\u5c42\uff1a</p> <ul> <li>\u5982\u679c\u5bb9\u5668\u88ab\u5220\u9664\u4e86\uff0c\u5219\u6570\u636e\u4e5f\u6ca1\u6709\u4e86</li> <li>\u8fd9\u4e2a\u53ef\u5199\u7684\u5bb9\u5668\u5c42\u662f\u548c\u7279\u5b9a\u7684\u5bb9\u5668\u7ed1\u5b9a\u7684\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e9b\u6570\u636e\u65e0\u6cd5\u65b9\u4fbf\u7684\u548c\u5176\u5b83\u5bb9\u5668\u5171\u4eab</li> </ul> <p></p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <p>Docker\u4e3b\u8981\u63d0\u4f9b\u4e86\u4e24\u79cd\u65b9\u5f0f\u505a\u6570\u636e\u7684\u6301\u4e45\u5316</p> <ul> <li>Data Volume, \u7531Docker\u7ba1\u7406\uff0c(/var/lib/docker/volumes/ Linux), \u6301\u4e45\u5316\u6570\u636e\u7684\u6700\u597d\u65b9\u5f0f</li> <li>Bind Mount\uff0c\u7531\u7528\u6237\u6307\u5b9a\u5b58\u50a8\u7684\u6570\u636e\u5177\u4f53mount\u5728\u7cfb\u7edf\u4ec0\u4e48\u4f4d\u7f6e</li> </ul> <p></p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1data-volume","title":"1.Data Volume","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1dockerfilevolume","title":"\u2460\u5728Dockerfile\u4e2d\u6dfb\u52a0volume\u6307\u4ee4","text":"<p>\u518d\u4e00\u6b21\u6784\u5efa\u540c\u4e00\u4e2a\u955c\u50cf\u7684\u65f6\u5019\u4e0d\u4f1a\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e2avolume</p> <pre><code>FROM alpine:latest\nRUN apk update\nRUN apk --no-cache add curl\nENV SUPERCRONIC_URL=https://github.com/aptible/supercronic/releases/download/v0.1.12/supercronic-linux-amd64 \\\nSUPERCRONIC=supercronic-linux-amd64 \\\nSUPERCRONIC_SHA1SUM=048b95b48b708983effb2e5c935a1ef8483d9e3e\nRUN curl -fsSLO \"$SUPERCRONIC_URL\" \\\n&amp;&amp; echo \"${SUPERCRONIC_SHA1SUM}  ${SUPERCRONIC}\" | sha1sum -c - \\\n&amp;&amp; chmod +x \"$SUPERCRONIC\" \\\n&amp;&amp; mv \"$SUPERCRONIC\" \"/usr/local/bin/${SUPERCRONIC}\" \\\n&amp;&amp; ln -s \"/usr/local/bin/${SUPERCRONIC}\" /usr/local/bin/supercronic\nCOPY my-cron /app/my-cron\nWORKDIR /app\n\nVOLUME [\"/app\"]  # \u4f1a\u5c06/app\u4e0b\u7684\u6587\u4ef6\u5b58\u50a8\u5728volume\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u7528docker volume ls\u7167\u770b\u5f53\u524d\u7684volume name\uff0c\u7136\u540e\u7528docker volume inspect &lt;volume name&gt;\u6765\u5f00\u770b\u5177\u4f53\u4f4d\u7f6e\u7136\u540e\u67e5\u770b\u91cc\u9762\u7684\u5185\u5bb9\n\n# RUN cron job\nCMD [\"/usr/local/bin/supercronic\", \"/app/my-cron\"]\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2volume","title":"\u2461\u521b\u5efa\u5bb9\u5668\u65f6\u6307\u5b9a\u4f7f\u7528volume\u7684\u540d\u5b57\u548c\u76ee\u5f55\uff0c\u6ca1\u6709\u65f6\u5219\u521b\u5efa\u5e76\u4f7f\u7528","text":"<pre><code>FROM alpine:latest\nRUN apk update\nRUN apk --no-cache add curl\nENV SUPERCRONIC_URL=https://github.com/aptible/supercronic/releases/download/v0.1.12/supercronic-linux-amd64 \\\nSUPERCRONIC=supercronic-linux-amd64 \\\nSUPERCRONIC_SHA1SUM=048b95b48b708983effb2e5c935a1ef8483d9e3e\nRUN curl -fsSLO \"$SUPERCRONIC_URL\" \\\n&amp;&amp; echo \"${SUPERCRONIC_SHA1SUM}  ${SUPERCRONIC}\" | sha1sum -c - \\\n&amp;&amp; chmod +x \"$SUPERCRONIC\" \\\n&amp;&amp; mv \"$SUPERCRONIC\" \"/usr/local/bin/${SUPERCRONIC}\" \\\n&amp;&amp; ln -s \"/usr/local/bin/${SUPERCRONIC}\" /usr/local/bin/supercronic\nCOPY my-cron /app/my-cron\nWORKDIR /app\n\n# RUN cron job\nCMD [\"/usr/local/bin/supercronic\", \"/app/my-cron\"]\n</code></pre> <pre><code># \u521b\u5efa\u955c\u50cf\ndocker container run -d -v cron-data:/app my-cron\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3_6","title":"\u2462\u5b58\u50a8\u6e05\u7406","text":"<pre><code>$ docker rm -f $(docker container ps -aq)\n$ docker system prune -f\n$ docker volume prune -f\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2bind-mount","title":"2.Bind Mount","text":"<p>data volume\u8def\u5f84\u6307\u5b9a\u5728\u4e86linux\u4e0b\u7684\u6587\u4ef6\u5939\uff0cbind mount\u65b9\u5f0f\u53ef\u4ee5\u76f4\u63a5\u7ed1\u5b9a\u5230\u67d0\u4e2a\u8def\u5f84</p> <pre><code># dockerfile\u63a5\u4e0a\u9762\uff0c\u521b\u5efa\u955c\u50cf\ndocker container run -d -v ${pwd}:/app my-cron\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#docker_1","title":"\u516d\u3001docker\u7684\u7f51\u7edc","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1ip","title":"1.IP\u5730\u5740\u7684\u67e5\u770b","text":"<pre><code># windows\nipconfig\n# linux\nifconfig\n\u6216\u8005\nip addr\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2_4","title":"2.\u7f51\u7edc\u8fde\u901a\u6027\u6d4b\u8bd5","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1ping","title":"\u2460ping\u547d\u4ee4","text":"<pre><code># \u6d4b\u8bd5ip\u5730\u5740\u662f\u5426\u8054\u901a\nping 127.0.0.1\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2telnet","title":"\u2461telnet\u547d\u4ee4","text":"<pre><code># \u6d4b\u8bd5\u7aef\u53e3\u662f\u5426\u8054\u901a\ntelnet www.baidu.com 80\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3_7","title":"3.\u629b\u51fa\u7591\u95ee","text":"<ol> <li>\u4e3a\u4ec0\u4e48\u672c\u5730\u53ef\u4ee5\u76f4\u63a5ping\u901adocker\u7684ip\u5730\u5740\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u5bb9\u5668\u4e2d\u53ef\u4ee5\u76f4\u63a5ping\u901a\u5916\u90e8\u7f51\u7edc\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u672c\u5730\u4e24\u4e2a\u5bb9\u5668\u4e4b\u95f4\u53ef\u4ee5ping\u901a\uff1f</li> <li>\u4e3a\u4ec0\u4e48\u5916\u90e8\u673a\u5668\u4e0d\u80fdping\u901a\u672c\u5730\u7684\u5bb9\u5668\u5730\u5740?</li> <li>\u5bb9\u5668\u7684ip\u5730\u5740\u662f\u600e\u4e48\u5206\u914d\u7684\uff1f</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1pingdockerip","title":"\u2460\u4e3a\u4ec0\u4e48\u672c\u5730\u53ef\u4ee5\u76f4\u63a5ping\u901adocker\u7684ip\u5730\u5740\uff1f","text":"<pre><code># \u67e5\u770bdocker\u7684\u7f51\u7edc\ndocker network ls\n# \u67e5\u770bbridge\u7f51\u7edc\ndocker inspect XXX(bridge\u7684NAME ID)\u6216\u8005bridge NAME\n</code></pre> <p>ubuntu\u901a\u8fc7 <code>apt-get install -y bridge-utils</code>\u6765\u5b89\u88c5brctl\uff0c\u53ef\u4ee5\u67e5\u770b\u672c\u5730\u7684bridge\u7f51\u7edc</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2ping","title":"\u2461\u4e3a\u4ec0\u4e48\u5bb9\u5668\u4e2d\u53ef\u4ee5\u76f4\u63a5ping\u901a\u5916\u90e8\u7f51\u7edc\uff1f","text":"<p>\u56e0\u4e3a\u901a\u8fc7NAT\u8f6c\u53d1\u51fa\u53bb</p> <p>\u516c\u6709IP\u5730\u5740\u4e0d\u80fd\u8ba9\u6bcf\u53f0\u7535\u8111\u90fd\u6709\u4e2aIP\u5730\u5740\uff0c\u540e\u6765\u53d1\u660e\u4e86\u79c1\u6709IP\u5730\u5740\u662f\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u7684\uff0c\u4f46\u662f\u79c1\u6709IP\u5730\u5740\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u516c\u6709\u7f51\u7edc\uff0c\u6240\u4ee5\u901a\u8fc7NAT\u628a\u79c1\u6709IP\u8f6c\u6362\u6210\u516c\u6709IP\u5728\u4e92\u8054\u7f51\u4e2d\u4f7f\u7528\uff0c\u7136\u540e\u518d\u7528\u516c\u6709IP\u4f20\u56de\u79c1\u6709IP\u83b7\u5f97\u7ed3\u679c</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3ping","title":"\u2462\u4e3a\u4ec0\u4e48\u672c\u5730\u4e24\u4e2a\u5bb9\u5668\u4e4b\u95f4\u53ef\u4ee5ping\u901a\uff1f","text":"<p>\u5982\u679c\u8fd9\u4e24\u4e2a\u5bb9\u5668\u5728\u540c\u4e00\u4e2abridge\u7f51\u7edc\u4e2d\u5c31\u53ef\u4ee5\u4e92\u76f8ping\u901a\uff0c\u5982\u679c\u81ea\u5df1\u521b\u5efabridge\u7f51\u7edc\u7136\u540e\u628a\u5bb9\u5668\u6dfb\u52a0\u8fdb\u53bb\u53ef\u4ee5\u4f7f\u7528DNS\u89e3\u6790\u529f\u80fd(\u81ea\u5df1\u521b\u5efa\u624d\u81ea\u5e26\u7684\u529f\u80fd\uff0c\u9ed8\u8ba4\u521b\u5efa\u4e0d\u5e26)\u4e5f\u5c31\u662f\u76f4\u63a5\u4f7f\u7528\u5bb9\u5668\u7684\u540d\u5b57\u6765\u8fdb\u884c\u8bf7\u6c42</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4ping","title":"\u2463\u4e3a\u4ec0\u4e48\u5916\u90e8\u673a\u5668\u4e0d\u80fdping\u901a\u672c\u5730\u7684\u5bb9\u5668\u5730\u5740?","text":"<p>\u56e0\u4e3a\u5916\u90e8\u8bf7\u6c42\u4e0d\u80fd\u901a\u8fc7host\u7f51\u7edc\u76f4\u63a5\u8bf7\u6c42\u5230\u79c1\u6709IP\u5730\u5740\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <ol> <li>\u53ef\u4ee5\u901a\u8fc7\u7aef\u53e3\u8f6c\u53d1\u51fa\u6765\u76f4\u63a5\u8bf7\u6c42\u672c\u5730\u673a\u5668\u7684\u67d0\u4e2a\u7aef\u53e3</li> </ol> <p><code>docker container run -d --rm --name -p 8080:80 web nginx</code></p> <p>\u5728Dockerfile\u4e2d\u53ef\u4ee5\u4f7f\u7528EXPOSE PortID\u6765\u63d0\u793a\u5bf9\u5916\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u65b9\u4fbf\u4f7f\u7528\u4eba\u5458\u67e5\u770b</p> <ol> <li>\u53ef\u4ee5\u76f4\u63a5\u5c06docker\u7684\u7f51\u7edc\u6302\u5728host\u7f51\u7edc\u4e0a\u4f7f\u7528</li> <li><code>docker container run -d --rm network -- name web nginx</code></li> </ol> <p>\u8865\u5145\uff1a\u8fd8\u6709\u4e00\u79cdnone\u7f51\u7edc\uff0c\u4e2a\u4eba\u5f00\u53d1\u8005\u4e00\u822c\u4e0d\u7528\uff0c\u5e38\u7528\u4e8e\u5bb9\u5668\u7f16\u6392\u6216\u8005\u5176\u4ed6\u5de5\u5177\uff0c\u7f51\u7edc\u81ea\u884c\u6765\u914d\u7f6e</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#docker-compose","title":"\u4e03\u3001docker-compose","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1docker-compose","title":"1.docker-compose\u662f\u4ec0\u4e48","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2docker-compose","title":"2.docker-compose\u5b89\u88c5","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1windowsmac","title":"\u2460windows\u4e0emac","text":"<p>\u5b89\u88c5docker-desktop\u540e\uff0cdocker-compose\u9ed8\u8ba4\u81ea\u52a8\u5b89\u88c5</p> <pre><code># \u67e5\u770bdocker-compose\u7248\u672c\ndocker-compose --version\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2linux","title":"\u2461linux","text":"<pre><code># \u901a\u8fc7\u6307\u4ee4\u5b89\u88c5\n$ sudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n$ sudo chmod +x /usr/local/bin/docker-compose\n$ docker-compose --version\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3pip","title":"\u2462\u901a\u8fc7pip\u5b89\u88c5","text":"<pre><code>pip install docker-compose\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3compose","title":"3.compose\u6587\u4ef6\u7684\u7ed3\u6784\u548c\u7248\u672c","text":"<p>\u8bed\u6cd5\u8bf4\u660e:Compose specification | Docker Documentation</p> <p>\u7248\u672c\u76f8\u5173\u4fe1\u606f:Compose file versions and upgrading | Docker Documentation</p> <p>Compose\u6587\u4ef6\u662f\u4e00\u4e2aYAML\u6587\u4ef6\uff0c\u4e3aDocker\u5e94\u7528\u7a0b\u5e8f\u5b9a\u4e49\u670d\u52a1\u3001\u7f51\u7edc\u548c\u5377\u3002</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_9","title":"\u2460\u57fa\u672c\u8bed\u6cd5\u7ed3\u6784","text":"<p>\u4e00\u4e2a\u6837\u677f</p> <pre><code>version: \"3.8\"\n\nservices: # \u5bb9\u5668\nservicename: # \u670d\u52a1\u540d\u5b57\uff0c\u8fd9\u4e2a\u540d\u5b57\u4e5f\u662f\u5185\u90e8 bridge\u7f51\u7edc\u53ef\u4ee5\u4f7f\u7528\u7684 DNS name\nimage: # \u955c\u50cf\u7684\u540d\u5b57\ncommand: # \u53ef\u9009\uff0c\u5982\u679c\u8bbe\u7f6e\uff0c\u5219\u4f1a\u8986\u76d6\u9ed8\u8ba4\u955c\u50cf\u91cc\u7684 CMD\u547d\u4ee4\nenvironment: # \u53ef\u9009\uff0c\u76f8\u5f53\u4e8e docker run\u91cc\u7684 --env\nvolumes: # \u53ef\u9009\uff0c\u76f8\u5f53\u4e8edocker run\u91cc\u7684 -v\nnetworks: # \u53ef\u9009\uff0c\u76f8\u5f53\u4e8e docker run\u91cc\u7684 --network\nports: # \u53ef\u9009\uff0c\u76f8\u5f53\u4e8e docker run\u91cc\u7684 -p\nservicename2:\n\nvolumes: # \u53ef\u9009\uff0c\u76f8\u5f53\u4e8e docker volume create\n\nnetworks: # \u53ef\u9009\uff0c\u76f8\u5f53\u4e8e docker network create\n</code></pre> <p>\u4e00\u4e2a\u4f8b\u5b50</p> <pre><code># \u539f\u6765\u9700\u8981\u7684\u4e09\u4e2a\u6b65\u9aa4 \n## prepare image\ndocker image pull redis\ndocker image build -t flask-demo .\n\n## create network\ndocker network create -d bridge demo-network\n\n## create container\ndocker container run -d --name redis-server --network demo-network redis\ndocker container run -d --network demo-network --name flask-demo --env REDIS_HOST=redis-server -p 5000:5000 flask-demo\n</code></pre> <pre><code># \u4fee\u6539\u6210docker-compose.yml\nversion: \"3.8\"\n\nservices:\n  flask-demo:\n    image: flask-demo:latest\n    environment:\n      - REDIS_HOST=redis-server\n    networks:\n      - demo-network\n    ports:\n      - 8080:5000\n\n  redis-server:\n    image: redis:latest\n    networks:\n     - demo-network\n\nnetworks:\n  demo-network:\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2_5","title":"\u2461\u57fa\u672c\u547d\u4ee4","text":"\u64cd\u4f5c \u547d\u4ee4 \u8bf4\u660e \u524d\u53f0\u542f\u52a8 docker-compose up \u9700\u8981\u5728\u5f53\u524d\u7684yaml\u7684\u8def\u5f84\u4e0b\uff0c\u4e0d\u7136\u8981\u901a\u8fc7-f\u6765\u6307\u5b9a\u5bf9\u5e94\u6587\u4ef6\u8def\u5f84 \u540e\u53f0\u542f\u52a8 docker-compose up -d \u652f\u6301\u7684\u6587\u4ef6(Supported filenames): docker-compose.yml, docker-compose.yaml, compose.yml, compose.yaml \u540e\u53f0\u60c5\u51b5\u4e0b\u67e5\u770b\u65e5\u5fd7 docker-compose logs \u6301\u7eed\u67e5\u770b docker-compose logs -f \u67e5\u770b docker-compose ps \u505c\u6b62 docker-compose stop \u5220\u9664 docker-compose rm \u63d0\u524d\u62c9\u53d6\u955c\u50cf docker-compose pull"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3docker-compose","title":"\u2462docker-compose\u955c\u50cf\u6784\u5efa\u548c\u62c9\u53d6","text":"<pre><code># \u4ece\u672c\u5730\u6765build\u955c\u50cf\n# \u4fee\u6539\u6210docker-compose.yml\nversion: \"3.8\"\n\nservices:\nflask-demo:\nbuild:\ncontext: ./flask\ndockerfile: Dockerfile\nimage: flask-demo:latest\nenvironment:\n- REDIS_HOST=redis-server\nnetworks:\n- demo-network\nports:\n- 8080:5000\n\nredis-server:\nimage: redis:latest\nnetworks:\n- demo-network\n\nnetworks:\ndemo-network:\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4docker-compose","title":"\u2463docker-compose\u670d\u52a1\u66f4\u65b0","text":"<ol> <li>\u5982\u679c\u9700\u8981docker-compose\u4e2d\u9700\u8981\u7684build\u7684\u90e8\u5206\u6709\u4fee\u6539\u53ef\u4ee5\u901a\u8fc7\u6267\u884c<code>docker-compose up -d --build</code> \u6765\u81ea\u52a8build\u5df2\u7ecf\u4fee\u6539\u7684\u90e8\u5206\u6765\u66f4\u65b0\u670d\u52a1</li> <li>\u5982\u679c\u6709\u4fee\u6539\u4e00\u4e9b\u914d\u7f6e\u53ef\u4ee5\u901a\u8fc7\u6267\u884c<code>docker-compose restart</code>\u6765\u91cd\u542f\u5bb9\u5668</li> <li>\u5982\u679c\u6709\u4e9b\u670d\u52a1\u5df2\u7ecf\u5728docker-compose\u4e2d\u6ca1\u6709\u4e86\u53ef\u4ee5\u901a\u8fc7\u6267\u884c <code>docker-compose remove-orphans</code>\u6765\u5220\u9664\u6ca1\u7528\u7684\u5bb9\u5668</li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4compose","title":"4.compose\u7f51\u7edc","text":"<p>\u5355\u673a\u7684docker-compose\u9ed8\u8ba4driver\u662fbridge\u7f51\u7edc</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#5_1","title":"5.\u6c34\u5e73\u6269\u5c55\u548c\u8d1f\u8f7d\u5747\u8861","text":"<pre><code>docker-compose up -d --scale services_name=N\n</code></pre> <p>\u6c34\u5e73\u6269\u5c55\u67d0\u4e2a\u670d\u52a1\u540edocker-compose\u4f1a\u81ea\u52a8\u505a\u8d1f\u8f7d\u5747\u8861</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#6_1","title":"6.\u73af\u5883\u53d8\u91cf","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1environment","title":"\u2460\u901a\u8fc7environment\u6765\u8bbe\u5b9a","text":"<pre><code>version: \"3.8\"\n\nservices:\n  flask:\n    build:\n      context: ./flask\n      dockerfile: Dockerfile\n    image: flask-demo:latest\n    environment:\n      - REDIS_HOST=redis-server\n      - REDIS_PASS=${REDIS_PASSWORD}\nnetworks:\n      - backend\n      - frontend\n\n  redis-server:\n    image: redis:latest\n    command: redis-server --requirepass ${REDIS_PASSWORD}\nnetworks:\n      - backend\n\n  nginx:\n    image: nginx:stable-alpine\n    ports:\n      - 8000:80\n    depends_on:\n      - flask\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/conf.d/default.conf:ro\n      - ./var/log/nginx:/var/log/nginx\n    networks:\n      - frontend\n\nnetworks:\n  backend:\n  frontend:\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2env_file","title":"\u2461\u901a\u8fc7env_file\u6765\u4f20\u5165","text":"<pre><code># .env\u6587\u4ef6\u5185\u5bb9\nREDIS_PASSWORD=ABC123\n\n# \u7136\u540e\u901a\u8fc7\u547d\u4ee4\u884c\u6267\u884c\ndocker-compose --env-file ./.env up(\u6216\u8005config\u6765\u914d\u7f6e)\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#7","title":"7.\u670d\u52a1\u4f9d\u8d56\u4e0e\u5065\u5eb7\u68c0\u67e5","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1_10","title":"\u2460\u670d\u52a1\u4f9d\u8d56","text":"<p>\u6709\u4e9b\u670d\u52a1\u4e4b\u95f4\u6709\u76f8\u4e92\u4f9d\u8d56\u7684\u542f\u52a8\u987a\u5e8f\u5173\u7cfb\uff0c\u53ef\u4ee5\u901a\u8fc7 <code>depends_on</code>\u5173\u952e\u5b57\u6765\u8bbe\u7f6e</p> <pre><code>version: \"3.8\"\n\nservices:\nflask:\nbuild:\ncontext: ./flask\ndockerfile: Dockerfile\nimage: flask-demo:latest\nenvironment:\n- REDIS_HOST=redis-server\n- REDIS_PASS=${REDIS_PASSWORD}\nhealthcheck:\ntest: [\"CMD\", \"curl\", \"-f\", \"http://localhost:5000\"]\ninterval: 30s\ntimeout: 3s\nretries: 3\nstart_period: 40s\ndepends_on:\nredis-server:\ncondition: service_healthy\nnetworks:\n- backend\n- frontend\n\nredis-server:\nimage: redis:latest\ncommand: redis-server --requirepass ${REDIS_PASSWORD}\nhealthcheck:\ntest: [\"CMD\", \"redis-cli\", \"ping\"]\ninterval: 1s\ntimeout: 3s\nretries: 30\nnetworks:\n- backend\n\nnginx:\nimage: nginx:stable-alpine\nports:\n- 8000:80\ndepends_on:\nflask:\ncondition: service_healthy\nvolumes:\n- ./nginx/nginx.conf:/etc/nginx/conf.d/default.conf:ro\n- ./var/log/nginx:/var/log/nginx\nnetworks:\n- frontend\n\nnetworks:\nbackend:\nfrontend:\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2_6","title":"\u2461\u5065\u5eb7\u68c0\u67e5","text":"<p>Dockerfile healthcheck:Dockerfile reference | Docker Documentation</p> <p>Docker compose healthcheck:Compose file version 3 reference | Docker Documentation</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#docker-swarm","title":"\u516b\u3001docker-swarm","text":"<p>\u751f\u4ea7\u73af\u5883\u4e2d\u9700\u8981\u9ad8\u53ef\u9760\u6027\uff0cdocker-compose\u5982\u679c\u51fa\u73b0\u5355\u8282\u70b9\u6545\u969c\u5c31\u51c9\u51c9</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#1swarm","title":"1.swarm\u57fa\u672c\u64cd\u4f5c","text":"<ol> <li>\u67e5\u770b\u670d\u52a1: <code>docker service ls</code></li> <li>\u67e5\u770b\u670d\u52a1\u7684\u5bb9\u5668\u4fe1\u606f: <code>docker service ps 5ev</code></li> <li>\u521b\u5efa\u4e00\u4e2anginx\u7684\u670d\u52a1: <code>docker service create nginx:latest</code></li> <li>\u670d\u52a1\u6269\u5c55: <code>docker service update 5ev --replicas 3</code> (\u8fd9\u91ccswarm\u4f1a\u81ea\u52a8\u542f\u52a8\u65b0\u7684\u6302\u6389\u7684\u5bb9\u5668)</li> <li>\u5220\u9664\u670d\u52a1: <code>docker service rm 5ev</code></li> <li>\u67e5\u770b\u65e5\u5fd7: <code>docker service 5ev logs  \u6301\u7eed\u67e5\u770bdocker service 5ev logs -f</code></li> <li>\u67e5\u770b\u8282\u70b9\u57fa\u672c\u4fe1\u606f: <code>docker node ls</code></li> <li>\u67e5\u770b\u673a\u5668\u7684\u8be6\u7ec6\u4fe1\u606f: <code>docker inspect 5ev</code></li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#2overlay","title":"2.overlay\u7f51\u7edc","text":"<p>swarm\u7684\u7f51\u7edc\u91cd\u8981\u7684\u4e24\u70b9</p> <ul> <li>\u7b2c\u4e00\u662f\u5916\u90e8\u5982\u4f55\u8bbf\u95ee\u90e8\u7f72\u8fd0\u884c\u5728swarm\u96c6\u7fa4\u5185\u7684\u670d\u52a1\uff0c\u53ef\u4ee5\u79f0\u4e4b\u4e3a <code>\u5165\u65b9\u5411</code> \u6d41\u91cf\uff0c\u5728swarm\u91cc\u6211\u4eec\u901a\u8fc7 <code>ingress</code> \u6765\u89e3\u51b3</li> <li>\u7b2c\u4e8c\u662f\u90e8\u7f72\u5728swarm\u96c6\u7fa4\u91cc\u7684\u670d\u52a1\uff0c\u5982\u4f55\u5bf9\u5916\u8fdb\u884c\u8bbf\u95ee\uff0c\u8fd9\u90e8\u5206\u53c8\u5206\u4e3a\u4e24\u5757:</li> <li>\u7b2c\u4e00\uff0c<code>\u4e1c\u897f\u5411\u6d41\u91cf</code> \uff0c\u4e5f\u5c31\u662f\u4e0d\u540cswarm\u8282\u70b9\u4e0a\u7684\u5bb9\u5668\u4e4b\u95f4\u5982\u4f55\u901a\u4fe1\uff0cswarm\u901a\u8fc7 <code>overlay</code> \u7f51\u7edc\u6765\u89e3\u51b3\uff1b</li> <li>\u7b2c\u4e8c\uff0c<code>\u5357\u5317\u5411\u6d41\u91cf</code> \uff0c\u4e5f\u5c31\u662fswarm\u96c6\u7fa4\u91cc\u7684\u5bb9\u5668\u5982\u4f55\u5bf9\u5916\u8bbf\u95ee\uff0c\u6bd4\u5982\u4e92\u8054\u7f51\uff0c\u8fd9\u4e2a\u662f <code>Linux bridge + iptables NAT</code> \u6765\u89e3\u51b3\u7684</li> </ul> <p>\u7c7b\u4f3c\u4e8ebridge\u8fde\u63a5\uff0c\u89e3\u51b3\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u7684\u5bb9\u5668\u95f4\u6570\u636e\u4e92\u8054\u7684\u7f51\u7edc\u95ee\u9898</p> <p></p> <ol> <li>\u521b\u5efaoverlay\u7f51\u7edc: <code>docker network create -d overlay mynet</code></li> <li>\u521b\u5efa\u670d\u52a1: <code>docker service create --network mynet --name test --replicas 2 busybox ping 8.8.8.8</code></li> </ol>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#3ingress","title":"3.ingress\u7f51\u7edc","text":"<p>docker swarm\u7684ingress\u7f51\u7edc\u53c8\u53eb <code>Ingress Routing Mesh</code></p> <p>\u4e3b\u8981\u662f\u4e3a\u4e86\u5b9e\u73b0\u628aservice\u7684\u670d\u52a1\u7aef\u53e3\u5bf9\u5916\u53d1\u5e03\u51fa\u53bb\uff0c\u8ba9\u5176\u80fd\u591f\u88ab\u5916\u90e8\u7f51\u7edc\u8bbf\u95ee\u5230\u3002</p> <p>ingress routing mesh\u662fdocker swarm\u7f51\u7edc\u91cc\u6700\u590d\u6742\u7684\u4e00\u90e8\u5206\u5185\u5bb9\uff0c\u5305\u62ec\u591a\u65b9\u9762\u7684\u5185\u5bb9\uff1a</p> <ul> <li>iptables\u7684 Destination NAT\u6d41\u91cf\u8f6c\u53d1</li> <li>Linux bridge, network namespace</li> <li>\u4f7f\u7528IPVS\u6280\u672f\u505a\u8d1f\u8f7d\u5747\u8861</li> <li>\u5305\u62ec\u5bb9\u5668\u95f4\u7684\u901a\u4fe1\uff08overlay\uff09\u548c\u5165\u65b9\u5411\u6d41\u91cf\u7684\u7aef\u53e3\u8f6c\u53d1</li> </ul>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#4service","title":"4.\u90e8\u7f72\u591aservice\u5e94\u7528","text":"<p>docker-compose\u591a\u7528\u4e8e\u5f00\u53d1\u6d4b\u8bd5\u73af\u5883\uff0c\u53ef\u4ee5build\u955c\u50cf\uff0cswarm\u591a\u7528\u4e8e\u751f\u4ea7\u73af\u5883\uff0c\u4e0d\u80fdbuild\u955c\u50cf\uff0c\u901a\u8fc7stack\u6765\u542f\u52a8\u670d\u52a1</p> <p>\u901a\u8fc7stack\u542f\u52a8\u670d\u52a1</p> <p><code>env REDIS_PASSWORD=ABC123 docker stack deploy --compose-file docker-compose.yml flask-demo</code></p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#5swarmsecretpass","title":"5.\u5728swarm\u4e2d\u4f7f\u7528secret(pass)","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#6swarmvolumepass","title":"6.\u5728swarm\u4f7f\u7528\u672c\u5730volume(pass)","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/docker%E7%AC%94%E8%AE%B0/#docker_2","title":"\u4e5d\u3001docker\u7684\u591a\u67b6\u6784\u652f\u6301","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/ubuntu%E5%AE%89%E8%A3%85%E7%9A%84%E5%9D%91/","title":"ubuntu\u5b89\u88c5\u7684\u5751","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/ubuntu%E5%AE%89%E8%A3%85%E7%9A%84%E5%9D%91/#_1","title":"ubuntu\u5b89\u88c5\u7684\u5751","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/ubuntu%E5%AE%89%E8%A3%85%E7%9A%84%E5%9D%91/#_2","title":"\u4e00\uff0c\u955c\u50cf\u7f51\u7ad9","text":"<p>https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/ubuntu%E5%AE%89%E8%A3%85%E7%9A%84%E5%9D%91/#_3","title":"\u4e8c\uff0c\u5b89\u88c5\u540e\u6700\u597d\u5148\u5b89\u88c5\u7684\u5de5\u5177","text":"<pre><code>sudo apt-get install vim\nsudo apt-get install net-tools\nsudo apt-get install lshw\nsudo apt update\nsudo apt upgrade\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/ubuntu%E5%AE%89%E8%A3%85%E7%9A%84%E5%9D%91/#nvidia-smi","title":"\u4e09\uff0cnvidia-smi\u76f8\u5173\u7684\u5751","text":"<p>\u4e0b\u9762\u662fnvidia-driver\u548ccuda\u7248\u672c\u7684\u5bf9\u5e94\u8868\uff0c\u4e00\u822c\u5b89\u88c5\u65b0\u7684nvidia-driver\u5c31\u884c</p> <p>https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/ubuntu%E5%AE%89%E8%A3%85%E7%9A%84%E5%9D%91/#1","title":"1.\u5b89\u88c5\u65b9\u6cd5","text":"<p>\u5148\u5b89\u88c5nvidia driver\u7136\u540e\u518d\u5206\u522b\u5b89\u88c5cuda\u8ddfcudnn\uff0c\u5b89\u88c5\u53ef\u4ee5\u5728\u8f6f\u4ef6\u66f4\u65b0\u5668\u91cc\u9762\u81ea\u52a8\u5b89\u88c5\uff0c\u5982\u679c\u51fa\u73b0\u4e86nvidia-smi\u7528\u4e0d\u4e86\u7684\u9519\u8bef\uff0c\u5c1d\u8bd5\u4e0bdkms\u91cd\u88c5\u4e00\u6b21\uff0c\u8981\u662f\u8fd8\u662f\u4e0d\u884c\u5148\u66f4\u65b0\u5305\u7d22\u5f15\u548c\u5347\u7ea7\u5305\u518d\u91cd\u542f\uff0c\u91cd\u542f\u540e\u7f51\u7edc\u5982\u679c\u6ca1\u4e86\u53c2\u8003\u7b2c\u4e8c\u70b9\u6062\u590d</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/ubuntu%E5%AE%89%E8%A3%85%E7%9A%84%E5%9D%91/#2","title":"2.\u6062\u590d\u6709\u7ebf\u7f51\u7edc","text":"<p>\u53c2\u8003\u6587\u7ae0\uff1ahttps://zhuanlan.zhihu.com/p/416061504</p> <pre><code>sudo touch /etc/NetworkManager/conf.d/10-globally-managed-devices.conf\nsudo systemctl restart NetworkManager\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/","title":"\u5355\u673a\u591a\u670d\u52a1","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#_1","title":"\u5355\u673a\u591a\u670d\u52a1","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#_2","title":"\u4e00\u3001\u591a\u4e2a\u540c\u6837\u670d\u52a1","text":"<p>\u4f5c\u7528\uff1a\u63d0\u9ad8\u670d\u52a1\u5668\u7684\u5e76\u53d1\u80fd\u529b</p> <p>\u4f18\u70b9\uff1a\u76f8\u6bd4\u4e8edocker-swarm\u7684\u6a2a\u5411\u6269\u5c55\u8282\u7701\u4e86\u73af\u5883\u5b89\u88c5\u7684\u7a7a\u95f4\u80fd\u5145\u5206\u5229\u7528\u4e00\u4e2a\u673a\u5668(\u5bb9\u5668)\u4e2d\u7684\u73af\u5883</p> <p>\u7f3a\u70b9\uff1a\u76f8\u6bd4\u4e8e\u5355\u4e2a\u670d\u52a1\u66f4\u5360\u7528\u5185\u5b58\uff0c\u4e00\u4e2a\u673a\u5668(\u5bb9\u5668)\u6302\u5927\u5bb6\u90fd\u6302</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#1gunicorn","title":"1.gunicorn","text":"<p>Running Gunicorn \u2014 Gunicorn 20.1.0 documentation</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#1","title":"\u2460\u7b80\u5355\u914d\u7f6e","text":"<pre><code># config.py\u6587\u4ef6\nreload = True\ndaemon = False\nbind = '0.0.0.0:5000'\nworker_class = 'sanic.worker.GunicornWorker'\nloglevel = 'info'\naccesslog = 'access.log'\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\"'\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#2","title":"\u2461\u542f\u52a8\u6307\u4ee4","text":"<p><code>gunicorn -k gevent -w 4 --config config.py  python\u7a0b\u5e8f\u811a\u672c:app --access-logfile '-'</code></p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#2_1","title":"2.\u6ce8\u610f\u7684\u70b9","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#1_1","title":"\u2460\u5b89\u88c5\u73af\u5883","text":"<pre><code># requirements.txt\ngevent\ngunicorn\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#2_2","title":"\u2461\u5bf9\u5e94\u65e5\u5fd7","text":"<pre><code># \u4e3b\u7a0b\u5e8f\u4e2d\u7684\u914d\u7f6e\nimport logging.config\nfrom logger_config import LOGGING_CONFIG\nlogging.config.dictConfig(LOGGING_CONFIG)\n\n\"\"\"\n\u8fd9\u91cc\u662fflask\u670d\u52a1\u4ee3\u7801\n\"\"\"\n\n\ngunicorn_logger = logging.getLogger('gunicorn.info')\napp.logger.handlers = gunicorn_logger.handlers\napp.logger.setLevel(gunicorn_logger.level)\n</code></pre> <pre><code># logger_config\u4e2d\u7684\u5e38\u7528\u914d\u7f6e\nLOGGING_CONFIG = {\n    \"version\": 1,\n    \"formatters\": {\n        \"default\": {\n            'format': '%(asctime)s %(filename)s %(lineno)s %(levelname)s %(message)s',\n        },\n        \"plain\": {\n            \"format\": \"%(message)s\",\n        },\n    },\n    \"handlers\": {\n        \"console\": {\n            \"class\": \"logging.StreamHandler\",\n            \"level\": \"DEBUG\",\n            \"formatter\": \"default\",\n        },\n        \"console_plain\": {\n            \"class\": \"logging.StreamHandler\",\n            \"level\": \"INFO\",\n            \"formatter\": \"plain\"\n        },\n        \"file\": {\n            \"class\": \"logging.FileHandler\",\n            \"level\": \"INFO\",\n            \"filename\": \"./log.txt\",\n            \"formatter\": \"default\",\n        }\n    },\n    \"loggers\": {\n        \"debug_logger\": {\n            \"handlers\": [\"console\"],\n            \"level\": \"DEBUG\",\n            \"propagate\": False,\n        },\n        \"online_logger\": {\n            \"handlers\": [\"console\"],\n            \"level\": \"INFO\",\n            \"propagate\": False,\n        },\n        \"console_plain_logger\": {\n            \"handlers\": [\"console_plain\"],\n            \"level\": \"DEBUG\",\n            \"propagate\": False,\n        },\n        \"file_logger\": {\n            \"handlers\": [\"file\"],\n            \"level\": \"INFO\",\n            \"propagate\": False,\n        }\n    },\n    \"root\": {\"level\": \"DEBUG\", \"handlers\": [\"console\"]},\n}\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#_3","title":"\u4e8c\u3001\u591a\u4e2a\u4e0d\u540c\u670d\u52a1","text":"<p>\u4f5c\u7528\uff1a\u65b9\u4fbf\u90e8\u7f72\u548c\u534f\u8c03\u670d\u52a1\u7684\u7f16\u6392</p> <p>\u4f18\u70b9\uff1a\u76f8\u6bd4docker-compose\u7684\u65b9\u5f0f\u542f\u52a8\u591a\u4e2a\u670d\u52a1\u80fd\u66f4\u597d\u7684\u5229\u7528\u540c\u4e00\u4e2a\u673a\u5668\u7684\u8d44\u6e90\uff0c\u76f8\u6bd4shell\u6709\u5f88\u591a\u53ef\u9760\u7684\u542f\u52a8\u91cd\u542f\u673a\u5236\u4f7f\u7528</p> <p>\u7f3a\u70b9\uff1a\u4f7f\u7528\u72ec\u7acb\u673a\u5668\uff0c\u673a\u5668\u6302\u670d\u52a1\u90fd\u6302\uff0c</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#1supervisord","title":"1.supervisord","text":"<p>Configuration File \u2014 Supervisor 4.2.4 documentation (supervisord.org)</p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#1_2","title":"\u2460\u7b80\u5355\u914d\u7f6e","text":"<pre><code># supervisord.conf\n; supervisor config file\n\n[unix_http_server]\nfile=/tmp/supervisor.sock   ; (the path to the socket file)\nchmod=0700                       ; sockef file mode (default 0700)\n\n[supervisord]\nnodaemon=true\nlogfile=/tmp/supervisord.log ; (main log file;default $CWD/supervisord.log)\npidfile=/tmp/supervisord.pid ; (supervisord pidfile;default supervisord.pid)\nchildlogdir=/tmp           ; ('AUTO' child log dir, default $TEMP)\n\n; the below section must remain in the config file for RPC\n; (supervisorctl/web interface) to work, additional interfaces may be\n; added by defining them in separate rpcinterface: sections\n[rpcinterface:supervisor]\nsupervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface\n\n\n[supervisorctl]\nserverurl=unix:///var/run/supervisor.sock ; use a unix:// URL  for a unix socket\n\n; The [include] section can just contain the \"files\" setting.  This\n; setting can list multiple files (separated by whitespace or\n; newlines).  It can also contain wildcards.  The filenames are\n; interpreted as relative to this file.  Included files *cannot*\n; include files themselves.\n\n\n[program:progrm_name1]\n# \u542f\u52a8\u547d\u4ee4\u5165\u53e3\ncommand=\u542f\u52a8\u547d\u4ee41\n\n# \u547d\u4ee4\u7a0b\u5e8f\u6240\u5728\u76ee\u5f55(\u8981\u7528\u7edd\u5bf9\u8def\u5f84)\ndirectory=/app  #\u8fd0\u884c\u547d\u4ee4\u7684\u7528\u6237\u540d\n# user=root\n\nautostart=true\nautorestart=true\n#\u65e5\u5fd7\u5730\u5740\nredirect_stderr = true\n#stderr_logfile=/var/log/%(program_name)s.log\n#stdout_logfile=/var/log/%(program_name)s.log\nloglevel=info\nstdout_logfile=/dev/stdout\nstdout_logfile_maxbytes=0\n\n[program:progrm_name2]\n# \u542f\u52a8\u547d\u4ee4\u5165\u53e3\ncommand=\u542f\u52a8\u547d\u4ee42\n\n# \u547d\u4ee4\u7a0b\u5e8f\u6240\u5728\u76ee\u5f55(\u8981\u7528\u7edd\u5bf9\u8def\u5f84)\ndirectory=/app\n\nautostart=true\nautorestart=true\n#\u65e5\u5fd7\u5730\u5740\nredirect_stderr = true\n#stderr_logfile=/var/log/%(program_name)s.log\n#stdout_logfile=/var/log/%(program_name)s.log\nloglevel=info\nstdout_logfile=/dev/stdout\nstdout_logfile_maxbytes=0\n</code></pre>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#2_3","title":"\u2461\u542f\u52a8\u6307\u4ee4","text":"<p><code>supervisord -c  supervisord.conf</code></p>"},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#2_4","title":"2.\u6ce8\u610f\u7684\u70b9","text":""},{"location":"%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4/%E5%8D%95%E6%9C%BA%E5%A4%9A%E6%9C%8D%E5%8A%A1/#1_3","title":"\u2460\u5b89\u88c5\u73af\u5883","text":"<pre><code>supervisor(==4.2.4)\n</code></pre>"}]}